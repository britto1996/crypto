"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{8030:function(t,e,i){i.d(e,{Z:function(){return o}});var s=i(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter((t,e,i)=>!!t&&i.indexOf(t)===e).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s.forwardRef)((t,e)=>{let{color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:a="",children:u,iconNode:c,...d}=t;return(0,s.createElement)("svg",{ref:e,...h,width:n,height:n,stroke:i,strokeWidth:o?24*Number(l)/Number(n):l,className:r("lucide",a),...d},[...c.map(t=>{let[e,i]=t;return(0,s.createElement)(e,i)}),...Array.isArray(u)?u:[u]])}),o=(t,e)=>{let i=(0,s.forwardRef)((i,h)=>{let{className:o,...a}=i;return(0,s.createElement)(l,{ref:h,iconNode:e,className:r("lucide-".concat(n(t)),o),...a})});return i.displayName="".concat(t),i}},4207:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},6900:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},8711:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},6600:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},6780:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3231:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},1568:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},4129:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},5574:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},4817:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5737:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},4697:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5430:function(t,e,i){i.d(e,{Z:function(){return s}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(8030).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6246:function(t,e,i){/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=i(2265),n="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},r=s.useState,h=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function a(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!n(t,i)}catch(t){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var i=e(),s=r({inst:{value:i,getSnapshot:e}}),n=s[0].inst,u=s[1];return l(function(){n.value=i,n.getSnapshot=e,a(n)&&u({inst:n})},[t,i,e]),h(function(){return a(n)&&u({inst:n}),t(function(){a(n)&&u({inst:n})})},[t]),o(i),i};e.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u},4453:function(t,e,i){/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=i(2265),n=i(554),r="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},h=n.useSyncExternalStore,l=s.useRef,o=s.useEffect,a=s.useMemo,u=s.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,i,s,n){var c=l(null);if(null===c.current){var d={hasValue:!1,value:null};c.current=d}else d=c.current;var f=h(t,(c=a(function(){function t(t){if(!o){if(o=!0,h=t,t=s(t),void 0!==n&&d.hasValue){var e=d.value;if(n(e,t))return l=e}return l=t}if(e=l,r(h,t))return e;var i=s(t);return void 0!==n&&n(e,i)?(h=t,e):(h=t,l=i)}var h,l,o=!1,a=void 0===i?null:i;return[function(){return t(e())},null===a?void 0:function(){return t(a())}]},[e,i,s,n]))[0],c[1]);return o(function(){d.hasValue=!0,d.value=f},[f]),u(f),f}},554:function(t,e,i){t.exports=i(6246)},5006:function(t,e,i){t.exports=i(4453)},4446:function(t,e,i){i.d(e,{M:function(){return g}});var s=i(7437),n=i(2265),r=i(5050),h=i(458),l=i(7797),o=i(9791);class a extends n.Component{getSnapshotBeforeUpdate(t){let e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){let t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(t){let{children:e,isPresent:i}=t,r=(0,n.useId)(),h=(0,n.useRef)(null),l=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:u}=(0,n.useContext)(o._);return(0,n.useInsertionEffect)(()=>{let{width:t,height:e,top:s,left:n}=l.current;if(i||!h.current||!t||!e)return;h.current.dataset.motionPopId=r;let o=document.createElement("style");return u&&(o.nonce=u),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[i]),(0,s.jsx)(a,{isPresent:i,childRef:h,sizeRef:l,children:n.cloneElement(e,{ref:h})})}let c=t=>{let{children:e,initial:i,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:c,mode:f}=t,p=(0,h.h)(d),m=(0,n.useId)(),v=(0,n.useCallback)(t=>{for(let e of(p.set(t,!0),p.values()))if(!e)return;o&&o()},[p,o]),g=(0,n.useMemo)(()=>({id:m,initial:i,isPresent:r,custom:a,onExitComplete:v,register:t=>(p.set(t,!1),()=>p.delete(t))}),c?[Math.random(),v]:[r,v]);return(0,n.useMemo)(()=>{p.forEach((t,e)=>p.set(e,!1))},[r]),n.useEffect(()=>{r||p.size||!o||o()},[r]),"popLayout"===f&&(e=(0,s.jsx)(u,{isPresent:r,children:e})),(0,s.jsx)(l.O.Provider,{value:g,children:e})};function d(){return new Map}var f=i(3241);let p=t=>t.key||"";function m(t){let e=[];return n.Children.forEach(t,t=>{(0,n.isValidElement)(t)&&e.push(t)}),e}var v=i(9033);let g=t=>{let{children:e,custom:i,initial:l=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:u="sync",propagate:d=!1}=t,[g,y]=(0,f.oO)(d),b=(0,n.useMemo)(()=>m(e),[e]),w=d&&!g?[]:b.map(p),x=(0,n.useRef)(!0),S=(0,n.useRef)(b),M=(0,h.h)(()=>new Map),[C,E]=(0,n.useState)(b),[T,P]=(0,n.useState)(b);(0,v.L)(()=>{x.current=!1,S.current=b;for(let t=0;t<T.length;t++){let e=p(T[t]);w.includes(e)?M.delete(e):!0!==M.get(e)&&M.set(e,!1)}},[T,w.length,w.join("-")]);let _=[];if(b!==C){let t=[...b];for(let e=0;e<T.length;e++){let i=T[e],s=p(i);w.includes(s)||(t.splice(e,0,i),_.push(i))}"wait"===u&&_.length&&(t=_),P(m(t)),E(b);return}let{forceRender:k}=(0,n.useContext)(r.p);return(0,s.jsx)(s.Fragment,{children:T.map(t=>{let e=p(t),n=(!d||!!g)&&(b===T||w.includes(e));return(0,s.jsx)(c,{isPresent:n,initial:(!x.current||!!l)&&void 0,custom:n?void 0:i,presenceAffectsLayout:a,mode:u,onExitComplete:n?void 0:()=>{if(!M.has(e))return;M.set(e,!0);let t=!0;M.forEach(e=>{e||(t=!1)}),t&&(null==k||k(),P(S.current),d&&(null==y||y()),o&&o())},children:t},e)})})}},3241:function(t,e,i){i.d(e,{oO:function(){return r}});var s=i(2265),n=i(7797);function r(t=!0){let e=(0,s.useContext)(n.O);if(null===e)return[!0,null];let{isPresent:i,onExitComplete:r,register:h}=e,l=(0,s.useId)();(0,s.useEffect)(()=>{t&&h(l)},[t]);let o=(0,s.useCallback)(()=>t&&r&&r(l),[l,r,t]);return!i&&r?[!1,o]:[!0]}},5050:function(t,e,i){i.d(e,{p:function(){return s}});let s=(0,i(2265).createContext)({})},9791:function(t,e,i){i.d(e,{_:function(){return s}});let s=(0,i(2265).createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"})},7797:function(t,e,i){i.d(e,{O:function(){return s}});let s=(0,i(2265).createContext)(null)},1513:function(t,e,i){let s;function n(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}i.d(e,{E:function(){return rv}});let r=t=>Array.isArray(t);function h(t,e){if(!Array.isArray(e))return!1;let i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}function l(t){return"string"==typeof t||Array.isArray(t)}function o(t){let e=[{},{}];return null==t||t.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function a(t,e,i,s){if("function"==typeof e){let[n,r]=o(s);e=e(void 0!==i?i:t.custom,n,r)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){let[n,r]=o(s);e=e(void 0!==i?i:t.custom,n,r)}return e}function u(t,e,i){let s=t.getProps();return a(s,e,void 0!==i?i:s.custom,t)}let c=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d=["initial",...c];function f(t){let e;return()=>(void 0===e&&(e=t()),e)}let p=f(()=>void 0!==window.ScrollTimeline);class m{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){let i=this.animations.map(i=>p()&&i.attachTimeline?i.attachTimeline(t):"function"==typeof e?e(i):void 0);return()=>{i.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class v extends m{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function g(t,e){return t?t[e]||t.default||t:void 0}function y(t){let e=0,i=t.next(e);for(;!i.done&&e<2e4;)e+=50,i=t.next(e);return e>=2e4?1/0:e}function b(t){return"function"==typeof t}function w(t,e){t.timeline=e,t.onfinish=null}let x=t=>Array.isArray(t)&&"number"==typeof t[0],S={linearEasing:void 0},M=function(t,e){let i=f(t);return()=>{var t;return null!==(t=S[e])&&void 0!==t?t:i()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),C=(t,e,i)=>{let s=e-t;return 0===s?1:(i-t)/s},E=(t,e,i=10)=>{let s="",n=Math.max(Math.round(e/i),2);for(let e=0;e<n;e++)s+=t(C(0,n-1,e))+", ";return`linear(${s.substring(0,s.length-2)})`},T=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`,P={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:T([0,.65,.55,1]),circOut:T([.55,0,1,.45]),backIn:T([.31,.01,.66,-.59]),backOut:T([.33,1.53,.69,.99])},_={x:!1,y:!1};function k(t,e){let i=function(t,e,i){if(t instanceof Element)return[t];if("string"==typeof t){let e=document.querySelectorAll(t);return e?Array.from(e):[]}return Array.from(t)}(t),s=new AbortController;return[i,{passive:!0,...e,signal:s.signal},()=>s.abort()]}function z(t){return e=>{"touch"===e.pointerType||_.x||_.y||t(e)}}let V=(t,e)=>!!e&&(t===e||V(t,e.parentElement)),L=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,R=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),D=new WeakSet;function A(t){return e=>{"Enter"===e.key&&t(e)}}function N(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}let $=(t,e)=>{let i=t.currentTarget;if(!i)return;let s=A(()=>{if(D.has(i))return;N(i,"down");let t=A(()=>{N(i,"up")});i.addEventListener("keyup",t,e),i.addEventListener("blur",()=>N(i,"cancel"),e)});i.addEventListener("keydown",s,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),e)};function O(t){return L(t)&&!(_.x||_.y)}let B=t=>1e3*t,j=t=>t/1e3,W=t=>t,F=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],I=new Set(F),U=new Set(["width","height","top","left","right","bottom",...F]),K=t=>!!(t&&"object"==typeof t&&t.mix&&t.toValue),X=t=>r(t)?t[t.length-1]||0:t,H={skipAnimations:!1,useManualTiming:!1},q=["read","resolveKeyframes","update","preRender","render","postRender"];function G(t,e){let i=!1,s=!0,n={delta:0,timestamp:0,isProcessing:!1},r=()=>i=!0,h=q.reduce((t,e)=>(t[e]=function(t){let e=new Set,i=new Set,s=!1,n=!1,r=new WeakSet,h={delta:0,timestamp:0,isProcessing:!1};function l(e){r.has(e)&&(o.schedule(e),t()),e(h)}let o={schedule:(t,n=!1,h=!1)=>{let l=h&&s?e:i;return n&&r.add(t),l.has(t)||l.add(t),t},cancel:t=>{i.delete(t),r.delete(t)},process:t=>{if(h=t,s){n=!0;return}s=!0,[e,i]=[i,e],e.forEach(l),e.clear(),s=!1,n&&(n=!1,o.process(t))}};return o}(r),t),{}),{read:l,resolveKeyframes:o,update:a,preRender:u,render:c,postRender:d}=h,f=()=>{let r=H.useManualTiming?n.timestamp:performance.now();i=!1,n.delta=s?1e3/60:Math.max(Math.min(r-n.timestamp,40),1),n.timestamp=r,n.isProcessing=!0,l.process(n),o.process(n),a.process(n),u.process(n),c.process(n),d.process(n),n.isProcessing=!1,i&&e&&(s=!1,t(f))},p=()=>{i=!0,s=!0,n.isProcessing||t(f)};return{schedule:q.reduce((t,e)=>{let s=h[e];return t[e]=(t,e=!1,n=!1)=>(i||p(),s.schedule(t,e,n)),t},{}),cancel:t=>{for(let e=0;e<q.length;e++)h[q[e]].cancel(t)},state:n,steps:h}}let{schedule:J,cancel:Y,state:Z,steps:Q}=G("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:W,!0);function tt(){s=void 0}let te={now:()=>(void 0===s&&te.set(Z.isProcessing||H.useManualTiming?Z.timestamp:performance.now()),s),set:t=>{s=t,queueMicrotask(tt)}};function ti(t,e){-1===t.indexOf(e)&&t.push(e)}function ts(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}class tn{constructor(){this.subscriptions=[]}add(t){return ti(this.subscriptions,t),()=>ts(this.subscriptions,t)}notify(t,e,i){let s=this.subscriptions.length;if(s){if(1===s)this.subscriptions[0](t,e,i);else for(let n=0;n<s;n++){let s=this.subscriptions[n];s&&s(t,e,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let tr=t=>!isNaN(parseFloat(t)),th={current:void 0};class tl{constructor(t,e={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{let i=te.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=te.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=tr(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new tn);let i=this.events[t].add(e);return"change"===t?()=>{i(),J.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return th.current&&th.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t;let e=te.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return t=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*t:0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function to(t,e){return new tl(t,e)}let ta=t=>!!(t&&t.getVelocity);function tu(t,e){let i=t.getValue("willChange");if(ta(i)&&i.add)return i.add(e)}let tc=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),td="data-"+tc("framerAppearId"),tf={current:!1},tp=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t;function tm(t,e,i,s){if(t===e&&i===s)return W;let n=e=>(function(t,e,i,s,n){let r,h;let l=0;do(r=tp(h=e+(i-e)/2,s,n)-t)>0?i=h:e=h;while(Math.abs(r)>1e-7&&++l<12);return h})(e,0,1,t,i);return t=>0===t||1===t?t:tp(n(t),e,s)}let tv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tg=t=>e=>1-t(1-e),ty=tm(.33,1.53,.69,.99),tb=tg(ty),tw=tv(tb),tx=t=>(t*=2)<1?.5*tb(t):.5*(2-Math.pow(2,-10*(t-1))),tS=t=>1-Math.sin(Math.acos(t)),tM=tg(tS),tC=tv(tS),tE=t=>/^0[^.\s]+$/u.test(t),tT=(t,e,i)=>i>e?e:i<t?t:i,tP={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},t_={...tP,transform:t=>tT(0,1,t)},tk={...tP,default:1},tz=t=>Math.round(1e5*t)/1e5,tV=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tR=(t,e)=>i=>!!("string"==typeof i&&tL.test(i)&&i.startsWith(t)||e&&null!=i&&Object.prototype.hasOwnProperty.call(i,e)),tD=(t,e,i)=>s=>{if("string"!=typeof s)return s;let[n,r,h,l]=s.match(tV);return{[t]:parseFloat(n),[e]:parseFloat(r),[i]:parseFloat(h),alpha:void 0!==l?parseFloat(l):1}},tA=t=>tT(0,255,t),tN={...tP,transform:t=>Math.round(tA(t))},t$={test:tR("rgb","red"),parse:tD("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:s=1})=>"rgba("+tN.transform(t)+", "+tN.transform(e)+", "+tN.transform(i)+", "+tz(t_.transform(s))+")"},tO={test:tR("#"),parse:function(t){let e="",i="",s="",n="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),s=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),s=t.substring(3,4),n=t.substring(4,5),e+=e,i+=i,s+=s,n+=n),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}},transform:t$.transform},tB=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),tj=tB("deg"),tW=tB("%"),tF=tB("px"),tI=tB("vh"),tU=tB("vw"),tK={...tW,parse:t=>tW.parse(t)/100,transform:t=>tW.transform(100*t)},tX={test:tR("hsl","hue"),parse:tD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:s=1})=>"hsla("+Math.round(t)+", "+tW.transform(tz(e))+", "+tW.transform(tz(i))+", "+tz(t_.transform(s))+")"},tH={test:t=>t$.test(t)||tO.test(t)||tX.test(t),parse:t=>t$.test(t)?t$.parse(t):tX.test(t)?tX.parse(t):tO.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?t$.transform(t):tX.transform(t)},tq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tG="number",tJ="color",tY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tZ(t){let e=t.toString(),i=[],s={color:[],number:[],var:[]},n=[],r=0,h=e.replace(tY,t=>(tH.test(t)?(s.color.push(r),n.push(tJ),i.push(tH.parse(t))):t.startsWith("var(")?(s.var.push(r),n.push("var"),i.push(t)):(s.number.push(r),n.push(tG),i.push(parseFloat(t))),++r,"${}")).split("${}");return{values:i,split:h,indexes:s,types:n}}function tQ(t){return tZ(t).values}function t0(t){let{split:e,types:i}=tZ(t),s=e.length;return t=>{let n="";for(let r=0;r<s;r++)if(n+=e[r],void 0!==t[r]){let e=i[r];e===tG?n+=tz(t[r]):e===tJ?n+=tH.transform(t[r]):n+=t[r]}return n}}let t1=t=>"number"==typeof t?0:t,t2={test:function(t){var e,i;return isNaN(t)&&"string"==typeof t&&((null===(e=t.match(tV))||void 0===e?void 0:e.length)||0)+((null===(i=t.match(tq))||void 0===i?void 0:i.length)||0)>0},parse:tQ,createTransformer:t0,getAnimatableNone:function(t){let e=tQ(t);return t0(t)(e.map(t1))}},t3=new Set(["brightness","contrast","saturate","opacity"]);function t5(t){let[e,i]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[s]=i.match(tV)||[];if(!s)return t;let n=i.replace(s,""),r=t3.has(e)?1:0;return s!==i&&(r*=100),e+"("+r+n+")"}let t6=/\b([a-z-]*)\(.*?\)/gu,t4={...t2,getAnimatableNone:t=>{let e=t.match(t6);return e?e.map(t5).join(" "):t}},t9={...tP,transform:Math.round},t8={borderWidth:tF,borderTopWidth:tF,borderRightWidth:tF,borderBottomWidth:tF,borderLeftWidth:tF,borderRadius:tF,radius:tF,borderTopLeftRadius:tF,borderTopRightRadius:tF,borderBottomRightRadius:tF,borderBottomLeftRadius:tF,width:tF,maxWidth:tF,height:tF,maxHeight:tF,top:tF,right:tF,bottom:tF,left:tF,padding:tF,paddingTop:tF,paddingRight:tF,paddingBottom:tF,paddingLeft:tF,margin:tF,marginTop:tF,marginRight:tF,marginBottom:tF,marginLeft:tF,backgroundPositionX:tF,backgroundPositionY:tF,rotate:tj,rotateX:tj,rotateY:tj,rotateZ:tj,scale:tk,scaleX:tk,scaleY:tk,scaleZ:tk,skew:tj,skewX:tj,skewY:tj,distance:tF,translateX:tF,translateY:tF,translateZ:tF,x:tF,y:tF,z:tF,perspective:tF,transformPerspective:tF,opacity:t_,originX:tK,originY:tK,originZ:tF,zIndex:t9,size:tF,fillOpacity:t_,strokeOpacity:t_,numOctaves:t9},t7={...t8,color:tH,backgroundColor:tH,outlineColor:tH,fill:tH,stroke:tH,borderColor:tH,borderTopColor:tH,borderRightColor:tH,borderBottomColor:tH,borderLeftColor:tH,filter:t4,WebkitFilter:t4},et=t=>t7[t];function ee(t,e){let i=et(t);return i!==t4&&(i=t2),i.getAnimatableNone?i.getAnimatableNone(e):void 0}let ei=new Set(["auto","none","0"]),es=t=>t===tP||t===tF,en=(t,e)=>parseFloat(t.split(", ")[e]),er=(t,e)=>(i,{transform:s})=>{if("none"===s||!s)return 0;let n=s.match(/^matrix3d\((.+)\)$/u);if(n)return en(n[1],e);{let e=s.match(/^matrix\((.+)\)$/u);return e?en(e[1],t):0}},eh=new Set(["x","y","z"]),el=F.filter(t=>!eh.has(t)),eo={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:er(4,13),y:er(5,14)};eo.translateX=eo.x,eo.translateY=eo.y;let ea=new Set,eu=!1,ec=!1;function ed(){if(ec){let t=Array.from(ea).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),i=new Map;e.forEach(t=>{let e=function(t){let e=[];return el.forEach(i=>{let s=t.getValue(i);void 0!==s&&(e.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),e}(t);e.length&&(i.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();let e=i.get(t);e&&e.forEach(([e,i])=>{var s;null===(s=t.getValue(e))||void 0===s||s.set(i)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}ec=!1,eu=!1,ea.forEach(t=>t.complete()),ea.clear()}function ef(){ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ec=!0)})}class ep{constructor(t,e,i,s,n,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=n,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ea.add(this),eu||(eu=!0,J.read(ef),J.resolveKeyframes(ed))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let n=0;n<t.length;n++)if(null===t[n]){if(0===n){let n=null==s?void 0:s.get(),r=t[t.length-1];if(void 0!==n)t[0]=n;else if(i&&e){let s=i.readValue(e,r);null!=s&&(t[0]=s)}void 0===t[0]&&(t[0]=r),s&&void 0===n&&s.set(t[0])}else t[n]=t[n-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ea.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ea.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let em=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ev=t=>e=>"string"==typeof e&&e.startsWith(t),eg=ev("--"),ey=ev("var(--"),eb=t=>!!ey(t)&&ew.test(t.split("/*")[0].trim()),ew=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,eS=t=>e=>e.test(t),eM=[tP,tF,tW,tj,tU,tI,{test:t=>"auto"===t,parse:t=>t}],eC=t=>eM.find(eS(t));class eE extends ep{constructor(t,e,i,s,n){super(t,e,i,s,n,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let i=0;i<t.length;i++){let s=t[i];if("string"==typeof s&&eb(s=s.trim())){let n=function t(e,i,s=1){W(s<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[n,r]=function(t){let e=ex.exec(t);if(!e)return[,];let[,i,s,n]=e;return[`--${null!=i?i:s}`,n]}(e);if(!n)return;let h=window.getComputedStyle(i).getPropertyValue(n);if(h){let t=h.trim();return em(t)?parseFloat(t):t}return eb(r)?t(r,i,s+1):r}(s,e.current);void 0!==n&&(t[i]=n),i===t.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!U.has(i)||2!==t.length)return;let[s,n]=t,r=eC(s),h=eC(n);if(r!==h){if(es(r)&&es(h))for(let e=0;e<t.length;e++){let i=t[e];"string"==typeof i&&(t[e]=parseFloat(i))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:e}=this,i=[];for(let e=0;e<t.length;e++){var s;("number"==typeof(s=t[e])?0===s:null===s||"none"===s||"0"===s||tE(s))&&i.push(e)}i.length&&function(t,e,i){let s,n=0;for(;n<t.length&&!s;){let e=t[n];"string"==typeof e&&!ei.has(e)&&tZ(e).values.length&&(s=t[n]),n++}if(s&&i)for(let n of e)t[n]=ee(i,s)}(t,i,e)}measureInitialState(){let{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;let s=e[e.length-1];void 0!==s&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;let{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;let n=e.getValue(i);n&&n.jump(this.measuredOrigin,!1);let r=s.length-1,h=s[r];s[r]=eo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==h&&void 0===this.finalKeyframe&&(this.finalKeyframe=h),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}let eT=(t,e)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(t2.test(t)||"0"===t)&&!t.startsWith("url(")),eP=t=>null!==t;function e_(t,{repeat:e,repeatType:i="loop"},s){let n=t.filter(eP),r=e&&"loop"!==i&&e%2==1?0:n.length-1;return r&&void 0!==s?s:n[r]}class ek{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:r="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=te.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:n,repeatType:r,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(ef(),ed()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=te.now(),this.hasAttemptedResolve=!0;let{name:i,type:s,velocity:n,delay:r,onComplete:h,onUpdate:l,isGenerator:o}=this.options;if(!o&&!function(t,e,i,s){let n=t[0];if(null===n)return!1;if("display"===e||"visibility"===e)return!0;let r=t[t.length-1],h=eT(n,e),l=eT(r,e);return W(h===l,`You are trying to animate ${e} from "${n}" to "${r}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${r} via the \`style\` property.`),!!h&&!!l&&(function(t){let e=t[0];if(1===t.length)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}(t)||("spring"===i||b(i))&&s)}(t,i,s,n)){if(tf.current||!r){l&&l(e_(t,this.options,e)),h&&h(),this.resolveFinishedPromise();return}this.options.duration=0}let a=this.initPlayback(t,e);!1!==a&&(this._resolved={keyframes:t,finalKeyframe:e,...a},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}let ez=(t,e,i)=>t+(e-t)*i;function eV(t,e,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?t+(e-t)*6*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function eL(t,e){return i=>i>0?e:t}let eR=(t,e,i)=>{let s=t*t,n=i*(e*e-s)+s;return n<0?0:Math.sqrt(n)},eD=[tO,t$,tX],eA=t=>eD.find(e=>e.test(t));function eN(t){let e=eA(t);if(W(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`),!e)return!1;let i=e.parse(t);return e===tX&&(i=function({hue:t,saturation:e,lightness:i,alpha:s}){t/=360,i/=100;let n=0,r=0,h=0;if(e/=100){let s=i<.5?i*(1+e):i+e-i*e,l=2*i-s;n=eV(l,s,t+1/3),r=eV(l,s,t),h=eV(l,s,t-1/3)}else n=r=h=i;return{red:Math.round(255*n),green:Math.round(255*r),blue:Math.round(255*h),alpha:s}}(i)),i}let e$=(t,e)=>{let i=eN(t),s=eN(e);if(!i||!s)return eL(t,e);let n={...i};return t=>(n.red=eR(i.red,s.red,t),n.green=eR(i.green,s.green,t),n.blue=eR(i.blue,s.blue,t),n.alpha=ez(i.alpha,s.alpha,t),t$.transform(n))},eO=(t,e)=>i=>e(t(i)),eB=(...t)=>t.reduce(eO),ej=new Set(["none","hidden"]);function eW(t,e){return i=>ez(t,e,i)}function eF(t){return"number"==typeof t?eW:"string"==typeof t?eb(t)?eL:tH.test(t)?e$:eK:Array.isArray(t)?eI:"object"==typeof t?tH.test(t)?e$:eU:eL}function eI(t,e){let i=[...t],s=i.length,n=t.map((t,i)=>eF(t)(t,e[i]));return t=>{for(let e=0;e<s;e++)i[e]=n[e](t);return i}}function eU(t,e){let i={...t,...e},s={};for(let n in i)void 0!==t[n]&&void 0!==e[n]&&(s[n]=eF(t[n])(t[n],e[n]));return t=>{for(let e in s)i[e]=s[e](t);return i}}let eK=(t,e)=>{let i=t2.createTransformer(e),s=tZ(t),n=tZ(e);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?ej.has(t)&&!n.values.length||ej.has(e)&&!s.values.length?ej.has(t)?i=>i<=0?t:e:i=>i>=1?e:t:eB(eI(function(t,e){var i;let s=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){let h=e.types[r],l=t.indexes[h][n[h]],o=null!==(i=t.values[l])&&void 0!==i?i:0;s[r]=o,n[h]++}return s}(s,n),n.values),i):(W(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eL(t,e))};function eX(t,e,i){return"number"==typeof t&&"number"==typeof e&&"number"==typeof i?ez(t,e,i):eF(t)(t,e)}function eH(t,e,i){var s,n;let r=Math.max(e-5,0);return s=i-t(r),(n=e-r)?1e3/n*s:0}let eq={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function eG(t,e){return t*Math.sqrt(1-e*e)}let eJ=["duration","bounce"],eY=["stiffness","damping","mass"];function eZ(t,e){return e.some(e=>void 0!==t[e])}function eQ(t=eq.visualDuration,e=eq.bounce){let i;let s="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t,{restSpeed:n,restDelta:r}=s,h=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],o={done:!1,value:h},{stiffness:a,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=function(t){let e={velocity:eq.velocity,stiffness:eq.stiffness,damping:eq.damping,mass:eq.mass,isResolvedFromDuration:!1,...t};if(!eZ(t,eY)&&eZ(t,eJ)){if(t.visualDuration){let i=2*Math.PI/(1.2*t.visualDuration),s=i*i,n=2*tT(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:eq.mass,stiffness:s,damping:n}}else{let i=function({duration:t=eq.duration,bounce:e=eq.bounce,velocity:i=eq.velocity,mass:s=eq.mass}){let n,r;W(t<=B(eq.maxDuration),"Spring duration must be 10 seconds or less");let h=1-e;h=tT(eq.minDamping,eq.maxDamping,h),t=tT(eq.minDuration,eq.maxDuration,j(t)),h<1?(n=e=>{let s=e*h,n=s*t;return .001-(s-i)/eG(e,h)*Math.exp(-n)},r=e=>{let s=e*h*t,r=Math.pow(h,2)*Math.pow(e,2)*t,l=eG(Math.pow(e,2),h);return(s*i+i-r)*Math.exp(-s)*(-n(e)+.001>0?-1:1)/l}):(n=e=>-.001+Math.exp(-e*t)*((e-i)*t+1),r=e=>t*t*(i-e)*Math.exp(-e*t));let l=function(t,e,i){let s=i;for(let i=1;i<12;i++)s-=t(s)/e(s);return s}(n,r,5/t);if(t=B(t),isNaN(l))return{stiffness:eq.stiffness,damping:eq.damping,duration:t};{let e=Math.pow(l,2)*s;return{stiffness:e,damping:2*h*Math.sqrt(s*e),duration:t}}}(t);(e={...e,...i,mass:eq.mass}).isResolvedFromDuration=!0}}return e}({...s,velocity:-j(s.velocity||0)}),m=f||0,v=u/(2*Math.sqrt(a*c)),g=l-h,b=j(Math.sqrt(a/c)),w=5>Math.abs(g);if(n||(n=w?eq.restSpeed.granular:eq.restSpeed.default),r||(r=w?eq.restDelta.granular:eq.restDelta.default),v<1){let t=eG(b,v);i=e=>l-Math.exp(-v*b*e)*((m+v*b*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}else if(1===v)i=t=>l-Math.exp(-b*t)*(g+(m+b*g)*t);else{let t=b*Math.sqrt(v*v-1);i=e=>{let i=Math.exp(-v*b*e),s=Math.min(t*e,300);return l-i*((m+v*b*g)*Math.sinh(s)+t*g*Math.cosh(s))/t}}let x={calculatedDuration:p&&d||null,next:t=>{let e=i(t);if(p)o.done=t>=d;else{let s=0;v<1&&(s=0===t?B(m):eH(i,t,e));let h=Math.abs(s)<=n,a=Math.abs(l-e)<=r;o.done=h&&a}return o.value=o.done?l:e,o},toString:()=>{let t=Math.min(y(x),2e4),e=E(e=>x.next(t*e).value,t,30);return t+"ms "+e}};return x}function e0({keyframes:t,velocity:e=0,power:i=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:r=500,modifyTarget:h,min:l,max:o,restDelta:a=.5,restSpeed:u}){let c,d;let f=t[0],p={done:!1,value:f},m=t=>void 0!==l&&t<l||void 0!==o&&t>o,v=t=>void 0===l?o:void 0===o?l:Math.abs(l-t)<Math.abs(o-t)?l:o,g=i*e,y=f+g,b=void 0===h?y:h(y);b!==y&&(g=b-f);let w=t=>-g*Math.exp(-t/s),x=t=>b+w(t),S=t=>{let e=w(t),i=x(t);p.done=Math.abs(e)<=a,p.value=p.done?b:i},M=t=>{m(p.value)&&(c=t,d=eQ({keyframes:[p.value,v(p.value)],velocity:eH(x,t,p.value),damping:n,stiffness:r,restDelta:a,restSpeed:u}))};return M(0),{calculatedDuration:null,next:t=>{let e=!1;return(d||void 0!==c||(e=!0,S(t),M(t)),void 0!==c&&t>=c)?d.next(t-c):(e||S(t),p)}}}let e1=tm(.42,0,1,1),e2=tm(0,0,.58,1),e3=tm(.42,0,.58,1),e5=t=>Array.isArray(t)&&"number"!=typeof t[0],e6={linear:W,easeIn:e1,easeInOut:e3,easeOut:e2,circIn:tS,circInOut:tC,circOut:tM,backIn:tb,backInOut:tw,backOut:ty,anticipate:tx},e4=t=>{if(x(t)){W(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,i,s,n]=t;return tm(e,i,s,n)}return"string"==typeof t?(W(void 0!==e6[t],`Invalid easing type '${t}'`),e6[t]):t};function e9({duration:t=300,keyframes:e,times:i,ease:s="easeInOut"}){let n=e5(s)?s.map(e4):e4(s),r={done:!1,value:e[0]},h=function(t,e,{clamp:i=!0,ease:s,mixer:n}={}){let r=t.length;if(W(r===e.length,"Both input and output ranges must be the same length"),1===r)return()=>e[0];if(2===r&&e[0]===e[1])return()=>e[1];let h=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());let l=function(t,e,i){let s=[],n=i||eX,r=t.length-1;for(let i=0;i<r;i++){let r=n(t[i],t[i+1]);e&&(r=eB(Array.isArray(e)?e[i]||W:e,r)),s.push(r)}return s}(e,s,n),o=l.length,a=i=>{if(h&&i<t[0])return e[0];let s=0;if(o>1)for(;s<t.length-2&&!(i<t[s+1]);s++);let n=C(t[s],t[s+1],i);return l[s](n)};return i?e=>a(tT(t[0],t[r-1],e)):a}((i&&i.length===e.length?i:function(t){let e=[0];return function(t,e){let i=t[t.length-1];for(let s=1;s<=e;s++){let n=C(0,e,s);t.push(ez(i,1,n))}}(e,t.length-1),e}(e)).map(e=>e*t),e,{ease:Array.isArray(n)?n:e.map(()=>n||e3).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(r.value=h(e),r.done=e>=t,r)}}let e8=t=>{let e=({timestamp:e})=>t(e);return{start:()=>J.update(e,!0),stop:()=>Y(e),now:()=>Z.isProcessing?Z.timestamp:te.now()}},e7={decay:e0,inertia:e0,tween:e9,keyframes:e9,spring:eQ},it=t=>t/100;class ie extends ek{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()};let{name:e,motionValue:i,element:s,keyframes:n}=this.options,r=(null==s?void 0:s.KeyframeResolver)||ep;this.resolver=new r(n,(t,e)=>this.onKeyframesResolved(t,e),e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){let e,i;let{type:s="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:h,velocity:l=0}=this.options,o=b(s)?s:e7[s]||e9;o!==e9&&"number"!=typeof t[0]&&(e=eB(it,eX(t[0],t[1])),t=[0,100]);let a=o({...this.options,keyframes:t});"mirror"===h&&(i=o({...this.options,keyframes:[...t].reverse(),velocity:-l})),null===a.calculatedDuration&&(a.calculatedDuration=y(a));let{calculatedDuration:u}=a,c=u+r;return{generator:a,mirroredGenerator:i,mapPercentToKeyframes:e,calculatedDuration:u,resolvedDuration:c,totalDuration:c*(n+1)-r}}onPostResolved(){let{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){let{resolved:i}=this;if(!i){let{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}let{finalKeyframe:s,generator:n,mirroredGenerator:r,mapPercentToKeyframes:h,keyframes:l,calculatedDuration:o,totalDuration:a,resolvedDuration:u}=i;if(null===this.startTime)return n.next(0);let{delay:c,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let v=this.currentTime-c*(this.speed>=0?1:-1),g=this.speed>=0?v<0:v>a;this.currentTime=Math.max(v,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=a);let y=this.currentTime,b=n;if(d){let t=Math.min(this.currentTime,a)/u,e=Math.floor(t),i=t%1;!i&&t>=1&&(i=1),1===i&&e--,(e=Math.min(e,d+1))%2&&("reverse"===f?(i=1-i,p&&(i-=p/u)):"mirror"===f&&(b=r)),y=tT(0,1,i)*u}let w=g?{done:!1,value:l[0]}:b.next(y);h&&(w.value=h(w.value));let{done:x}=w;g||null===o||(x=this.speed>=0?this.currentTime>=a:this.currentTime<=0);let S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&void 0!==s&&(w.value=e_(l,this.options,s)),m&&m(w.value),S&&this.finish(),w}get duration(){let{resolved:t}=this;return t?j(t.calculatedDuration):0}get time(){return j(this.currentTime)}set time(t){t=B(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=j(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=e8,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),e&&e();let s=this.driver.now();null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=s):this.startTime=null!=i?i:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}let ii=new Set(["opacity","clipPath","filter","transform"]),is=f(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ir={anticipate:tx,backInOut:tw,circInOut:tC};class ih extends ek{constructor(t){super(t);let{name:e,motionValue:i,element:s,keyframes:n}=this.options;this.resolver=new eE(n,(t,e)=>this.onKeyframesResolved(t,e),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){var i;let{duration:s=300,times:n,ease:r,type:h,motionValue:l,name:o,startTime:a}=this.options;if(!l.owner||!l.owner.current)return!1;if("string"==typeof r&&M()&&r in ir&&(r=ir[r]),b((i=this.options).type)||"spring"===i.type||!function t(e){return!!("function"==typeof e&&M()||!e||"string"==typeof e&&(e in P||M())||x(e)||Array.isArray(e)&&e.every(t))}(i.ease)){let{onComplete:e,onUpdate:i,motionValue:l,element:o,...a}=this.options,u=function(t,e){let i=new ie({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0}),s={done:!1,value:t[0]},n=[],r=0;for(;!s.done&&r<2e4;)n.push((s=i.sample(r)).value),r+=10;return{times:void 0,keyframes:n,duration:r-10,ease:"linear"}}(t,a);1===(t=u.keyframes).length&&(t[1]=t[0]),s=u.duration,n=u.times,r=u.ease,h="keyframes"}let u=function(t,e,i,{delay:s=0,duration:n=300,repeat:r=0,repeatType:h="loop",ease:l="easeInOut",times:o}={}){let a={[e]:i};o&&(a.offset=o);let u=function t(e,i){if(e)return"function"==typeof e&&M()?E(e,i):x(e)?T(e):Array.isArray(e)?e.map(e=>t(e,i)||P.easeOut):P[e]}(l,n);return Array.isArray(u)&&(a.easing=u),t.animate(a,{delay:s,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:"reverse"===h?"alternate":"normal"})}(l.owner.current,o,t,{...this.options,duration:s,times:n,ease:r});return u.startTime=null!=a?a:this.calcStartTime(),this.pendingTimeline?(w(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{let{onComplete:i}=this.options;l.set(e_(t,this.options,e)),i&&i(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:n,type:h,ease:r,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:e}=t;return j(e)}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:e}=t;return j(e.currentTime||0)}set time(t){let{resolved:e}=this;if(!e)return;let{animation:i}=e;i.currentTime=B(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:e}=t;return e.playbackRate}set speed(t){let{resolved:e}=this;if(!e)return;let{animation:i}=e;i.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:e}=t;return e.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){let{resolved:e}=this;if(!e)return W;let{animation:i}=e;w(i,t)}else this.pendingTimeline=t;return W}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:e,keyframes:i,duration:s,type:n,ease:r,times:h}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){let{motionValue:t,onUpdate:e,onComplete:l,element:o,...a}=this.options,u=new ie({...a,keyframes:i,duration:s,type:n,ease:r,times:h,isGenerator:!0}),c=B(this.time);t.setWithVelocity(u.sample(c-10).value,u.sample(c).value,10)}let{onStop:l}=this.options;l&&l(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:e,name:i,repeatDelay:s,repeatType:n,damping:r,type:h}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;let{onUpdate:l,transformTemplate:o}=e.owner.getProps();return is()&&i&&ii.has(i)&&!l&&!o&&!s&&"mirror"!==n&&0!==r&&"inertia"!==h}}let il={type:"spring",stiffness:500,damping:25,restSpeed:10},io=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),ia={type:"keyframes",duration:.8},iu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ic=(t,{keyframes:e})=>e.length>2?ia:I.has(t)?t.startsWith("scale")?io(e[1]):il:iu,id=(t,e,i,s={},n,r)=>h=>{let l=g(s,t)||{},o=l.delay||s.delay||0,{elapsed:a=0}=s;a-=B(o);let u={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-a,onUpdate:t=>{e.set(t),l.onUpdate&&l.onUpdate(t)},onComplete:()=>{h(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:r?void 0:n};!function({when:t,delay:e,delayChildren:i,staggerChildren:s,staggerDirection:n,repeat:r,repeatType:h,repeatDelay:l,from:o,elapsed:a,...u}){return!!Object.keys(u).length}(l)&&(u={...u,...ic(t,u)}),u.duration&&(u.duration=B(u.duration)),u.repeatDelay&&(u.repeatDelay=B(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let c=!1;if(!1!==u.type&&(0!==u.duration||u.repeatDelay)||(u.duration=0,0!==u.delay||(c=!0)),(tf.current||H.skipAnimations)&&(c=!0,u.duration=0,u.delay=0),c&&!r&&void 0!==e.get()){let t=e_(u.keyframes,l);if(void 0!==t)return J.update(()=>{u.onUpdate(t),u.onComplete()}),new v([])}return!r&&ih.supports(u)?new ih(u):new ie(u)};function ip(t,e,{delay:i=0,transitionOverride:s,type:n}={}){var r;let{transition:h=t.getDefaultTransition(),transitionEnd:l,...o}=e;s&&(h=s);let a=[],c=n&&t.animationState&&t.animationState.getState()[n];for(let e in o){let s=t.getValue(e,null!==(r=t.latestValues[e])&&void 0!==r?r:null),n=o[e];if(void 0===n||c&&function({protectedKeys:t,needsAnimating:e},i){let s=t.hasOwnProperty(i)&&!0!==e[i];return e[i]=!1,s}(c,e))continue;let l={delay:i,...g(h||{},e)},u=!1;if(window.MotionHandoffAnimation){let i=t.props[td];if(i){let t=window.MotionHandoffAnimation(i,e,J);null!==t&&(l.startTime=t,u=!0)}}tu(t,e),s.start(id(e,s,n,t.shouldReduceMotion&&U.has(e)?{type:!1}:l,t,u));let d=s.animation;d&&a.push(d)}return l&&Promise.all(a).then(()=>{J.update(()=>{l&&function(t,e){let{transitionEnd:i={},transition:s={},...n}=u(t,e)||{};for(let e in n={...n,...i}){let i=X(n[e]);t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,to(i))}}(t,l)})}),a}function im(t,e,i={}){var s;let n=u(t,e,"exit"===i.type?null===(s=t.presenceContext)||void 0===s?void 0:s.custom:void 0),{transition:r=t.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(r=i.transitionOverride);let h=n?()=>Promise.all(ip(t,n,i)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(s=0)=>{let{delayChildren:n=0,staggerChildren:h,staggerDirection:l}=r;return function(t,e,i=0,s=0,n=1,r){let h=[],l=(t.variantChildren.size-1)*s,o=1===n?(t=0)=>t*s:(t=0)=>l-t*s;return Array.from(t.variantChildren).sort(iv).forEach((t,s)=>{t.notify("AnimationStart",e),h.push(im(t,e,{...r,delay:i+o(s)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(h)}(t,e,n+s,h,l,i)}:()=>Promise.resolve(),{when:o}=r;if(!o)return Promise.all([h(),l(i.delay)]);{let[t,e]="beforeChildren"===o?[h,l]:[l,h];return t().then(()=>e())}}function iv(t,e){return t.sortNodePosition(e)}let ig=d.length,iy=[...c].reverse(),ib=c.length;function iw(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ix(){return{animate:iw(!0),whileInView:iw(),whileHover:iw(),whileTap:iw(),whileDrag:iw(),whileFocus:iw(),exit:iw()}}class iS{constructor(t){this.isMounted=!1,this.node=t}update(){}}class iM extends iS{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:i})=>(function(t,e,i={}){let s;if(t.notify("AnimationStart",e),Array.isArray(e))s=Promise.all(e.map(e=>im(t,e,i)));else if("string"==typeof e)s=im(t,e,i);else{let n="function"==typeof e?u(t,e,i.custom):e;s=Promise.all(ip(t,n,i))}return s.then(()=>{t.notify("AnimationComplete",e)})})(t,e,i))),i=ix(),s=!0,o=e=>(i,s)=>{var n;let r=u(t,s,"exit"===e?null===(n=t.presenceContext)||void 0===n?void 0:n.custom:void 0);if(r){let{transition:t,transitionEnd:e,...s}=r;i={...i,...s,...e}}return i};function a(a){let{props:u}=t,c=function t(e){if(!e)return;if(!e.isControllingVariants){let i=e.parent&&t(e.parent)||{};return void 0!==e.props.initial&&(i.initial=e.props.initial),i}let i={};for(let t=0;t<ig;t++){let s=d[t],n=e.props[s];(l(n)||!1===n)&&(i[s]=n)}return i}(t.parent)||{},f=[],p=new Set,m={},v=1/0;for(let e=0;e<ib;e++){var g;let d=iy[e],y=i[d],b=void 0!==u[d]?u[d]:c[d],w=l(b),x=d===a?y.isActive:null;!1===x&&(v=e);let S=b===c[d]&&b!==u[d]&&w;if(S&&s&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&null===x||!b&&!y.prevProp||n(b)||"boolean"==typeof b)continue;let M=(g=y.prevProp,"string"==typeof b?b!==g:!!Array.isArray(b)&&!h(b,g)),C=M||d===a&&y.isActive&&!S&&w||e>v&&w,E=!1,T=Array.isArray(b)?b:[b],P=T.reduce(o(d),{});!1===x&&(P={});let{prevResolvedValues:_={}}=y,k={..._,...P},z=e=>{C=!0,p.has(e)&&(E=!0,p.delete(e)),y.needsAnimating[e]=!0;let i=t.getValue(e);i&&(i.liveStyle=!1)};for(let t in k){let e=P[t],i=_[t];if(!m.hasOwnProperty(t))(r(e)&&r(i)?h(e,i):e===i)?void 0!==e&&p.has(t)?z(t):y.protectedKeys[t]=!0:null!=e?z(t):p.add(t)}y.prevProp=b,y.prevResolvedValues=P,y.isActive&&(m={...m,...P}),s&&t.blockInitialAnimation&&(C=!1);let V=!(S&&M)||E;C&&V&&f.push(...T.map(t=>({animation:t,options:{type:d}})))}if(p.size){let e={};p.forEach(i=>{let s=t.getBaseTarget(i),n=t.getValue(i);n&&(n.liveStyle=!0),e[i]=null!=s?s:null}),f.push({animation:e})}let y=!!f.length;return s&&(!1===u.initial||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?e(f):Promise.resolve()}return{animateChanges:a,setActive:function(e,s){var n;if(i[e].isActive===s)return Promise.resolve();null===(n=t.variantChildren)||void 0===n||n.forEach(t=>{var i;return null===(i=t.animationState)||void 0===i?void 0:i.setActive(e,s)}),i[e].isActive=s;let r=a(e);for(let t in i)i[t].protectedKeys={};return r},setAnimateFunction:function(i){e=i(t)},getState:()=>i,reset:()=>{i=ix(),s=!0}}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();n(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}let iC=0;class iE extends iS{constructor(){super(...arguments),this.id=iC++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;let s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}function iT(t,e,i,s={passive:!0}){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i)}function iP(t){return{point:{x:t.pageX,y:t.pageY}}}let i_=t=>e=>L(e)&&t(e,iP(e));function ik(t,e,i,s){return iT(t,e,i_(i),s)}let iz=(t,e)=>Math.abs(t-e);class iV{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var t,e;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=iD(this.lastMoveEventInfo,this.history),s=null!==this.startEvent,n=(t=i.offset,e={x:0,y:0},Math.sqrt(iz(t.x,e.x)**2+iz(t.y,e.y)**2)>=3);if(!s&&!n)return;let{point:r}=i,{timestamp:h}=Z;this.history.push({...r,timestamp:h});let{onStart:l,onMove:o}=this.handlers;s||(l&&l(this.lastMoveEvent,i),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,i)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=iL(e,this.transformPagePoint),J.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:i,onSessionEnd:s,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=iD("pointercancel"===t.type?this.lastMoveEventInfo:iL(e,this.transformPagePoint),this.history);this.startEvent&&i&&i(t,r),s&&s(t,r)},!L(t))return;this.dragSnapToOrigin=n,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;let r=iL(iP(t),this.transformPagePoint),{point:h}=r,{timestamp:l}=Z;this.history=[{...h,timestamp:l}];let{onSessionStart:o}=e;o&&o(t,iD(r,this.history)),this.removeListeners=eB(ik(this.contextWindow,"pointermove",this.handlePointerMove),ik(this.contextWindow,"pointerup",this.handlePointerUp),ik(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Y(this.updatePoint)}}function iL(t,e){return e?{point:e(t.point)}:t}function iR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function iD({point:t},e){return{point:t,delta:iR(t,iA(e)),offset:iR(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,s=null,n=iA(t);for(;i>=0&&(s=t[i],!(n.timestamp-s.timestamp>B(.1)));)i--;if(!s)return{x:0,y:0};let r=j(n.timestamp-s.timestamp);if(0===r)return{x:0,y:0};let h={x:(n.x-s.x)/r,y:(n.y-s.y)/r};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}(e,0)}}function iA(t){return t[t.length-1]}function iN(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function i$(t){return t.max-t.min}function iO(t,e,i,s=.5){t.origin=s,t.originPoint=ez(e.min,e.max,t.origin),t.scale=i$(i)/i$(e),t.translate=ez(i.min,i.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function iB(t,e,i,s){iO(t.x,e.x,i.x,s?s.originX:void 0),iO(t.y,e.y,i.y,s?s.originY:void 0)}function ij(t,e,i){t.min=i.min+e.min,t.max=t.min+i$(e)}function iW(t,e,i){t.min=e.min-i.min,t.max=t.min+i$(e)}function iF(t,e,i){iW(t.x,e.x,i.x),iW(t.y,e.y,i.y)}function iI(t,e,i){return{min:void 0!==e?t.min+e:void 0,max:void 0!==i?t.max+i-(t.max-t.min):void 0}}function iU(t,e){let i=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,s]=[s,i]),{min:i,max:s}}function iK(t,e,i){return{min:iX(t,e),max:iX(t,i)}}function iX(t,e){return"number"==typeof t?t:t[e]||0}let iH=()=>({translate:0,scale:1,origin:0,originPoint:0}),iq=()=>({x:iH(),y:iH()}),iG=()=>({min:0,max:0}),iJ=()=>({x:iG(),y:iG()});function iY(t){return[t("x"),t("y")]}function iZ({top:t,left:e,right:i,bottom:s}){return{x:{min:e,max:i},y:{min:t,max:s}}}function iQ(t){return void 0===t||1===t}function i0({scale:t,scaleX:e,scaleY:i}){return!iQ(t)||!iQ(e)||!iQ(i)}function i1(t){return i0(t)||i2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function i2(t){var e,i;return(e=t.x)&&"0%"!==e||(i=t.y)&&"0%"!==i}function i3(t,e,i,s,n){return void 0!==n&&(t=s+n*(t-s)),s+i*(t-s)+e}function i5(t,e=0,i=1,s,n){t.min=i3(t.min,e,i,s,n),t.max=i3(t.max,e,i,s,n)}function i6(t,{x:e,y:i}){i5(t.x,e.translate,e.scale,e.originPoint),i5(t.y,i.translate,i.scale,i.originPoint)}function i4(t,e){t.min=t.min+e,t.max=t.max+e}function i9(t,e,i,s,n=.5){let r=ez(t.min,t.max,n);i5(t,e,i,r,s)}function i8(t,e){i9(t.x,e.x,e.scaleX,e.scale,e.originX),i9(t.y,e.y,e.scaleY,e.scale,e.originY)}function i7(t,e){return iZ(function(t,e){if(!e)return t;let i=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}(t.getBoundingClientRect(),e))}let st=({current:t})=>t?t.ownerDocument.defaultView:null,se=new WeakMap;class si{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iJ(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:s}=this.getProps();this.panSession=new iV(t,{onSessionStart:t=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(iP(t).point)},onStart:(t,e)=>{let{drag:i,dragPropagation:s,onDragStart:n}=this.getProps();if(i&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===i||"y"===i?_[i]?null:(_[i]=!0,()=>{_[i]=!1}):_.x||_.y?null:(_.x=_.y=!0,()=>{_.x=_.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iY(t=>{let e=this.getAxisMotionValue(t).get()||0;if(tW.test(e)){let{projection:i}=this.visualElement;if(i&&i.layout){let s=i.layout.layoutBox[t];if(s){let t=i$(s);e=parseFloat(e)/100*t}}}this.originPoint[t]=e}),n&&J.postRender(()=>n(t,e)),tu(this.visualElement,"transform");let{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},onMove:(t,e)=>{let{dragPropagation:i,dragDirectionLock:s,onDirectionLock:n,onDrag:r}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:h}=e;if(s&&null===this.currentDirection){this.currentDirection=function(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}(h),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",e.point,h),this.updateAxis("y",e.point,h),this.visualElement.render(),r&&r(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>iY(t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:st(this.visualElement)})}stop(t,e){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:s}=e;this.startAnimation(s);let{onDragEnd:n}=this.getProps();n&&J.postRender(()=>n(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){let{drag:s}=this.getProps();if(!i||!ss(t,s,this.currentDirection))return;let n=this.getAxisMotionValue(t),r=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(r=function(t,{min:e,max:i},s){return void 0!==e&&t<e?t=s?ez(e,t,s.min):Math.max(t,e):void 0!==i&&t>i&&(t=s?ez(i,t,s.max):Math.min(t,i)),t}(r,this.constraints[t],this.elastic[t])),n.set(r)}resolveConstraints(){var t;let{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,n=this.constraints;e&&iN(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=function(t,{top:e,left:i,bottom:s,right:n}){return{x:iI(t.x,i,n),y:iI(t.y,e,s)}}(s.layoutBox,e):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:iK(t,"left","right"),y:iK(t,"top","bottom")}}(i),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&iY(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let i={};return void 0!==e.min&&(i.min=e.min-t.min),void 0!==e.max&&(i.max=e.max-t.min),i}(s.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!iN(e))return!1;let s=e.current;W(null!==s,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let r=function(t,e,i){let s=i7(t,i),{scroll:n}=e;return n&&(i4(s.x,n.offset.x),i4(s.y,n.offset.y)),s}(s,n.root,this.visualElement.getTransformPagePoint()),h={x:iU((t=n.layout.layoutBox).x,r.x),y:iU(t.y,r.y)};if(i){let t=i(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(h));this.hasMutatedConstraints=!!t,t&&(h=iZ(t))}return h}startAnimation(t){let{drag:e,dragMomentum:i,dragElastic:s,dragTransition:n,dragSnapToOrigin:r,onDragTransitionEnd:h}=this.getProps(),l=this.constraints||{};return Promise.all(iY(h=>{if(!ss(h,e,this.currentDirection))return;let o=l&&l[h]||{};r&&(o={min:0,max:0});let a={type:"inertia",velocity:i?t[h]:0,bounceStiffness:s?200:1e6,bounceDamping:s?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...o};return this.startAxisValueAnimation(h,a)})).then(h)}startAxisValueAnimation(t,e){let i=this.getAxisMotionValue(t);return tu(this.visualElement,t),i.start(id(t,i,0,e,this.visualElement,!1))}stopAnimation(){iY(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){iY(t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()})}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){let e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps();return i[e]||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){iY(e=>{let{drag:i}=this.getProps();if(!ss(e,i,this.currentDirection))return;let{projection:s}=this.visualElement,n=this.getAxisMotionValue(e);if(s&&s.layout){let{min:i,max:r}=s.layout.layoutBox[e];n.set(t[e]-ez(i,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!iN(e)||!i||!this.constraints)return;this.stopAnimation();let s={x:0,y:0};iY(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){let i=e.get();s[t]=function(t,e){let i=.5,s=i$(t),n=i$(e);return n>s?i=C(e.min,e.max-s,t.min):s>n&&(i=C(t.min,t.max-n,e.min)),tT(0,1,i)}({min:i,max:i},this.constraints[t])}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),iY(e=>{if(!ss(e,t,null))return;let i=this.getAxisMotionValue(e),{min:n,max:r}=this.constraints[e];i.set(ez(n,r,s[e]))})}addListeners(){if(!this.visualElement.current)return;se.set(this.visualElement,this);let t=ik(this.visualElement.current,"pointerdown",t=>{let{drag:e,dragListener:i=!0}=this.getProps();e&&i&&this.start(t)}),e=()=>{let{dragConstraints:t}=this.getProps();iN(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",e);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),J.read(e);let n=iT(window,"resize",()=>this.scalePositionWithinConstraints()),r=i.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(iY(e=>{let i=this.getAxisMotionValue(e);i&&(this.originPoint[e]+=t[e].translate,i.set(i.get()+t[e].translate))}),this.visualElement.render())});return()=>{n(),t(),s(),r&&r()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:n=!1,dragElastic:r=.35,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:n,dragElastic:r,dragMomentum:h}}}function ss(t,e,i){return(!0===e||e===t)&&(null===i||i===t)}class sn extends iS{constructor(t){super(t),this.removeGroupControls=W,this.removeListeners=W,this.controls=new si(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||W}unmount(){this.removeGroupControls(),this.removeListeners()}}let sr=t=>(e,i)=>{t&&J.postRender(()=>t(e,i))};class sh extends iS{constructor(){super(...arguments),this.removePointerDownListener=W}onPointerDown(t){this.session=new iV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:st(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:sr(t),onStart:sr(e),onMove:i,onEnd:(t,e)=>{delete this.session,s&&J.postRender(()=>s(t,e))}}}mount(){this.removePointerDownListener=ik(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var sl,so,sa,su=i(7437),sc=i(2265),sd=i(3241),sf=i(5050);let sp=(0,sc.createContext)({}),sm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let sg={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!tF.test(t))return t;t=parseFloat(t)}let i=sv(t,e.target.x),s=sv(t,e.target.y);return`${i}% ${s}%`}},sy={},{schedule:sb,cancel:sw}=G(queueMicrotask,!1);class sx extends sc.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:n}=t;Object.assign(sy,sM),n&&(e.group&&e.group.add(n),i&&i.register&&s&&i.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),sm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:i,drag:s,isPresent:n}=this.props,r=i.projection;return r&&(r.isPresent=n,s||t.layoutDependency!==e||void 0===e?r.willUpdate():this.safeToRemove(),t.isPresent===n||(n?r.promote():r.relegate()||J.postRender(()=>{let t=r.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sS(t){let[e,i]=(0,sd.oO)(),s=(0,sc.useContext)(sf.p);return(0,su.jsx)(sx,{...t,layoutGroup:s,switchLayoutGroup:(0,sc.useContext)(sp),isPresent:e,safeToRemove:i})}let sM={borderRadius:{...sg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sg,borderTopRightRadius:sg,borderBottomLeftRadius:sg,borderBottomRightRadius:sg,boxShadow:{correct:(t,{treeScale:e,projectionDelta:i})=>{let s=t2.parse(t);if(s.length>5)return t;let n=t2.createTransformer(t),r="number"!=typeof s[0]?1:0,h=i.x.scale*e.x,l=i.y.scale*e.y;s[0+r]/=h,s[1+r]/=l;let o=ez(h,l,.5);return"number"==typeof s[2+r]&&(s[2+r]/=o),"number"==typeof s[3+r]&&(s[3+r]/=o),n(s)}}},sC=(t,e)=>t.depth-e.depth;class sE{constructor(){this.children=[],this.isDirty=!1}add(t){ti(this.children,t),this.isDirty=!0}remove(t){ts(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sC),this.isDirty=!1,this.children.forEach(t)}}function sT(t){let e=ta(t)?t.get():t;return K(e)?e.toValue():e}let sP=["TopLeft","TopRight","BottomLeft","BottomRight"],s_=sP.length,sk=t=>"string"==typeof t?parseFloat(t):t,sz=t=>"number"==typeof t||tF.test(t);function sV(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let sL=sD(0,.5,tM),sR=sD(.5,.95,W);function sD(t,e,i){return s=>s<t?0:s>e?1:i(C(t,e,s))}function sA(t,e){t.min=e.min,t.max=e.max}function sN(t,e){sA(t.x,e.x),sA(t.y,e.y)}function s$(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sO(t,e,i,s,n){return t-=e,t=s+1/i*(t-s),void 0!==n&&(t=s+1/n*(t-s)),t}function sB(t,e,[i,s,n],r,h){!function(t,e=0,i=1,s=.5,n,r=t,h=t){if(tW.test(e)&&(e=parseFloat(e),e=ez(h.min,h.max,e/100)-h.min),"number"!=typeof e)return;let l=ez(r.min,r.max,s);t===r&&(l-=e),t.min=sO(t.min,e,i,l,n),t.max=sO(t.max,e,i,l,n)}(t,e[i],e[s],e[n],e.scale,r,h)}let sj=["x","scaleX","originX"],sW=["y","scaleY","originY"];function sF(t,e,i,s){sB(t.x,e,sj,i?i.x:void 0,s?s.x:void 0),sB(t.y,e,sW,i?i.y:void 0,s?s.y:void 0)}function sI(t){return 0===t.translate&&1===t.scale}function sU(t){return sI(t.x)&&sI(t.y)}function sK(t,e){return t.min===e.min&&t.max===e.max}function sX(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sH(t,e){return sX(t.x,e.x)&&sX(t.y,e.y)}function sq(t){return i$(t.x)/i$(t.y)}function sG(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sJ{constructor(){this.members=[]}add(t){ti(this.members,t),t.scheduleRender()}remove(t){if(ts(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e;let i=this.members.findIndex(e=>t===e);if(0===i)return!1;for(let t=i;t>=0;t--){let i=this.members[t];if(!1!==i.isPresent){e=i;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:s}=t.options;!1===s&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let sY={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sZ="undefined"!=typeof window&&void 0!==window.MotionDebug,sQ=["","X","Y","Z"],s0={visibility:"hidden"},s1=0;function s2(t,e,i,s){let{latestValues:n}=e;n[t]&&(i[t]=n[t],e.setStaticValue(t,0),s&&(s[t]=0))}function s3({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(t={},i=null==e?void 0:e()){this.id=s1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sZ&&(sY.totalNodes=sY.resolvedTargetDeltas=sY.recalculatedProjection=0),this.nodes.forEach(s4),this.nodes.forEach(ns),this.nodes.forEach(nn),this.nodes.forEach(s9),sZ&&window.MotionDebug.record(sY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new sE)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new tn),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let i=this.eventHandlers.get(t);i&&i.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;let{layoutId:s,layout:n,visualElement:r}=this.options;if(r&&!r.current&&r.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(n||s)&&(this.isLayoutDirty=!0),t){let i;let s=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(t,e){let i=te.now(),s=({timestamp:e})=>{let n=e-i;n>=250&&(Y(s),t(n-250))};return J.read(s,!0),()=>Y(s)}(s,0),sm.hasAnimatedSinceResize&&(sm.hasAnimatedSinceResize=!1,this.nodes.forEach(ni))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&r&&(s||n)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:i,layout:s})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||r.getDefaultTransition()||nu,{onLayoutAnimationStart:h,onLayoutAnimationComplete:l}=r.getProps(),o=!this.targetLayout||!sH(this.targetLayout,s)||i,a=!e&&i;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||a||e&&(o||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,a);let e={...g(n,"layout"),onPlay:h,onComplete:l};(r.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||ni(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Y(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nr),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function t(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:i}=e.options;if(!i)return;let s=i.props[td];if(window.MotionHasOptimisedAnimation(s,"transform")){let{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",J,!(t||i))}let{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&t(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:i}=this.options;if(void 0===e&&!i)return;let s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s7);return}this.isUpdating||this.nodes.forEach(nt),this.isUpdating=!1,this.nodes.forEach(ne),this.nodes.forEach(s5),this.nodes.forEach(s6),this.clearAllSnapshots();let t=te.now();Z.delta=tT(0,1e3/60,t-Z.timestamp),Z.timestamp=t,Z.isProcessing=!0,Q.update.process(Z),Q.preRender.process(Z),Q.render.process(Z),Z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s8),this.sharedNodes.forEach(nh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,J.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){J.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=iJ(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){let e=s(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!n)return;let t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!sU(this.projectionDelta),i=this.getTransformTemplate(),s=i?i(this.latestValues,""):void 0,r=s!==this.prevTransformTemplateValue;t&&(e||i1(this.latestValues)||r)&&(n(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let i=this.measurePageBox(),s=this.removeElementScroll(i);return t&&(s=this.removeTransform(s)),nf((e=s).x),nf(e.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var t;let{visualElement:e}=this.options;if(!e)return iJ();let i=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(nm))){let{scroll:t}=this.root;t&&(i4(i.x,t.offset.x),i4(i.y,t.offset.y))}return i}removeElementScroll(t){var e;let i=iJ();if(sN(i,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return i;for(let e=0;e<this.path.length;e++){let s=this.path[e],{scroll:n,options:r}=s;s!==this.root&&n&&r.layoutScroll&&(n.wasRoot&&sN(i,t),i4(i.x,n.offset.x),i4(i.y,n.offset.y))}return i}applyTransform(t,e=!1){let i=iJ();sN(i,t);for(let t=0;t<this.path.length;t++){let s=this.path[t];!e&&s.options.layoutScroll&&s.scroll&&s!==s.root&&i8(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i1(s.latestValues)&&i8(i,s.latestValues)}return i1(this.latestValues)&&i8(i,this.latestValues),i}removeTransform(t){let e=iJ();sN(e,t);for(let t=0;t<this.path.length;t++){let i=this.path[t];if(!i.instance||!i1(i.latestValues))continue;i0(i.latestValues)&&i.updateSnapshot();let s=iJ();sN(s,i.measurePageBox()),sF(e,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,s)}return i1(this.latestValues)&&sF(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e,i,s,n;let r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);let h=!!this.resumingFrom||this!==r;if(!(t||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:l,layoutId:o}=this.options;if(this.layout&&(l||o)){if(this.resolvedRelativeTargetAt=Z.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iJ(),this.relativeTargetOrigin=iJ(),iF(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),sN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=iJ(),this.targetWithTransforms=iJ()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),i=this.target,s=this.relativeTarget,n=this.relativeParent.target,ij(i.x,s.x,n.x),ij(i.y,s.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sN(this.target,this.layout.layoutBox),i6(this.target,this.targetDelta)):sN(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iJ(),this.relativeTargetOrigin=iJ(),iF(this.relativeTargetOrigin,this.target,t.target),sN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sZ&&sY.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||i0(this.parent.latestValues)||i2(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),i=!!this.resumingFrom||this!==e,s=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(s=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Z.timestamp&&(s=!1),s)return;let{layout:n,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||r))return;sN(this.layoutCorrected,this.layout.layoutBox);let h=this.treeScale.x,l=this.treeScale.y;!function(t,e,i,s=!1){let n,r;let h=i.length;if(h){e.x=e.y=1;for(let l=0;l<h;l++){r=(n=i[l]).projectionDelta;let{visualElement:h}=n.options;(!h||!h.props.style||"contents"!==h.props.style.display)&&(s&&n.options.layoutScroll&&n.scroll&&n!==n.root&&i8(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,i6(t,r)),s&&i1(n.latestValues)&&i8(t,n.latestValues))}e.x<1.0000000000001&&e.x>.999999999999&&(e.x=1),e.y<1.0000000000001&&e.y>.999999999999&&(e.y=1)}}(this.layoutCorrected,this.treeScale,this.path,i),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=iJ());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(s$(this.prevProjectionDelta.x,this.projectionDelta.x),s$(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),iB(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===h&&this.treeScale.y===l&&sG(this.projectionDelta.x,this.prevProjectionDelta.x)&&sG(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),sZ&&sY.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=iq(),this.projectionDelta=iq(),this.projectionDeltaWithTransform=iq()}setAnimationOrigin(t,e=!1){let i;let s=this.snapshot,n=s?s.latestValues:{},r={...this.latestValues},h=iq();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let l=iJ(),o=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),a=this.getStack(),u=!a||a.members.length<=1,c=!!(o&&!u&&!0===this.options.crossfade&&!this.path.some(na));this.animationProgress=0,this.mixTargetDelta=e=>{let s=e/1e3;if(nl(h.x,t.x,s),nl(h.y,t.y,s),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var a,d,f,p;iF(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,no(f.x,p.x,l.x,s),no(f.y,p.y,l.y,s),i&&(a=this.relativeTarget,d=i,sK(a.x,d.x)&&sK(a.y,d.y))&&(this.isProjectionDirty=!1),i||(i=iJ()),sN(i,this.relativeTarget)}o&&(this.animationValues=r,function(t,e,i,s,n,r){n?(t.opacity=ez(0,void 0!==i.opacity?i.opacity:1,sL(s)),t.opacityExit=ez(void 0!==e.opacity?e.opacity:1,0,sR(s))):r&&(t.opacity=ez(void 0!==e.opacity?e.opacity:1,void 0!==i.opacity?i.opacity:1,s));for(let n=0;n<s_;n++){let r=`border${sP[n]}Radius`,h=sV(e,r),l=sV(i,r);(void 0!==h||void 0!==l)&&(h||(h=0),l||(l=0),0===h||0===l||sz(h)===sz(l)?(t[r]=Math.max(ez(sk(h),sk(l),s),0),(tW.test(l)||tW.test(h))&&(t[r]+="%")):t[r]=l)}(e.rotate||i.rotate)&&(t.rotate=ez(e.rotate||0,i.rotate||0,s))}(r,n,this.latestValues,s,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Y(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=J.update(()=>{sm.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,i){let s=ta(0)?0:to(0);return s.start(id("",s,1e3,i)),s.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:i,layout:s,latestValues:n}=t;if(e&&i&&s){if(this!==t&&this.layout&&s&&np(this.options.animationType,this.layout.layoutBox,s.layoutBox)){i=this.target||iJ();let e=i$(this.layout.layoutBox.x);i.x.min=t.target.x.min,i.x.max=i.x.min+e;let s=i$(this.layout.layoutBox.y);i.y.min=t.target.y.min,i.y.max=i.y.min+s}sN(e,i),i8(e,n),iB(this.projectionDeltaWithTransform,this.layoutCorrected,e,n)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new sJ),this.sharedNodes.get(t).add(e);let i=e.options.initialPromotionConfig;e.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:i}={}){let s=this.getStack();s&&s.promote(this,i),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:i}=t;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(e=!0),!e)return;let s={};i.z&&s2("z",t,s,this.animationValues);for(let e=0;e<sQ.length;e++)s2(`rotate${sQ[e]}`,t,s,this.animationValues),s2(`skew${sQ[e]}`,t,s,this.animationValues);for(let e in t.render(),s)t.setStaticValue(e,s[e]),this.animationValues&&(this.animationValues[e]=s[e]);t.scheduleRender()}getProjectionStyles(t){var e,i;if(!this.instance||this.isSVG)return;if(!this.isVisible)return s0;let s={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=sT(null==t?void 0:t.pointerEvents)||"",s.transform=n?n(this.latestValues,""):"none",s;let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=sT(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!i1(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1),e}let h=r.animationValues||r.latestValues;this.applyTransformsToTarget(),s.transform=function(t,e,i){let s="",n=t.x.translate/e.x,r=t.y.translate/e.y,h=(null==i?void 0:i.z)||0;if((n||r||h)&&(s=`translate3d(${n}px, ${r}px, ${h}px) `),(1!==e.x||1!==e.y)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),i){let{transformPerspective:t,rotate:e,rotateX:n,rotateY:r,skewX:h,skewY:l}=i;t&&(s=`perspective(${t}px) ${s}`),e&&(s+=`rotate(${e}deg) `),n&&(s+=`rotateX(${n}deg) `),r&&(s+=`rotateY(${r}deg) `),h&&(s+=`skewX(${h}deg) `),l&&(s+=`skewY(${l}deg) `)}let l=t.x.scale*e.x,o=t.y.scale*e.y;return(1!==l||1!==o)&&(s+=`scale(${l}, ${o})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,h),n&&(s.transform=n(h,s.transform));let{x:l,y:o}=this.projectionDelta;for(let t in s.transformOrigin=`${100*l.origin}% ${100*o.origin}% 0`,r.animationValues?s.opacity=r===this?null!==(i=null!==(e=h.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=r===this?void 0!==h.opacity?h.opacity:"":void 0!==h.opacityExit?h.opacityExit:0,sy){if(void 0===h[t])continue;let{correct:e,applyTo:i}=sy[t],n="none"===s.transform?h[t]:e(h[t],r);if(i){let t=i.length;for(let e=0;e<t;e++)s[i[e]]=n}else s[t]=n}return this.options.layoutId&&(s.pointerEvents=r===this?sT(null==t?void 0:t.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(s7),this.root.sharedNodes.clear()}}}function s5(t){t.updateLayout()}function s6(t){var e;let i=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:s}=t.layout,{animationType:n}=t.options,r=i.source!==t.layout.source;"size"===n?iY(t=>{let s=r?i.measuredBox[t]:i.layoutBox[t],n=i$(s);s.min=e[t].min,s.max=s.min+n}):np(n,i.layoutBox,e)&&iY(s=>{let n=r?i.measuredBox[s]:i.layoutBox[s],h=i$(e[s]);n.max=n.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[s].max=t.relativeTarget[s].min+h)});let h=iq();iB(h,e,i.layoutBox);let l=iq();r?iB(l,t.applyTransform(s,!0),i.measuredBox):iB(l,e,i.layoutBox);let o=!sU(h),a=!1;if(!t.resumeFrom){let s=t.getClosestProjectingParent();if(s&&!s.resumeFrom){let{snapshot:n,layout:r}=s;if(n&&r){let h=iJ();iF(h,i.layoutBox,n.layoutBox);let l=iJ();iF(l,e,r.layoutBox),sH(h,l)||(a=!0),s.options.layoutRoot&&(t.relativeTarget=l,t.relativeTargetOrigin=h,t.relativeParent=s)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:i,delta:l,layoutDelta:h,hasLayoutChanged:o,hasRelativeTargetChanged:a})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function s4(t){sZ&&sY.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function s8(t){t.clearSnapshot()}function s7(t){t.clearMeasurements()}function nt(t){t.isLayoutDirty=!1}function ne(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ni(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ns(t){t.resolveTargetDelta()}function nn(t){t.calcProjection()}function nr(t){t.resetSkewAndRotation()}function nh(t){t.removeLeadSnapshot()}function nl(t,e,i){t.translate=ez(e.translate,0,i),t.scale=ez(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function no(t,e,i,s){t.min=ez(e.min,i.min,s),t.max=ez(e.max,i.max,s)}function na(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let nu={duration:.45,ease:[.4,0,.1,1]},nc=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nd=nc("applewebkit/")&&!nc("chrome/")?Math.round:W;function nf(t){t.min=nd(t.min),t.max=nd(t.max)}function np(t,e,i){return"position"===t||"preserve-aspect"===t&&!(.2>=Math.abs(sq(e)-sq(i)))}function nm(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}let nv=s3({attachResizeListener:(t,e)=>iT(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},ny=s3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ng.current){let t=new nv({});t.mount(window),t.setOptions({layoutScroll:!0}),ng.current=t}return ng.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position});function nb(t,e,i){let{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover","Start"===i);let n=s["onHover"+i];n&&J.postRender(()=>n(e,iP(e)))}class nw extends iS{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,i={}){let[s,n,r]=k(t,i),h=z(t=>{let{target:i}=t,s=e(t);if("function"!=typeof s||!i)return;let r=z(t=>{s(t),i.removeEventListener("pointerleave",r)});i.addEventListener("pointerleave",r,n)});return s.forEach(t=>{t.addEventListener("pointerenter",h,n)}),r}(t,t=>(nb(this.node,t,"Start"),t=>nb(this.node,t,"End"))))}unmount(){}}class nx extends iS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eB(iT(this.node.current,"focus",()=>this.onFocus()),iT(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nS(t,e,i){let{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap","Start"===i);let n=s["onTap"+("End"===i?"":i)];n&&J.postRender(()=>n(e,iP(e)))}class nM extends iS{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,i={}){let[s,n,r]=k(t,i),h=t=>{let s=t.currentTarget;if(!O(t)||D.has(s))return;D.add(s);let r=e(t),h=(t,e)=>{window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",o),O(t)&&D.has(s)&&(D.delete(s),"function"==typeof r&&r(t,{success:e}))},l=t=>{h(t,i.useGlobalTarget||V(s,t.target))},o=t=>{h(t,!1)};window.addEventListener("pointerup",l,n),window.addEventListener("pointercancel",o,n)};return s.forEach(t=>{R.has(t.tagName)||-1!==t.tabIndex||null!==t.getAttribute("tabindex")||(t.tabIndex=0),(i.useGlobalTarget?window:t).addEventListener("pointerdown",h,n),t.addEventListener("focus",t=>$(t,n),n)}),r}(t,t=>(nS(this.node,t,"Start"),(t,{success:e})=>nS(this.node,t,e?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let nC=new WeakMap,nE=new WeakMap,nT=t=>{let e=nC.get(t.target);e&&e(t)},nP=t=>{t.forEach(nT)},n_={some:0,all:1};class nk extends iS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:n}=t,r={root:e?e.current:void 0,rootMargin:i,threshold:"number"==typeof s?s:n_[s]};return function(t,e,i){let s=function({root:t,...e}){let i=t||document;nE.has(i)||nE.set(i,{});let s=nE.get(i),n=JSON.stringify(e);return s[n]||(s[n]=new IntersectionObserver(nP,{root:t,...e})),s[n]}(e);return nC.set(t,i),s.observe(t),()=>{nC.delete(t),s.unobserve(t)}}(this.node.current,r,t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,n&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:i,onViewportLeave:s}=this.node.getProps(),r=e?i:s;r&&r(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}(t,e))&&this.startObserver()}unmount(){}}let nz=(0,sc.createContext)({strict:!1});var nV=i(9791);let nL=(0,sc.createContext)({});function nR(t){return n(t.animate)||d.some(e=>l(t[e]))}function nD(t){return!!(nR(t)||t.variants)}function nA(t){return Array.isArray(t)?t.join(" "):t}var nN=i(7282);let n$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nO={};for(let t in n$)nO[t]={isEnabled:e=>n$[t].some(t=>!!e[t])};let nB=Symbol.for("motionComponentSymbol");var nj=i(7797),nW=i(9033);let nF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nI(t){if("string"!=typeof t||t.includes("-"));else if(nF.indexOf(t)>-1||/[A-Z]/u.test(t))return!0;return!1}var nU=i(458);let nK=t=>(e,i)=>{let s=(0,sc.useContext)(nL),r=(0,sc.useContext)(nj.O),h=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:i},s,r,h){let l={latestValues:function(t,e,i,s){let r={},h=s(t,{});for(let t in h)r[t]=sT(h[t]);let{initial:l,animate:o}=t,u=nR(t),c=nD(t);e&&c&&!u&&!1!==t.inherit&&(void 0===l&&(l=e.initial),void 0===o&&(o=e.animate));let d=!!i&&!1===i.initial,f=(d=d||!1===l)?o:l;if(f&&"boolean"!=typeof f&&!n(f)){let e=Array.isArray(f)?f:[f];for(let i=0;i<e.length;i++){let s=a(t,e[i]);if(s){let{transitionEnd:t,transition:e,...i}=s;for(let t in i){let e=i[t];if(Array.isArray(e)){let t=d?e.length-1:0;e=e[t]}null!==e&&(r[t]=e)}for(let e in t)r[e]=t[e]}}}return r}(s,r,h,t),renderState:e()};return i&&(l.onMount=t=>i({props:s,current:t,...l}),l.onUpdate=t=>i(t)),l})(t,e,s,r);return i?h():(0,nU.h)(h)},nX=(t,e)=>e&&"number"==typeof t?e.transform(t):t,nH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nq=F.length;function nG(t,e,i){let{style:s,vars:n,transformOrigin:r}=t,h=!1,l=!1;for(let t in e){let i=e[t];if(I.has(t)){h=!0;continue}if(eg(t)){n[t]=i;continue}{let e=nX(i,t8[t]);t.startsWith("origin")?(l=!0,r[t]=e):s[t]=e}}if(!e.transform&&(h||i?s.transform=function(t,e,i){let s="",n=!0;for(let r=0;r<nq;r++){let h=F[r],l=t[h];if(void 0===l)continue;let o=!0;if(!(o="number"==typeof l?l===(h.startsWith("scale")?1:0):0===parseFloat(l))||i){let t=nX(l,t8[h]);if(!o){n=!1;let e=nH[h]||h;s+=`${e}(${t}) `}i&&(e[h]=t)}}return s=s.trim(),i?s=i(e,n?"":s):n&&(s="none"),s}(e,t.transform,i):s.transform&&(s.transform="none")),l){let{originX:t="50%",originY:e="50%",originZ:i=0}=r;s.transformOrigin=`${t} ${e} ${i}`}}let nJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},nY={offset:"strokeDashoffset",array:"strokeDasharray"};function nZ(t,e,i){return"string"==typeof t?t:tF.transform(e+i*t)}function nQ(t,{attrX:e,attrY:i,attrScale:s,originX:n,originY:r,pathLength:h,pathSpacing:l=1,pathOffset:o=0,...a},u,c){if(nG(t,a,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:d,style:f,dimensions:p}=t;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(void 0!==n||void 0!==r||f.transform)&&(f.transformOrigin=function(t,e,i){let s=nZ(e,t.x,t.width),n=nZ(i,t.y,t.height);return`${s} ${n}`}(p,void 0!==n?n:.5,void 0!==r?r:.5)),void 0!==e&&(d.x=e),void 0!==i&&(d.y=i),void 0!==s&&(d.scale=s),void 0!==h&&function(t,e,i=1,s=0,n=!0){t.pathLength=1;let r=n?nJ:nY;t[r.offset]=tF.transform(-s);let h=tF.transform(e),l=tF.transform(i);t[r.array]=`${h} ${l}`}(d,h,l,o,!1)}let n0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),n1=()=>({...n0(),attrs:{}}),n2=t=>"string"==typeof t&&"svg"===t.toLowerCase();function n3(t,{style:e,vars:i},s,n){for(let r in Object.assign(t.style,e,n&&n.getProjectionStyles(s)),i)t.style.setProperty(r,i[r])}let n5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n6(t,e,i,s){for(let i in n3(t,e,void 0,s),e.attrs)t.setAttribute(n5.has(i)?i:tc(i),e.attrs[i])}function n4(t,{layout:e,layoutId:i}){return I.has(t)||t.startsWith("origin")||(e||void 0!==i)&&(!!sy[t]||"opacity"===t)}function n9(t,e,i){var s;let{style:n}=t,r={};for(let h in n)(ta(n[h])||e.style&&ta(e.style[h])||n4(h,t)||(null===(s=null==i?void 0:i.getValue(h))||void 0===s?void 0:s.liveStyle)!==void 0)&&(r[h]=n[h]);return r}function n8(t,e,i){let s=n9(t,e,i);for(let i in t)(ta(t[i])||ta(e[i]))&&(s[-1!==F.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]);return s}let n7=["x","y","width","height","cx","cy","r"],rt={useVisualState:nK({scrapeMotionValuesFromProps:n8,createRenderState:n1,onUpdate:({props:t,prevProps:e,current:i,renderState:s,latestValues:n})=>{if(!i)return;let r=!!t.drag;if(!r){for(let t in n)if(I.has(t)){r=!0;break}}if(!r)return;let h=!e;if(e)for(let i=0;i<n7.length;i++){let s=n7[i];t[s]!==e[s]&&(h=!0)}h&&J.read(()=>{!function(t,e){try{e.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(t){e.dimensions={x:0,y:0,width:0,height:0}}}(i,s),J.render(()=>{nQ(s,n,n2(i.tagName),t.transformTemplate),n6(i,s)})})}})},re={useVisualState:nK({scrapeMotionValuesFromProps:n9,createRenderState:n0})};function ri(t,e,i){for(let s in e)ta(e[s])||n4(s,i)||(t[s]=e[s])}let rs=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rn(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rs.has(t)}let rr=t=>!rn(t);try{(sl=require("@emotion/is-prop-valid").default)&&(rr=t=>t.startsWith("on")?!rn(t):sl(t))}catch(t){}let rh={current:null},rl={current:!1},ro=[...eM,tH,t2],ra=t=>ro.find(eS(t)),ru=new WeakMap,rc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rd{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:n,visualState:r},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ep,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let t=te.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,J.render(this.render,!1,!0))};let{latestValues:l,renderState:o,onUpdate:a}=r;this.onUpdate=a,this.latestValues=l,this.baseTarget={...l},this.initialValues=e.initial?{...l}:{},this.renderState=o,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!n,this.isControllingVariants=nR(e),this.isVariantNode=nD(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:u,...c}=this.scrapeMotionValuesFromProps(e,{},this);for(let t in c){let e=c[t];void 0!==l[t]&&ta(e)&&e.set(l[t],!1)}}mount(t){this.current=t,ru.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),rl.current||function(){if(rl.current=!0,nN.j){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rh.current=t.matches;t.addListener(e),e()}else rh.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||rh.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in ru.delete(this.current),this.projection&&this.projection.unmount(),Y(this.notifyUpdate),Y(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features){let e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){let i;this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let s=I.has(t),n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&J.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{n(),r(),i&&i(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in nO){let e=nO[t];if(!e)continue;let{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):iJ()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<rc.length;e++){let i=rc[e];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=function(t,e,i){for(let s in e){let n=e[s],r=i[s];if(ta(n))t.addValue(s,n);else if(ta(r))t.addValue(s,to(n,{owner:t}));else if(r!==n){if(t.hasValue(s)){let e=t.getValue(s);!0===e.liveStyle?e.jump(n):e.hasAnimated||e.set(n)}else{let e=t.getStaticValue(s);t.addValue(s,to(void 0!==e?e:n,{owner:t}))}}}for(let s in i)void 0===e[s]&&t.removeValue(s);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){let i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return void 0===i&&void 0!==e&&(i=to(null===e?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=void 0===this.latestValues[t]&&this.current?null!==(i=this.getBaseTargetFromProps(this.props,t))&&void 0!==i?i:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];return null!=s&&("string"==typeof s&&(em(s)||tE(s))?s=parseFloat(s):!ra(s)&&t2.test(e)&&(s=ee(t,e)),this.setBaseTarget(t,ta(s)?s.get():s)),ta(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let i;let{initial:s}=this.props;if("string"==typeof s||"object"==typeof s){let n=a(this.props,s,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);n&&(i=n[t])}if(s&&void 0!==i)return i;let n=this.getBaseTargetFromProps(this.props,t);return void 0===n||ta(n)?void 0!==this.initialValues[t]&&void 0===i?void 0:this.baseTarget[t]:n}on(t,e){return this.events[t]||(this.events[t]=new tn),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class rf extends rd{constructor(){super(...arguments),this.KeyframeResolver=eE}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;ta(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class rp extends rf{constructor(){super(...arguments),this.type="html",this.renderInstance=n3}readValueFromInstance(t,e){if(I.has(e)){let t=et(e);return t&&t.default||0}{let i=window.getComputedStyle(t),s=(eg(e)?i.getPropertyValue(e):i[e])||0;return"string"==typeof s?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return i7(t,e)}build(t,e,i){nG(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return n9(t,e,i)}}class rm extends rf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=iJ}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(I.has(e)){let t=et(e);return t&&t.default||0}return e=n5.has(e)?e:tc(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return n8(t,e,i)}build(t,e,i){nQ(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){n6(t,e,i,s)}mount(t){this.isSVGTag=n2(t.tagName),super.mount(t)}}let rv=function(t){if("undefined"==typeof Proxy)return t;let e=new Map;return new Proxy((...e)=>t(...e),{get:(i,s)=>"create"===s?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}((so={animation:{Feature:iM},exit:{Feature:iE},inView:{Feature:nk},tap:{Feature:nM},focus:{Feature:nx},hover:{Feature:nw},pan:{Feature:sh},drag:{Feature:sn,ProjectionNode:ny,MeasureLayout:sS},layout:{ProjectionNode:ny,MeasureLayout:sS}},sa=(t,e)=>nI(t)?new rm(e):new rp(e,{allowProjection:t!==sc.Fragment}),function(t,{forwardMotionProps:e}={forwardMotionProps:!1}){return function(t){var e,i;let{preloadedFeatures:s,createVisualElement:n,useRender:r,useVisualState:h,Component:o}=t;function a(t,e){var i;let s;let a={...(0,sc.useContext)(nV._),...t,layoutId:function(t){let{layoutId:e}=t,i=(0,sc.useContext)(sf.p).id;return i&&void 0!==e?i+"-"+e:e}(t)},{isStatic:u}=a,c=function(t){let{initial:e,animate:i}=function(t,e){if(nR(t)){let{initial:e,animate:i}=t;return{initial:!1===e||l(e)?e:void 0,animate:l(i)?i:void 0}}return!1!==t.inherit?e:{}}(t,(0,sc.useContext)(nL));return(0,sc.useMemo)(()=>({initial:e,animate:i}),[nA(e),nA(i)])}(t),d=h(t,u);if(!u&&nN.j){(0,sc.useContext)(nz).strict;let t=function(t){let{drag:e,layout:i}=nO;if(!e&&!i)return{};let s={...e,...i};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==i?void 0:i.isEnabled(t))?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(a);s=t.MeasureLayout,c.visualElement=function(t,e,i,s,n){var r,h;let{visualElement:l}=(0,sc.useContext)(nL),o=(0,sc.useContext)(nz),a=(0,sc.useContext)(nj.O),u=(0,sc.useContext)(nV._).reducedMotion,c=(0,sc.useRef)(null);s=s||o.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:l,props:i,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:u}));let d=c.current,f=(0,sc.useContext)(sp);d&&!d.projection&&n&&("html"===d.type||"svg"===d.type)&&function(t,e,i,s){let{layoutId:n,layout:r,drag:h,dragConstraints:l,layoutScroll:o,layoutRoot:a}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:function t(e){if(e)return!1!==e.options.allowProjection?e.projection:t(e.parent)}(t.parent)),t.projection.setOptions({layoutId:n,layout:r,alwaysMeasureLayout:!!h||l&&iN(l),visualElement:t,animationType:"string"==typeof r?r:"both",initialPromotionConfig:s,layoutScroll:o,layoutRoot:a})}(c.current,i,n,f);let p=(0,sc.useRef)(!1);(0,sc.useInsertionEffect)(()=>{d&&p.current&&d.update(i,a)});let m=i[td],v=(0,sc.useRef)(!!m&&!(null===(r=window.MotionHandoffIsComplete)||void 0===r?void 0:r.call(window,m))&&(null===(h=window.MotionHasOptimisedAnimation)||void 0===h?void 0:h.call(window,m)));return(0,nW.L)(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),sb.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),(0,sc.useEffect)(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var t;null===(t=window.MotionHandoffMarkAsComplete)||void 0===t||t.call(window,m)}),v.current=!1))}),d}(o,d,a,n,t.ProjectionNode)}return(0,su.jsxs)(nL.Provider,{value:c,children:[s&&c.visualElement?(0,su.jsx)(s,{visualElement:c.visualElement,...a}):null,r(o,t,(i=c.visualElement,(0,sc.useCallback)(t=>{t&&d.onMount&&d.onMount(t),i&&(t?i.mount(t):i.unmount()),e&&("function"==typeof e?e(t):iN(e)&&(e.current=t))},[i])),d,u,c.visualElement)]})}s&&function(t){for(let e in t)nO[e]={...nO[e],...t[e]}}(s),a.displayName="motion.".concat("string"==typeof o?o:"create(".concat(null!==(i=null!==(e=o.displayName)&&void 0!==e?e:o.name)&&void 0!==i?i:"",")"));let u=(0,sc.forwardRef)(a);return u[nB]=o,u}({...nI(t)?rt:re,preloadedFeatures:so,useRender:function(t=!1){return(e,i,s,{latestValues:n},r)=>{let h=(nI(e)?function(t,e,i,s){let n=(0,sc.useMemo)(()=>{let i=n1();return nQ(i,e,n2(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){let e={};ri(e,t.style,t),n.style={...e,...n.style}}return n}:function(t,e){let i={},s=function(t,e){let i=t.style||{},s={};return ri(s,i,t),Object.assign(s,function({transformTemplate:t},e){return(0,sc.useMemo)(()=>{let i=n0();return nG(i,e,t),Object.assign({},i.vars,i.style)},[e])}(t,e)),s}(t,e);return t.drag&&!1!==t.dragListener&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i})(i,n,r,e),l=function(t,e,i){let s={};for(let n in t)("values"!==n||"object"!=typeof t.values)&&(rr(n)||!0===i&&rn(n)||!e&&!rn(n)||t.draggable&&n.startsWith("onDrag"))&&(s[n]=t[n]);return s}(i,"string"==typeof e,t),o=e!==sc.Fragment?{...l,...h,ref:s}:{},{children:a}=i,u=(0,sc.useMemo)(()=>ta(a)?a.get():a,[a]);return(0,sc.createElement)(e,{...o,children:u})}}(e),createVisualElement:sa,Component:t})}))},7282:function(t,e,i){i.d(e,{j:function(){return s}});let s="undefined"!=typeof window},458:function(t,e,i){i.d(e,{h:function(){return n}});var s=i(2265);function n(t){let e=(0,s.useRef)(null);return null===e.current&&(e.current=t()),e.current}},9033:function(t,e,i){i.d(e,{L:function(){return n}});var s=i(2265);let n=i(7282).j?s.useLayoutEffect:s.useEffect},6566:function(t,e,i){function s(t){var e=t.width,i=t.height;if(e<0)throw Error("Negative width is not allowed for Size");if(i<0)throw Error("Negative height is not allowed for Size");return{width:e,height:i}}function n(t,e){return t.width===e.width&&t.height===e.height}i.d(e,{Mr:function(){return M},C2:function(){return sJ}});var r,h,l,o,a,u,c,d,f,p,m,v,g,y,b,w,x,S,M,C,E,T=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(t){return t!==i})}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}(),P=function(){function t(t,e,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=s({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=e?e:function(t){return t},this._allowResizeObserver=null===(n=null==i?void 0:i.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return s({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=s(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;n(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,e)})},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=s(this._transformBitmapSize(t,this._canvasElementClientSize)),r=n(this.bitmapSize,i)?null:i;null===e&&null===r||null!==e&&null!==r&&n(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,e)})},t.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}new Promise(function(t){var e=new ResizeObserver(function(i){t(i.every(function(t){return"devicePixelContentBoxSize"in t})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=_(this._canvasElement);if(null===e)throw Error("No window is associated with the canvas");this._devicePixelRatioObservable=new T(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){if(null!==this._canvasElement){var t,e,i=_(this._canvasElement);if(null!==i){var n,r=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,h=this._canvasElement.getClientRects(),l=void 0!==h[0]?s({width:Math.round((n=h[0]).left*r+n.width*r)-Math.round(n.left*r),height:Math.round(n.top*r+n.height*r)-Math.round(n.top*r)}):s({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(l)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(e){return e.target===t._canvasElement});if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var n=i.devicePixelContentBoxSize[0],r=s({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function _(t){return t.ownerDocument.defaultView}var k=function(){function t(t,e,i){if(0===e.width||0===e.height)throw TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function z(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var s=t.bitmapSize;if(0===s.width||0===s.height)return null;var n=t.canvasElement.getContext("2d",e);return null===n?null:new k(n,i,s)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */let V={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},L={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},R={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},D={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},A={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},N={color:"#26a69a",base:0},$={color:"#2196f3"},O={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};function B(t,e){let i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function j(t,e,i,s){t.beginPath();let n=t.lineWidth%2?.5:0;t.moveTo(i,e+n),t.lineTo(s,e+n),t.stroke()}function W(t,e){if(!t)throw Error("Assertion failed"+(e?": "+e:""))}function F(t){if(void 0===t)throw Error("Value is undefined");return t}function I(t){if(null===t)throw Error("Value is null");return t}function U(t){return I(F(t))}(r=m||(m={}))[r.Simple=0]="Simple",r[r.WithSteps=1]="WithSteps",r[r.Curved=2]="Curved",(h=v||(v={}))[h.Solid=0]="Solid",h[h.Dotted=1]="Dotted",h[h.Dashed=2]="Dashed",h[h.LargeDashed=3]="LargeDashed",h[h.SparseDotted=4]="SparseDotted";let K={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function X(t){return t<0?0:t>255?255:Math.round(t)||0}function H(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}let q=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,G=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,J=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Y=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Z(t){(t=t.toLowerCase())in K&&(t=K[t]);{let e=Y.exec(t)||J.exec(t);if(e)return[X(parseInt(e[1],10)),X(parseInt(e[2],10)),X(parseInt(e[3],10)),H(e.length<5?1:parseFloat(e[4]))]}{let e=G.exec(t);if(e)return[X(parseInt(e[1],16)),X(parseInt(e[2],16)),X(parseInt(e[3],16)),1]}{let e=q.exec(t);if(e)return[X(17*parseInt(e[1],16)),X(17*parseInt(e[2],16)),X(17*parseInt(e[3],16)),1]}throw Error(`Cannot parse color: ${t}`)}function Q(t){return .199*t[0]+.687*t[1]+.114*t[2]}function tt(t){let e=Z(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:Q(e)>160?"black":"white"}}class te{constructor(){this.h=[]}l(t,e,i){this.h.push({o:t,_:e,u:!0===i})}v(t){let e=this.h.findIndex(e=>t===e.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,i){let s=[...this.h];this.h=this.h.filter(t=>!t.u),s.forEach(s=>s.o(t,e,i))}M(){return this.h.length>0}S(){this.h=[]}}function ti(t,...e){for(let i of e)for(let e in i)void 0!==i[e]&&Object.prototype.hasOwnProperty.call(i,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof i[e]||void 0===t[e]||Array.isArray(i[e])?t[e]=i[e]:ti(t[e],i[e]));return t}function ts(t){return"number"==typeof t&&isFinite(t)}function tn(t){return"number"==typeof t&&t%1==0}function tr(t){return"string"==typeof t}function th(t){return"boolean"==typeof t}function tl(t){let e,i,s;if(!t||"object"!=typeof t)return t;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(s=t[i],e[i]=s&&"object"==typeof s?tl(s):s);return e}function to(t){return null!==t}function ta(t){return null===t?void 0:t}let tu="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function tc(t,e,i){return void 0===e&&(e=tu),`${i=void 0!==i?`${i} `:""}${t}px ${e}`}class td{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){let t=this.k,e=this.j(),i=this.H();return t.P===e&&t.D===i||(t.P=e,t.D=i,t.R=tc(e,i),t.L=2.5/12*e,t.B=t.L,t.A=e/12*t.T,t.I=e/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class tf{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,e,i){this.Y.forEach(s=>{s.X(t,e,i)})}}class tp{X(t,e,i){t.useBitmapCoordinateSpace(t=>this.K(t,e,i))}}class tm extends tp{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.G||null===this.G.tt)return;let s=this.G.tt,n=this.G,r=Math.max(1,Math.floor(e))%2/2,h=h=>{t.beginPath();for(let l=s.to-1;l>=s.from;--l){let s=n.it[l],o=Math.round(s.nt*e)+r,a=s.st*i,u=h*i+r;t.moveTo(o,a),t.arc(o,a,u,0,2*Math.PI)}t.fill()};n.et>0&&(t.fillStyle=n.rt,h(n.ht+n.et)),t.fillStyle=n.lt,h(n.ht)}}function tv(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}let tg={from:0,to:1};class ty{constructor(t,e){this.ut=new tf,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.Z(this.ct)}bt(t){let e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(tv),this.ct=this.dt.map(t=>{let e=new tm;return e.J(t),e}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){let t=2===this.vt.W().mode,e=this.F.wt(),i=this.vt.xt(),s=this.F.St();e.forEach((e,n)=>{var r;let h=this.dt[n],l=e.kt(i);if(t||null===l||!e.yt())return void(h.tt=null);let o=I(e.Ct());h.lt=l.Tt,h.ht=l.ht,h.et=l.Pt,h.it[0]._t=l._t,h.it[0].st=e.Dt().Rt(l._t,o.Vt),h.rt=null!==(r=l.Ot)&&void 0!==r?r:this.F.Bt(h.it[0].st/e.Dt().At()),h.it[0].ot=i,h.it[0].nt=s.It(i),h.tt=tg})}}class tb extends tp{constructor(t){super(),this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(null===this.zt)return;let n=this.zt.Lt.yt,r=this.zt.Et.yt;if(!n&&!r)return;let h=Math.round(this.zt.nt*i),l=Math.round(this.zt.st*s);t.lineCap="butt",n&&h>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*i),t.strokeStyle=this.zt.Lt.V,t.fillStyle=this.zt.Lt.V,B(t,this.zt.Lt.Nt),function(t,e,i,s){t.beginPath();let n=t.lineWidth%2?.5:0;t.moveTo(e+n,0),t.lineTo(e+n,s),t.stroke()}(t,h,0,e.height)),r&&l>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*s),t.strokeStyle=this.zt.Et.V,t.fillStyle=this.zt.Et.V,B(t,this.zt.Et.Nt),j(t,l,0,e.width))}}class tw{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new tb(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){let t=this.jt.yt(),e=I(this.jt.Ht()),i=e.$t().W().crosshair,s=this.Ft;if(2===i.mode)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=t&&this.jt.Ut(e),s.Lt.yt=t&&this.jt.qt(),s.Et.et=i.horzLine.width,s.Et.Nt=i.horzLine.style,s.Et.V=i.horzLine.color,s.Lt.et=i.vertLine.width,s.Lt.Nt=i.vertLine.style,s.Lt.V=i.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function tx(t,e,i,s,n,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,i,s,n),t.restore()}function tS(t,e,i,s,n,r){t.beginPath(),t.roundRect?t.roundRect(e,i,s,n,r):(t.lineTo(e+s-r[1],i),0!==r[1]&&t.arcTo(e+s,i,e+s,i+r[1],r[1]),t.lineTo(e+s,i+n-r[2]),0!==r[2]&&t.arcTo(e+s,i+n,e+s-r[2],i+n,r[2]),t.lineTo(e+r[3],i+n),0!==r[3]&&t.arcTo(e,i+n,e,i+n-r[3],r[3]),t.lineTo(e,i+r[0]),0!==r[0]&&t.arcTo(e,i,e+r[0],i,r[0]))}function tM(t,e,i,s,n,r,h=0,l=[0,0,0,0],o=""){var a;if(t.save(),!h||!o||o===r)return tS(t,e,i,s,n,l),t.fillStyle=r,t.fill(),void t.restore();let u=h/2;tS(t,e+u,i+u,s-h,n-h,(a=-u,l.map(t=>0===t?t:t+a))),"transparent"!==r&&(t.fillStyle=r,t.fill()),"transparent"!==o&&(t.lineWidth=h,t.strokeStyle=o,t.closePath(),t.stroke()),t.restore()}function tC(t,e,i,s,n,r,h){t.save(),t.globalCompositeOperation="copy";let l=t.createLinearGradient(0,0,0,n);l.addColorStop(0,r),l.addColorStop(1,h),t.fillStyle=l,t.fillRect(e,i,s,n),t.restore()}class tE{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Xt=e}At(t,e){return this.zt.yt?t.P+t.L+t.B:0}X(t,e,i,s){if(!this.zt.yt||0===this.zt.Kt.length)return;let n=this.zt.V,r=this.Xt.t,h=t.useBitmapCoordinateSpace(t=>{let h=t.context;h.font=e.R;let l=this.Gt(t,e,i,s),o=l.Jt;return l.Qt?tM(h,o.ti,o.ii,o.ni,o.si,r,o.ei,[o.ht,0,0,o.ht],r):tM(h,o.ri,o.ii,o.ni,o.si,r,o.ei,[0,o.ht,o.ht,0],r),this.zt.hi&&(h.fillStyle=n,h.fillRect(o.ri,o.li,o.ai-o.ri,o.oi)),this.zt._i&&(h.fillStyle=e.O,h.fillRect(l.Qt?o.ui-o.ei:0,o.ii,o.ei,o.ci-o.ii)),l});t.useMediaCoordinateSpace(({context:t})=>{let i=h.di;t.font=e.R,t.textAlign=h.Qt?"right":"left",t.textBaseline="middle",t.fillStyle=n,t.fillText(this.zt.Kt,i.fi,(i.ii+i.ci)/2+i.pi)})}Gt(t,e,i,s){var n;let r,h,l;let{context:o,bitmapSize:a,mediaSize:u,horizontalPixelRatio:c,verticalPixelRatio:d}=t,f=this.zt.hi||!this.zt.mi?e.T:0,p=this.zt.bi?e.C:0,m=e.L+this.Xt.wi,v=e.B+this.Xt.gi,g=e.A,y=e.I,b=this.zt.Kt,w=e.P,x=i.Mi(o,b),S=Math.ceil(i.xi(o,b)),M=e.C+g+y+S+f,C=Math.max(1,Math.floor(d)),E=Math.round((w+m+v)*d);E%2!=C%2&&(E+=1);let T=p>0?Math.max(1,Math.floor(p*c)):0,P=Math.round(M*c),_=Math.round(f*c),k=Math.round((null!==(n=this.Xt.Si)&&void 0!==n?n:this.Xt.ki)*d)-Math.floor(.5*d),z=Math.floor(k+C/2-E/2),V=z+E,L="right"===s,R=L?u.width-p:p,D=L?a.width-T:T;return L?(r=D-P,h=D-_,l=R-f-g-p):(r=D+P,h=D+_,l=R+f+g),{Qt:L,Jt:{ii:z,li:k,ci:V,ni:P,si:E,ht:2*c,ei:T,ti:r,ri:D,ai:h,oi:C,ui:a.width},di:{ii:z/d,ci:V/d,fi:l,pi:x}}}}class tT{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||tE)(this.Ci,this.yi),this.Ri=new(t||tE)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t,e=!1){return Math.max(this.Pi.At(t,e),this.Ri.At(t,e))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class tP extends tT{constructor(t,e,i){super(),this.jt=t,this.Li=e,this.Ei=i}zi(t,e,i){if(t.yt=!1,2===this.jt.W().mode)return;let s=this.jt.W().horzLine;if(!s.labelVisible)return;let n=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||null===n)return;let r=tt(s.labelBackgroundColor);i.t=r.t,t.V=r.i;let h=2/12*this.Li.P();i.wi=h,i.gi=h;let l=this.Ei(this.Li);i.ki=l.ki,t.Kt=this.Li.Fi(l._t,n),t.yt=!0}}let t_=/[1-9]/g;class tk{constructor(){this.zt=null}J(t){this.zt=t}X(t,e){if(null===this.zt||!1===this.zt.yt||0===this.zt.Kt.length)return;let i=t.useMediaCoordinateSpace(({context:t})=>(t.font=e.R,Math.round(e.Wi.xi(t,I(this.zt).Kt,t_))));if(i<=0)return;let s=e.ji,n=i+2*s,r=n/2,h=this.zt.Hi,l=this.zt.ki,o=Math.floor(l-r)+.5;o<0?(l+=Math.abs(0-o),o=Math.floor(l-r)+.5):o+n>h&&(l-=Math.abs(h-(o+n)),o=Math.floor(l-r)+.5);let a=o+n,u=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:i,verticalPixelRatio:s})=>{let n=I(this.zt);t.fillStyle=n.t;let r=Math.round(o*i),h=Math.round(0*s),l=Math.round(a*i),c=Math.round(u*s),d=Math.round(2*i);if(t.beginPath(),t.moveTo(r,h),t.lineTo(r,c-d),t.arcTo(r,c,r+d,c,d),t.lineTo(l-d,c),t.arcTo(l,c,l,c-d,d),t.lineTo(l,h),t.fill(),n.hi){let r=Math.round(n.ki*i),l=Math.round((h+e.T)*s);t.fillStyle=n.V,t.fillRect(r-Math.floor(.5*i),h,Math.max(1,Math.floor(i)),l-h)}}),t.useMediaCoordinateSpace(({context:t})=>{let i=I(this.zt),n=0+e.C+e.T+e.L+e.P/2;t.font=e.R,t.textAlign="left",t.textBaseline="middle",t.fillStyle=i.V;let r=e.Wi.Mi(t,"Apr0");t.translate(o+s,n+r),t.fillText(i.Kt,0,0)})}}class tz{constructor(t,e,i){this.ft=!0,this.Wt=new tk,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){let t=this.Ft;if(t.yt=!1,2===this.vt.W().mode)return;let e=this.vt.W().vertLine;if(!e.labelVisible)return;let i=this.$i.St();if(i.Ni())return;t.Hi=i.Hi();let s=this.Ei();if(null===s)return;t.ki=s.ki;let n=i.Ui(this.vt.xt());t.Kt=i.qi(I(n)),t.yt=!0;let r=tt(e.labelBackgroundColor);t.t=r.t,t.V=r.i,t.hi=i.W().ticksVisible}}class tV{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}(l=g||(g={}))[l.Normal=0]="Normal",l[l.Magnet=1]="Magnet",l[l.Hidden=2]="Hidden";class tL extends tV{constructor(t,e){let i,s,n,r;super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new ty(t,this),this.fn=(i=()=>this.nn,s=()=>this.an,t=>{let e=s(),n=i();if(t===I(this.tn).vn())return{_t:n,ki:e};{let i=I(t.Ct());return{_t:t.pn(e,i),ki:e}}});let h=(n=()=>this.sn,r=()=>this.Yt(),()=>{let t=this.$i.St().mn(n()),e=r();return t&&Number.isFinite(e)?{ot:t,ki:e}:null});this.bn=new tz(this,t,h),this.wn=new tw(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,i){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return null!==this.tn?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();let i=[];return this.tn===t&&i.push(this.Dn(this.rn,e,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,i){this.Bn(t,e,i)&&this.Vn()}Bn(t,e,i){let s=this.ln,n=this.an,r=this.nn,h=this.sn,l=this.tn,o=this.On(i);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=i;let a=null!==o?o.Ct():null;return null!==o&&null!==a?(this.nn=e,this.an=o.Rt(e,a)):(this.nn=NaN,this.an=NaN),s!==this.ln||n!==this.an||h!==this.sn||r!==this.nn||l!==this.tn}Tn(){let t=this.$i.wt().map(t=>t.In().An()).filter(to),e=0===t.length?null:Math.max(...t);this.sn=null!==e?e:NaN}Dn(t,e,i){let s=t.get(e);return void 0===s&&(s=new tP(this,e,i),t.set(e,s)),s}}function tR(t){return"left"===t||"right"===t}class tD{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){var i;let s=void 0===(i=this.zn.get(t))?e:{Fn:Math.max(i.Fn,e.Fn),Wn:i.Wn||e.Wn};this.zn.set(t,s)}jn(){return this.En}Hn(t){let e=this.zn.get(t);return void 0===e?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(let e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((t,e)=>{this.Nn(e,t)})}static ss(){return new tD(2)}static es(){return new tD(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){let t=this.Ln.findIndex(t=>5===t.qn);-1!==t&&this.Ln.splice(t,1)}}function tA(t,e){if(!ts(t))return"n/a";if(!tn(e)||e<0||e>16)throw TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class tN{constructor(t,e){if(e||(e=1),ts(t)&&tn(t)||(t=100),t<0)throw TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){let e=t<0?"":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this._s++}}ls(t){let e=this.Li/this.rs,i=Math.floor(t),s="",n=void 0!==this._s?this._s:NaN;if(e>1){let r=+(Math.round(t*e)-i*e).toFixed(this._s);r>=e&&(r-=e,i+=1),s="."+tA(+r.toFixed(this._s)*this.rs,n)}else i=Math.round(i*e)/e,n>0&&(s="."+tA(0,n));return i.toFixed(0)+s}}class t$ extends tN{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class tO{constructor(t){this.us=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.cs(t):t<999995?e+this.cs(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.cs(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.cs(t/1e9)+"B")}cs(t){let e=Math.pow(10,this.us);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this.us).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(t,e)=>e)}}function tB(t,e,i,s,n,r,h){if(0===e.length||s.from>=e.length||s.to<=0)return;let{context:l,horizontalPixelRatio:o,verticalPixelRatio:a}=t,u=e[s.from],c=r(t,u),d=u;if(s.to-s.from<2){let e=n/2;l.beginPath();let i={nt:u.nt-e,st:u.st},s={nt:u.nt+e,st:u.st};l.moveTo(i.nt*o,i.st*a),l.lineTo(s.nt*o,s.st*a),h(t,c,i,s)}else{let n=(e,i)=>{h(t,c,d,i),l.beginPath(),c=e,d=i},f=d;l.beginPath(),l.moveTo(u.nt*o,u.st*a);for(let h=s.from+1;h<s.to;++h){let s=r(t,f=e[h]);switch(i){case 0:l.lineTo(f.nt*o,f.st*a);break;case 1:l.lineTo(f.nt*o,e[h-1].st*a),s!==c&&(n(s,f),l.lineTo(f.nt*o,e[h-1].st*a)),l.lineTo(f.nt*o,f.st*a);break;case 2:{let[t,i]=function(t,e,i){var s,n;let r=Math.min(t.length-1,i+1);return[(s=t[e],n=tW(tj(t[i],t[Math.max(0,e-1)]),6),{nt:s.nt+n.nt,st:s.st+n.st}),tj(t[i],tW(tj(t[r],t[e]),6))]}(e,h-1,h);l.bezierCurveTo(t.nt*o,t.st*a,i.nt*o,i.st*a,f.nt*o,f.st*a)}}1!==i&&s!==c&&(n(s,f),l.moveTo(f.nt*o,f.st*a))}(d!==f||d===f&&1===i)&&h(t,c,d,f)}}function tj(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function tW(t,e){return{nt:t.nt/e,st:t.st/e}}function tF(t,e,i,s,n){let{context:r,horizontalPixelRatio:h,verticalPixelRatio:l}=e;r.lineTo(n.nt*h,t*l),r.lineTo(s.nt*h,t*l),r.closePath(),r.fillStyle=i,r.fill()}class tI extends tp{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var e;if(null===this.G)return;let{it:i,tt:s,ds:n,et:r,Nt:h,fs:l}=this.G,o=null!==(e=this.G.vs)&&void 0!==e?e:this.G.ps?0:t.mediaSize.height;if(null===s)return;let a=t.context;a.lineCap="butt",a.lineJoin="round",a.lineWidth=r,B(a,h),a.lineWidth=1,tB(t,i,l,s,n,this.bs.bind(this),tF.bind(null,o))}}function tU(t,e,i){return Math.min(Math.max(t,e),i)}function tK(t){let e=Math.ceil(t);return e%2==0?e-1:e}class tX{ws(t,e){let i=this.gs,{Ms:s,xs:n,Ss:r,ks:h,ys:l,vs:o}=e;if(void 0===this.Cs||void 0===i||i.Ms!==s||i.xs!==n||i.Ss!==r||i.ks!==h||i.vs!==o||i.ys!==l){let i=t.context.createLinearGradient(0,0,0,l);if(i.addColorStop(0,s),null!=o){let e=tU(o*t.verticalPixelRatio/l,0,1);i.addColorStop(e,n),i.addColorStop(e,r)}i.addColorStop(1,h),this.Cs=i,this.gs=e}return this.Cs}}class tH extends tI{constructor(){super(...arguments),this.Ts=new tX}bs(t,e){return this.Ts.ws(t,{Ms:e.Ps,xs:"",Ss:"",ks:e.Rs,ys:t.bitmapSize.height})}}function tq(t,e){let i=t.context;i.strokeStyle=e,i.stroke()}class tG extends tp{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(null===this.G)return;let{it:e,tt:i,ds:s,fs:n,et:r,Nt:h,Ds:l}=this.G;if(null===i)return;let o=t.context;o.lineCap="butt",o.lineWidth=r*t.verticalPixelRatio,B(o,h),o.lineJoin="round";let a=this.Vs.bind(this);void 0!==n&&tB(t,e,n,i,s,a,tq),l&&function(t,e,i,s,n){let{horizontalPixelRatio:r,verticalPixelRatio:h,context:l}=t,o=null,a=Math.max(1,Math.floor(r))%2/2,u=i*h+a;for(let i=s.to-1;i>=s.from;--i){let s=e[i];if(s){let e=n(t,s);e!==o&&(l.beginPath(),null!==o&&l.fill(),l.fillStyle=e,o=e);let i=Math.round(s.nt*r)+a,c=s.st*h;l.moveTo(i,c),l.arc(i,c,u,0,2*Math.PI)}}l.fill()}(t,e,l,i,a)}}class tJ extends tG{Vs(t,e){return e.lt}}function tY(t,e,i,s,n=0,r=e.length){let h=r-n;for(;0<h;){let r=h>>1,l=n+r;s(e[l],i)===t?(n=l+1,h-=r+1):h=r}return n}let tZ=tY.bind(null,!0),tQ=tY.bind(null,!1);function t0(t,e){return t.ot<e}function t1(t,e){return e<t.ot}function t2(t,e,i){let s=e.Os(),n=e.ui(),r=tZ(t,s,t0),h=tQ(t,n,t1);if(!i)return{from:r,to:h};let l=r,o=h;return r>0&&r<t.length&&t[r].ot>=s&&(l=r-1),h>0&&h<t.length&&t[h-1].ot<=n&&(o=h+1),{from:l,to:o}}class t3{constructor(t,e,i){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=t,this.Ns=e,this.Fs=i}bt(t){this.Bs=!0,"data"===t&&(this.As=!0),"options"===t&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),null===this.Ls?null:this.js):null}Hs(){this.zs=this.zs.map(t=>Object.assign(Object.assign({},t),this.Es.Us().$s(t.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){let t=this.Es.Dt(),e=this.Ns.St();if(this.qs(),e.Ni()||t.Ni())return;let i=e.Xs();if(null===i||0===this.Es.In().Ks())return;let s=this.Es.Ct();null!==s&&(this.Ls=t2(this.zs,i,this.Fs),this.Gs(t,e,s.Vt),this.Js())}}class t5 extends t3{constructor(t,e){super(t,e,!0)}Gs(t,e,i){e.Qs(this.zs,ta(this.Ls)),t.te(this.zs,i,ta(this.Ls))}ie(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}Ys(){let t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>{let i=e.Vt[3];return this.se(e.ee,i,t)})}}class t6 extends t5{constructor(t,e){super(t,e),this.js=new tf,this.re=new tH,this.he=new tJ,this.js.Z([this.re,this.he])}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){let t=this.Es.W();this.re.J({fs:t.lineType,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,vs:null,ps:t.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:t.lineVisible?t.lineType:void 0,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class t4 extends tp{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(t){this.zt=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;this.ae=this._e(e),this.ae>=2&&Math.max(1,Math.floor(e))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(e)):this.ae;let s=null,n=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*e);for(let r=this.zt.tt.from;r<this.zt.tt.to;++r){let h=this.zt.In[r];s!==h.ce&&(t.fillStyle=h.ce,s=h.ce);let l=Math.floor(.5*this.oe),o=Math.round(h.nt*e),a=o-l,u=this.oe,c=a+u-1,d=Math.min(h.de,h.fe),f=Math.max(h.de,h.fe),p=Math.round(d*i)-l,m=Math.max(Math.round(f*i)+l-p,this.oe);t.fillRect(a,p,u,m);let v=Math.ceil(1.5*this.ae);if(n){if(this.zt.ve){let e=o-v,s=Math.max(p,Math.round(h.pe*i)-l),n=s+u-1;n>p+m-1&&(s=(n=p+m-1)-u+1),t.fillRect(e,s,a-e,n-s+1)}let e=o+v,s=Math.max(p,Math.round(h.me*i)-l),n=s+u-1;n>p+m-1&&(s=(n=p+m-1)-u+1),t.fillRect(c+1,s,e-c,n-s+1)}}}_e(t){return Math.max(Math.floor(t),Math.floor(Math.floor(.3*I(this.zt).le*t)))}}class t9 extends t3{constructor(t,e){super(t,e,!1)}Gs(t,e,i){e.Qs(this.zs,ta(this.Ls)),t.be(this.zs,i,ta(this.Ls))}we(t,e,i){return{ot:t,ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){let t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>this.se(e.ee,e,t))}}class t8 extends t9{constructor(){super(...arguments),this.js=new t4}se(t,e,i){return Object.assign(Object.assign({},this.we(t,e,i)),i.$s(t))}Js(){let t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:t.openVisible,ue:t.thinBars,tt:this.Ls})}}class t7 extends tI{constructor(){super(...arguments),this.Ts=new tX}bs(t,e){let i=this.G;return this.Ts.ws(t,{Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:e.Te,ys:t.bitmapSize.height,vs:i.vs})}}class et extends tG{constructor(){super(...arguments),this.Pe=new tX}Vs(t,e){let i=this.G;return this.Pe.ws(t,{Ms:e.Re,xs:e.Re,Ss:e.De,ks:e.De,ys:t.bitmapSize.height,vs:i.vs})}}class ee extends t5{constructor(t,e){super(t,e),this.js=new tf,this.Ve=new t7,this.Oe=new et,this.js.Z([this.Ve,this.Oe])}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){let t=this.Es.Ct();if(null===t)return;let e=this.Es.W(),i=this.Es.Dt().Rt(e.baseValue.price,t.Vt),s=this.Ns.St().le();this.Ve.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineType,vs:i,ps:!1,tt:this.Ls,ds:s}),this.Oe.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,vs:i,tt:this.Ls,ds:s})}}class ei extends tp{constructor(){super(...arguments),this.zt=null,this.ae=0}J(t){this.zt=t}K(t){var e;if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;let{horizontalPixelRatio:i}=t;this.ae=(e=this.zt.le)>=2.5&&e<=4?Math.floor(3*i):Math.max(Math.floor(i),Math.min(Math.floor(e*(1-.2*Math.atan(Math.max(4,e)-4)/(.5*Math.PI))*i),Math.floor(e*i))),this.ae>=2&&Math.floor(i)%2!=this.ae%2&&this.ae--;let s=this.zt.In;this.zt.Be&&this.Ae(t,s,this.zt.tt),this.zt._i&&this.Ie(t,s,this.zt.tt);let n=this.ze(i);(!this.zt._i||this.ae>2*n)&&this.Le(t,s,this.zt.tt)}Ae(t,e,i){if(null===this.zt)return;let{context:s,horizontalPixelRatio:n,verticalPixelRatio:r}=t,h="",l=Math.min(Math.floor(n),Math.floor(this.zt.le*n)),o=Math.floor(.5*(l=Math.max(Math.floor(n),Math.min(l,this.ae)))),a=null;for(let t=i.from;t<i.to;t++){let i=e[t];i.Ee!==h&&(s.fillStyle=i.Ee,h=i.Ee);let u=Math.round(Math.min(i.pe,i.me)*r),c=Math.round(Math.max(i.pe,i.me)*r),d=Math.round(i.de*r),f=Math.round(i.fe*r),p=Math.round(n*i.nt)-o,m=p+l-1;null!==a&&(p=Math.min(p=Math.max(a+1,p),m));let v=m-p+1;s.fillRect(p,d,v,u-d),s.fillRect(p,c+1,v,f-c),a=m}}ze(t){let e=Math.floor(1*t);this.ae<=2*e&&(e=Math.floor(.5*(this.ae-1)));let i=Math.max(Math.floor(t),e);return this.ae<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}Ie(t,e,i){if(null===this.zt)return;let{context:s,horizontalPixelRatio:n,verticalPixelRatio:r}=t,h="",l=this.ze(n),o=null;for(let t=i.from;t<i.to;t++){let i=e[t];i.Ne!==h&&(s.fillStyle=i.Ne,h=i.Ne);let d=Math.round(i.nt*n)-Math.floor(.5*this.ae),f=d+this.ae-1,p=Math.round(Math.min(i.pe,i.me)*r),m=Math.round(Math.max(i.pe,i.me)*r);if(null!==o&&(d=Math.min(d=Math.max(o+1,d),f)),this.zt.le*n>2*l){var a,u,c;a=d,u=f-d+1,c=m-p+1,s.fillRect(a+l,p,u-2*l,l),s.fillRect(a+l,p+c-l,u-2*l,l),s.fillRect(a,p,l,c),s.fillRect(a+u-l,p,l,c)}else{let t=f-d+1;s.fillRect(d,p,t,m-p+1)}o=f}}Le(t,e,i){if(null===this.zt)return;let{context:s,horizontalPixelRatio:n,verticalPixelRatio:r}=t,h="",l=this.ze(n);for(let t=i.from;t<i.to;t++){let i=e[t],o=Math.round(Math.min(i.pe,i.me)*r),a=Math.round(Math.max(i.pe,i.me)*r),u=Math.round(i.nt*n)-Math.floor(.5*this.ae),c=u+this.ae-1;if(i.ce!==h){let t=i.ce;s.fillStyle=t,h=t}this.zt._i&&(u+=l,o+=l,c-=l,a-=l),o>a||s.fillRect(u,o,c-u+1,a-o+1)}}}class es extends t9{constructor(){super(...arguments),this.js=new ei}se(t,e,i){return Object.assign(Object.assign({},this.we(t,e,i)),i.$s(t))}Js(){let t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:t.wickVisible,_i:t.borderVisible,tt:this.Ls})}}class en{constructor(t,e){this.Fe=t,this.Li=e}X(t,e,i){this.Fe.draw(t,this.Li,e,i)}}class er extends t3{constructor(t,e,i){super(t,e,!1),this.wn=i,this.js=new en(this.wn.renderer(),e=>{let i=t.Ct();return null===i?null:t.Dt().Rt(e,i.Vt)})}We(t){return this.wn.priceValueBuilder(t)}je(t){return this.wn.isWhitespace(t)}Ys(){let t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>Object.assign(Object.assign({ot:e.ee,nt:NaN},t.$s(e.ee)),{He:e.$e}))}Gs(t,e){e.Qs(this.zs,ta(this.Ls))}Js(){this.wn.update({bars:this.zs.map(eh),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function eh(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class el extends tp{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(t){this.zt=t,this.Ue=[]}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return;this.Ue.length||this.qe(e);let s=Math.max(1,Math.floor(i)),n=Math.round(this.zt.Ye*i)-Math.floor(s/2),r=n+s;for(let e=this.zt.tt.from;e<this.zt.tt.to;e++){let h,l;let o=this.zt.it[e],a=this.Ue[e-this.zt.tt.from],u=Math.round(o.st*i);t.fillStyle=o.ce,u<=n?(h=u,l=r):(h=n,l=u-Math.floor(s/2)+s),t.fillRect(a.Os,h,a.ui-a.Os+1,l-h)}}qe(t){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return void(this.Ue=[]);let e=1>=Math.ceil(this.zt.le*t)?0:Math.max(1,Math.floor(t)),i=Math.round(this.zt.le*t)-e;this.Ue=Array(this.zt.tt.to-this.zt.tt.from);for(let e=this.zt.tt.from;e<this.zt.tt.to;e++){let s,n;let r=this.zt.it[e],h=Math.round(r.nt*t);if(i%2){let t=(i-1)/2;s=h-t,n=h+t}else{let t=i/2;s=h-t,n=h+t-1}this.Ue[e-this.zt.tt.from]={Os:s,ui:n,Ze:h,Xe:r.nt*t,ot:r.ot}}for(let t=this.zt.tt.from+1;t<this.zt.tt.to;t++){let i=this.Ue[t-this.zt.tt.from],s=this.Ue[t-this.zt.tt.from-1];i.ot===s.ot+1&&i.Os-s.ui!==e+1&&(s.Ze>s.Xe?s.ui=i.Os-e-1:i.Os=s.ui+e+1)}let s=Math.ceil(this.zt.le*t);for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){let e=this.Ue[t-this.zt.tt.from];e.ui<e.Os&&(e.ui=e.Os),s=Math.min(e.ui-e.Os+1,s)}if(e>0&&s<4)for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){let e=this.Ue[t-this.zt.tt.from];e.ui-e.Os+1>s&&(e.Ze>e.Xe?e.ui-=1:e.Os+=1)}}}class eo extends t5{constructor(){super(...arguments),this.js=new el}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){let t={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,I(this.Es.Ct()).Vt)};this.js.J(t)}}class ea extends t5{constructor(){super(...arguments),this.js=new tJ}se(t,e,i){return Object.assign(Object.assign({},this.ie(t,e)),i.$s(t))}Js(){let t=this.Es.W(),e={it:this.zs,Nt:t.lineStyle,fs:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(e)}}let eu=/[2-9]/g;class ec{constructor(t=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=t}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(t,e,i){return this.sr(t,e,i).width}Mi(t,e,i){let s=this.sr(t,e,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}sr(t,e,i){let s=String(e).replace(i||eu,"0");if(this.tr.has(s))return F(this.tr.get(s)).er;if(this.Ke===this.ir){let t=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(t),this.Je++,this.Ke--}t.save(),t.textBaseline="middle";let n=t.measureText(s);return t.restore(),0===n.width&&e.length||(this.tr.set(s,{er:n,rr:this.Ge}),this.Qe[this.Ge]=s,this.Ke++,this.Ge++),n}}class ed{constructor(t){this.hr=null,this.k=null,this.lr="right",this.ar=t}_r(t,e,i){this.hr=t,this.k=e,this.lr=i}X(t){null!==this.k&&null!==this.hr&&this.hr.X(t,this.k,this.ar,this.lr)}}class ef{constructor(t,e,i){this.ur=t,this.ar=new ec(50),this.cr=e,this.F=i,this.j=-1,this.Wt=new ed(this.ar)}gt(){let t=this.F.dr(this.cr);if(null===t)return null;let e=t.vr(this.cr)?t.pr():this.cr.Dt();if(null===e)return null;let i=t.mr(e);if("overlay"===i)return null;let s=this.F.br();return s.P!==this.j&&(this.j=s.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),s,i),this.Wt}}class ep extends tp{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}wr(t,e){var i;if(!(null===(i=this.zt)||void 0===i?void 0:i.yt))return null;let{st:s,et:n,gr:r}=this.zt;return e>=s-n-7&&e<=s+n+7?{Mr:this.zt,gr:r}:null}K({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(null===this.zt||!1===this.zt.yt)return;let n=Math.round(this.zt.st*s);n<0||n>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.V,t.lineWidth=Math.floor(this.zt.et*i),B(t,this.zt.Nt),j(t,n,0,e.width))}}class em{constructor(t){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new ep,this.ft=!0,this.Es=t,this.Ns=t.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class ev extends em{constructor(t){super(t)}yr(){this.Sr.yt=!1;let t=this.Es.Dt(),e=t.Cr().Cr;if(2!==e&&3!==e)return;let i=this.Es.W();if(!i.baseLineVisible||!this.Es.yt())return;let s=this.Es.Ct();null!==s&&(this.Sr.yt=!0,this.Sr.st=t.Rt(s.Vt,s.Vt),this.Sr.V=i.baseLineColor,this.Sr.et=i.baseLineWidth,this.Sr.Nt=i.baseLineStyle)}}class eg extends tp{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}$e(){return this.zt}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){let s=this.zt;if(null===s)return;let n=Math.max(1,Math.floor(e)),r=n%2/2,h=Math.round(s.Xe.x*e)+r,l=s.Xe.y*i;t.fillStyle=s.Tr,t.beginPath();let o=Math.max(2,1.5*s.Pr)*e;t.arc(h,l,o,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.Rr,t.beginPath(),t.arc(h,l,s.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=n,t.strokeStyle=s.Dr,t.beginPath(),t.arc(h,l,s.ht*e+n/2,0,2*Math.PI,!1),t.stroke()}}let ey=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function eb(t,e,i,s){return function(t,e){if("transparent"===t)return t;let i=Z(t),s=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*s})`}(t,i+(s-i)*e)}function ew(t,e){var i;let s;let n=t%2600/2600;for(let t of ey)if(n>=t.Vr&&n<=t.Or){s=t;break}W(void 0!==s,"Last price animation internal logic error");let r=(n-s.Vr)/(s.Or-s.Vr);return{Rr:eb(e,r,s.Ir,s.zr),Dr:eb(e,r,s.Lr,s.Er),ht:(i=s.Br)+(s.Ar-i)*r}}class ex{constructor(t){this.Wt=new eg,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=t}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),2===this.jr.W().lastPriceAnimation){let t=performance.now(),e=this.Wr-t;if(e>0)return void(e<650&&(this.Wr+=2600));this.Fr=t,this.Wr=t+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return 0!==this.jr.W().lastPriceAnimation}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);let t=this.jr.$t().St(),e=t.Xs(),i=this.jr.Ct();if(null===e||null===i)return;let s=this.jr.Zr(!0);if(s.Xr||!e.Kr(s.ee))return;let n={x:t.It(s.ee),y:this.jr.Dt().Rt(s._t,i.Vt)},r=s.V,h=this.jr.W().lineWidth,l=ew(this.Gr(),r);this.Wt.J({Tr:r,Pr:h,Rr:l.Rr,Dr:l.Dr,ht:l.ht,Xe:n})}Yr(){let t=this.Wt.$e();if(null!==t){let e=ew(this.Gr(),t.Tr);t.Rr=e.Rr,t.Dr=e.Dr,t.ht=e.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function eS(t,e){return tK(Math.min(Math.max(t,12),30)*e)}function eM(t,e){switch(t){case"arrowDown":case"arrowUp":return eS(e,1);case"circle":return eS(e,.8);case"square":return eS(e,.7)}}function eC(t){return function(t){let e=Math.ceil(t);return e%2!=0?e-1:e}(eS(t,1))}function eE(t){return Math.max(eS(t,.1),3)}function eT(t,e,i){return e?t:i?Math.ceil(t/2):0}function eP(t,e,i,s,n){let r=eM("square",i),h=(r-1)/2,l=t-h,o=e-h;return s>=l&&s<=l+r&&n>=o&&n<=o+r}function e_(t,e,i,s){let n=(eM("arrowUp",s)-1)/2*i.Jr,r=(tK(s/2)-1)/2*i.Jr;e.beginPath(),t?(e.moveTo(i.nt-n,i.st),e.lineTo(i.nt,i.st-n),e.lineTo(i.nt+n,i.st),e.lineTo(i.nt+r,i.st),e.lineTo(i.nt+r,i.st+n),e.lineTo(i.nt-r,i.st+n)):(e.moveTo(i.nt-n,i.st),e.lineTo(i.nt,i.st+n),e.lineTo(i.nt+n,i.st),e.lineTo(i.nt+r,i.st),e.lineTo(i.nt+r,i.st-n),e.lineTo(i.nt-r,i.st-n)),e.lineTo(i.nt-r,i.st),e.fill()}class ek extends tp{constructor(){super(...arguments),this.zt=null,this.ar=new ec,this.j=-1,this.H="",this.Qr=""}J(t){this.zt=t}_r(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Qr=tc(t,e),this.ar.nr())}wr(t,e){if(null===this.zt||null===this.zt.tt)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){let s=this.zt.it[i];if(!(void 0===s.Kt||!function(t,e,i,s,n,r){let h=s/2;return n>=t&&n<=t+i&&r>=e-h&&r<=e+h}(s.Kt.nt,s.Kt.st,s.Kt.Hi,s.Kt.At,t,e))||function(t,e,i){if(0===t.Ks)return!1;switch(t.nh){case"arrowDown":case"arrowUp":var s;return s=t.nt,eP(s,t.st,t.Ks,e,i);case"circle":return function(t,e,i,s,n){let r=2+eM("circle",i)/2,h=t-s,l=e-n;return Math.sqrt(h*h+l*l)<=r}(t.nt,t.st,t.Ks,e,i);case"square":return eP(t.nt,t.st,t.Ks,e,i)}}(s,t,e))return{Mr:s.th,gr:s.gr}}return null}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i},s,n){if(null!==this.zt&&null!==this.zt.tt){t.textBaseline="middle",t.font=this.Qr;for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){let n=this.zt.it[s];void 0!==n.Kt&&(n.Kt.Hi=this.ar.xi(t,n.Kt.ih),n.Kt.At=this.j,n.Kt.nt=n.nt-n.Kt.Hi/2),function(t,e,i,s){var n,r,h;e.fillStyle=t.V,void 0!==t.Kt&&(n=t.Kt.ih,r=t.Kt.nt,h=t.Kt.st,e.save(),e.scale(i,s),e.fillText(n,r,h),e.restore()),function(t,e,i){if(0!==t.Ks){switch(t.nh){case"arrowDown":return void e_(!1,e,i,t.Ks);case"arrowUp":return void e_(!0,e,i,t.Ks);case"circle":return void function(t,e,i){let s=(eM("circle",i)-1)/2;t.beginPath(),t.arc(e.nt,e.st,s*e.Jr,0,2*Math.PI,!1),t.fill()}(e,i,t.Ks);case"square":return void function(t,e,i){let s=eM("square",i),n=(s-1)*e.Jr/2,r=e.nt-n,h=e.st-n;t.fillRect(r,h,s*e.Jr,s*e.Jr)}(e,i,t.Ks)}t.nh}}(t,e,{nt:Math.round(t.nt*i)+Math.max(1,Math.floor(i))%2/2,st:t.st*s,Jr:i})}(n,t,e,i)}}}}class ez{constructor(t,e){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new ek,this.jr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.hh=!0,"data"===t&&(this.rh=!0,this.oh=null)}gt(t){if(!this.jr.yt())return null;this.ft&&this._h();let e=this.$i.W().layout;return this.Wt._r(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){let t=this.$i.St().le(),e=eE(t),i=1.5*eC(t)+2*e,s=this.fh();this.ah={above:eT(i,s.aboveBar,s.inBar),below:eT(i,s.belowBar,s.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return null===this.oh&&(this.oh=this.jr.dh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){let t=this.jr.Dt(),e=this.$i.St(),i=this.jr.dh();this.rh&&(this.zt.it=i.map(t=>({ot:t.time,nt:0,st:0,Ks:0,nh:t.shape,V:t.color,th:t.th,gr:t.id,Kt:void 0})),this.rh=!1);let s=this.$i.W().layout;this.zt.tt=null;let n=e.Xs();if(null===n)return;let r=this.jr.Ct();if(null===r||0===this.zt.it.length)return;let h=NaN,l=eE(e.le()),o={sh:l,eh:l};this.zt.tt=t2(this.zt.it,n,!0);for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){let a=i[n];a.time!==h&&(o.sh=l,o.eh=l,h=a.time);let u=this.zt.it[n];u.nt=e.It(a.time),void 0!==a.text&&a.text.length>0&&(u.Kt={ih:a.text,nt:0,st:0,Hi:0,At:0});let c=this.jr.ph(a.time);null!==c&&function(t,e,i,s,n,r,h,l,o){let a=ts(i)?i:i.Se,u=ts(i)?i:i.Me,c=ts(i)?i:i.xe,d=ts(e.size)?Math.max(e.size,0):1,f=eC(l.le())*d,p=f/2;switch(t.Ks=f,e.position){case"inBar":return t.st=h.Rt(a,o),void(void 0!==t.Kt&&(t.Kt.st=t.st+p+r+.6*n));case"aboveBar":return t.st=h.Rt(u,o)-p-s.sh,void 0!==t.Kt&&(t.Kt.st=t.st-p-.6*n,s.sh+=1.2*n),void(s.sh+=f+r);case"belowBar":return t.st=h.Rt(c,o)+p+s.eh,void 0!==t.Kt&&(t.Kt.st=t.st+p+r+.6*n,s.eh+=1.2*n),void(s.eh+=f+r)}e.position}(u,a,c,o,s.fontSize,l,t,e,r.Vt)}this.ft=!1}}class eV extends em{constructor(t){super(t)}yr(){let t=this.Sr;t.yt=!1;let e=this.Es.W();if(!e.priceLineVisible||!this.Es.yt())return;let i=this.Es.Zr(0===e.priceLineSource);i.Xr||(t.yt=!0,t.st=i.ki,t.V=this.Es.mh(i.V),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class eL extends tT{constructor(t){super(),this.jt=t}zi(t,e,i){t.yt=!1,e.yt=!1;let s=this.jt;if(!s.yt())return;let n=s.W(),r=n.lastValueVisible,h=""!==s.bh(),l=0===n.seriesLastValueMode,o=s.Zr(!1);if(o.Xr)return;r&&(t.Kt=this.wh(o,r,l),t.yt=0!==t.Kt.length),(h||l)&&(e.Kt=this.gh(o,r,h,l),e.yt=e.Kt.length>0);let a=s.mh(o.V),u=tt(a);i.t=u.t,i.ki=o.ki,e.Ot=s.$t().Bt(o.ki/s.Dt().At()),t.Ot=a,t.V=u.i,e.V=u.i}gh(t,e,i,s){let n="",r=this.jt.bh();return i&&0!==r.length&&(n+=`${r} `),e&&s&&(n+=this.jt.Dt().Mh()?t.xh:t.Sh),n.trim()}wh(t,e,i){return e?i?this.jt.Dt().Mh()?t.Sh:t.xh:t.Kt:""}}function eR(t,e,i,s){let n=Number.isFinite(e),r=Number.isFinite(i);return n&&r?t(e,i):n||r?n?e:i:s}class eD{constructor(t,e){this.kh=t,this.yh=e}Ch(t){return null!==t&&this.kh===t.kh&&this.yh===t.yh}Th(){return new eD(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(t){return null===t?this:new eD(eR(Math.min,this.Ph(),t.Ph(),-1/0),eR(Math.max,this.Rh(),t.Rh(),1/0))}Vh(t){if(!ts(t)||0==this.yh-this.kh)return;let e=.5*(this.yh+this.kh),i=this.yh-e,s=this.kh-e;i*=t,s*=t,this.yh=e+i,this.kh=e+s}Oh(t){ts(t)&&(this.yh+=t,this.kh+=t)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(t){return null===t?null:new eD(t.minValue,t.maxValue)}}class eA{constructor(t,e){this.Ih=t,this.zh=e||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return null===this.Ih?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(t){return null===t?null:new eA(eD.Ah(t.priceRange),t.margins)}}class eN extends em{constructor(t,e){super(t),this.Nh=e}yr(){let t=this.Sr;t.yt=!1;let e=this.Nh.W();if(!this.Es.yt()||!e.lineVisible)return;let i=this.Nh.Fh();null!==i&&(t.yt=!0,t.st=i,t.V=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.gr=this.Nh.W().id)}}class e$ extends tT{constructor(t,e){super(),this.jr=t,this.Nh=e}zi(t,e,i){t.yt=!1,e.yt=!1;let s=this.Nh.W(),n=s.axisLabelVisible,r=""!==s.title,h=this.jr;if(!n||!h.yt())return;let l=this.Nh.Fh();if(null===l)return;r&&(e.Kt=s.title,e.yt=!0),e.Ot=h.$t().Bt(l/h.Dt().At()),t.Kt=this.Wh(s.price),t.yt=!0;let o=tt(s.axisLabelColor||s.color);i.t=o.t;let a=s.axisLabelTextColor||o.i;t.V=a,e.V=a,i.ki=l}Wh(t){let e=this.jr.Ct();return null===e?"":this.jr.Dt().Fi(t,e.Vt)}}class eO{constructor(t,e){this.jr=t,this.cn=e,this.jh=new eN(t,this),this.ur=new e$(t,this),this.Hh=new ef(this.ur,t,t.$t())}$h(t){ti(this.cn,t),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){let t=this.jr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;let i=t.Ct();return null===i?null:e.Rt(this.cn.price,i.Vt)}}class eB extends tV{constructor(t){super(),this.$i=t}$t(){return this.$i}}let ej={Bar:(t,e,i,s)=>{var n;let r=e.upColor,h=e.downColor,l=I(t(i,s)),o=U(l.Vt[0])<=U(l.Vt[3]);return{ce:null!==(n=l.V)&&void 0!==n?n:o?r:h}},Candlestick:(t,e,i,s)=>{var n,r,h;let l=e.upColor,o=e.downColor,a=e.borderUpColor,u=e.borderDownColor,c=e.wickUpColor,d=e.wickDownColor,f=I(t(i,s)),p=U(f.Vt[0])<=U(f.Vt[3]);return{ce:null!==(n=f.V)&&void 0!==n?n:p?l:o,Ne:null!==(r=f.Ot)&&void 0!==r?r:p?a:u,Ee:null!==(h=f.Xh)&&void 0!==h?h:p?c:d}},Custom:(t,e,i,s)=>{var n;return{ce:null!==(n=I(t(i,s)).V)&&void 0!==n?n:e.color}},Area:(t,e,i,s)=>{var n,r,h,l;let o=I(t(i,s));return{ce:null!==(n=o.lt)&&void 0!==n?n:e.lineColor,lt:null!==(r=o.lt)&&void 0!==r?r:e.lineColor,Ps:null!==(h=o.Ps)&&void 0!==h?h:e.topColor,Rs:null!==(l=o.Rs)&&void 0!==l?l:e.bottomColor}},Baseline:(t,e,i,s)=>{var n,r,h,l,o,a;let u=I(t(i,s));return{ce:u.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:null!==(n=u.Re)&&void 0!==n?n:e.topLineColor,De:null!==(r=u.De)&&void 0!==r?r:e.bottomLineColor,ke:null!==(h=u.ke)&&void 0!==h?h:e.topFillColor1,ye:null!==(l=u.ye)&&void 0!==l?l:e.topFillColor2,Ce:null!==(o=u.Ce)&&void 0!==o?o:e.bottomFillColor1,Te:null!==(a=u.Te)&&void 0!==a?a:e.bottomFillColor2}},Line:(t,e,i,s)=>{var n,r;let h=I(t(i,s));return{ce:null!==(n=h.V)&&void 0!==n?n:e.color,lt:null!==(r=h.V)&&void 0!==r?r:e.color}},Histogram:(t,e,i,s)=>{var n;return{ce:null!==(n=I(t(i,s)).V)&&void 0!==n?n:e.color}}};class eW{constructor(t){this.Kh=(t,e)=>void 0!==e?e.Vt:this.jr.In().Gh(t),this.jr=t,this.Jh=ej[t.Qh()]}$s(t,e){return this.Jh(this.Kh,this.jr.W(),t,e)}}(o=y||(y={}))[o.NearestLeft=-1]="NearestLeft",o[o.None=0]="None",o[o.NearestRight=1]="NearestRight";class eF{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return 0===this.Ks()}Kr(t){return null!==this.hl(t,0)}Gh(t){return this.ll(t)}ll(t,e=0){let i=this.hl(t,e);return null===i?null:Object.assign(Object.assign({},this.al(i)),{ee:this.rl(i)})}ne(){return this.tl}ol(t,e,i){if(this.Ni())return null;let s=null;for(let n of i)s=eI(s,this._l(t,e,n));return s}J(t){this.nl.clear(),this.il.clear(),this.tl=t}rl(t){return this.tl[t].ee}al(t){return this.tl[t]}hl(t,e){let i=this.ul(t);if(null===i&&0!==e)switch(e){case -1:return this.cl(t);case 1:return this.dl(t);default:throw TypeError("Unknown search mode")}return i}cl(t){let e=this.fl(t);return e>0&&(e-=1),e!==this.tl.length&&this.rl(e)<t?e:null}dl(t){let e=this.vl(t);return e!==this.tl.length&&t<this.rl(e)?e:null}ul(t){let e=this.fl(t);return e===this.tl.length||t<this.tl[e].ee?null:e}fl(t){return tZ(this.tl,t,(t,e)=>t.ee<e)}vl(t){return tQ(this.tl,t,(t,e)=>t.ee>e)}pl(t,e,i){let s=null;for(let n=t;n<e;n++){let t=this.tl[n].Vt[i];Number.isNaN(t)||(null===s?s={ml:t,bl:t}:(t<s.ml&&(s.ml=t),t>s.bl&&(s.bl=t)))}return s}_l(t,e,i){if(this.Ni())return null;let s=null,n=I(this.el()),r=I(this.An()),h=Math.max(t,n),l=Math.min(e,r),o=30*Math.ceil(h/30),a=Math.max(o,30*Math.floor(l/30));{let t=this.fl(h),n=this.vl(Math.min(l,o,e));s=eI(s,this.pl(t,n,i))}let u=this.il.get(i);void 0===u&&(u=new Map,this.il.set(i,u));for(let t=Math.max(o+1,h);t<a;t+=30){let e=Math.floor(t/30),n=u.get(e);if(void 0===n){let t=this.fl(30*e),s=this.vl((e+1)*30-1);n=this.pl(t,s,i),u.set(e,n)}s=eI(s,n)}{let t=this.fl(a),e=this.vl(l);s=eI(s,this.pl(t,e,i))}return s}}function eI(t,e){return null===t?e:null===e?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class eU{constructor(t){this.wl=t}X(t,e,i){this.wl.draw(t)}gl(t,e,i){var s,n;null===(n=(s=this.wl).drawBackground)||void 0===n||n.call(s,t)}}class eK{constructor(t){this.tr=null,this.wn=t}gt(){var t;let e=this.wn.renderer();if(null===e)return null;if((null===(t=this.tr)||void 0===t?void 0:t.Ml)===e)return this.tr.xl;let i=new eU(e);return this.tr={Ml:e,xl:i},i}Sl(){var t,e,i;return null!==(i=null===(e=(t=this.wn).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==i?i:"normal"}}function eX(t){var e,i,s,n,r;return{Kt:t.text(),ki:t.coordinate(),Si:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:null===(s=null===(i=t.visible)||void 0===i?void 0:i.call(t))||void 0===s||s,hi:null===(r=null===(n=t.tickVisible)||void 0===n?void 0:n.call(t))||void 0===r||r}}class eH{constructor(t,e){this.Wt=new tk,this.kl=t,this.yl=e}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},eX(this.kl))),this.Wt}}class eq extends tT{constructor(t,e){super(),this.kl=t,this.Li=e}zi(t,e,i){let s=eX(this.kl);i.t=s.t,t.V=s.V;let n=2/12*this.Li.P();i.wi=n,i.gi=n,i.ki=s.ki,i.Si=s.Si,t.Kt=s.Kt,t.yt=s.yt,t.hi=s.hi}}class eG{constructor(t,e){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=t,this.jr=e}Ol(){return this.Vl}Vn(){var t,e;null===(e=(t=this.Vl).updateAllViews)||void 0===e||e.call(t)}Pn(){var t,e,i,s;let n=null!==(i=null===(e=(t=this.Vl).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(s=this.Cl)||void 0===s?void 0:s.Ml)===n)return this.Cl.xl;let r=n.map(t=>new eK(t));return this.Cl={Ml:n,xl:r},r}Qi(){var t,e,i,s;let n=null!==(i=null===(e=(t=this.Vl).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(s=this.Tl)||void 0===s?void 0:s.Ml)===n)return this.Tl.xl;let r=this.jr.$t().St(),h=n.map(t=>new eH(t,r));return this.Tl={Ml:n,xl:h},h}Rn(){var t,e,i,s;let n=null!==(i=null===(e=(t=this.Vl).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(s=this.Pl)||void 0===s?void 0:s.Ml)===n)return this.Pl.xl;let r=this.jr.Dt(),h=n.map(t=>new eq(t,r));return this.Pl={Ml:n,xl:h},h}Bl(){var t,e,i,s;let n=null!==(i=null===(e=(t=this.Vl).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(s=this.Rl)||void 0===s?void 0:s.Ml)===n)return this.Rl.xl;let r=n.map(t=>new eK(t));return this.Rl={Ml:n,xl:r},r}Al(){var t,e,i,s;let n=null!==(i=null===(e=(t=this.Vl).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==i?i:[];if((null===(s=this.Dl)||void 0===s?void 0:s.Ml)===n)return this.Dl.xl;let r=n.map(t=>new eK(t));return this.Dl={Ml:n,xl:r},r}Il(t,e){var i,s,n;return null!==(n=null===(s=(i=this.Vl).autoscaleInfo)||void 0===s?void 0:s.call(i,t,e))&&void 0!==n?n:null}wr(t,e){var i,s,n;return null!==(n=null===(s=(i=this.Vl).hitTest)||void 0===s?void 0:s.call(i,t,e))&&void 0!==n?n:null}}function eJ(t,e,i,s){t.forEach(t=>{e(t).forEach(t=>{t.Sl()===i&&s.push(t)})})}function eY(t){return t.Pn()}function eZ(t){return t.Bl()}function eQ(t){return t.Al()}class e0 extends eB{constructor(t,e,i,s,n){super(t),this.zt=new eF,this.jh=new eV(this),this.zl=[],this.Ll=new ev(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=e,this.$l=i;let r=new eL(this);this.rn=[r],this.Hh=new ef(r,this,t),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(this.El=new ex(this)),this.Ul(),this.ql(n)}S(){null!==this.jl&&clearTimeout(this.jl)}mh(t){return this.cn.priceLineColor||t}Zr(t){let e,i;let s={Xr:!0},n=this.Dt();if(this.$t().St().Ni()||n.Ni()||this.zt.Ni())return s;let r=this.$t().St().Xs(),h=this.Ct();if(null===r||null===h)return s;if(t){let t=this.zt.sl();if(null===t)return s;e=t,i=t.ee}else{let t=this.zt.ll(r.ui(),-1);if(null===t||null===(e=this.zt.Gh(t.ee)))return s;i=t.ee}let l=e.Vt[3],o=this.Us().$s(i,{Vt:e}),a=n.Rt(l,h.Vt);return{Xr:!1,_t:l,Kt:n.Fi(l,h.Vt),xh:n.Yl(l),Sh:n.Zl(l,h.Vt),V:o.ce,ki:a,ee:i}}Us(){return null!==this.Nl||(this.Nl=new eW(this)),this.Nl}W(){return this.cn}$h(t){let e=t.priceScaleId;void 0!==e&&e!==this.cn.priceScaleId&&this.$t().Xl(this,e),ti(this.cn,t),void 0!==t.priceFormat&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),null!==this.El&&(e&&e.ta?this.El.$r():0===t.length&&this.El.Hr());let i=this.$t().dr(this);this.$t().ia(i),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(t){this.Fl=t,this.Ql();let e=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(e),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(t){let e=new eO(this,t);return this.zl.push(e),this.$t().Gl(this),e}ra(t){let e=this.zl.indexOf(t);-1!==e&&this.zl.splice(e,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){let t=this.ha();return null===t?null:{Vt:t.Vt[3],la:t.ot}}ha(){let t=this.$t().St().Xs();if(null===t)return null;let e=t.Os();return this.zt.ll(e,1)}In(){return this.zt}ph(t){let e=this.zt.Gh(t);return null===e?null:"Bar"===this.$l||"Candlestick"===this.$l||"Custom"===this.$l?{ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3]}:e.Vt[3]}aa(t){let e=[];eJ(this.Hl,eY,"top",e);let i=this.El;return null!==i&&i.yt()&&(null===this.jl&&i.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),i.Ur(),e.unshift(i)),e}Pn(){let t=[];this._a()||t.push(this.Ll),t.push(this.wn,this.jh,this.dn);let e=this.zl.map(t=>t.qh());return t.push(...e),eJ(this.Hl,eY,"normal",t),t}ua(){return this.ca(eY,"bottom")}da(t){return this.ca(eZ,t)}fa(t){return this.ca(eQ,t)}va(t,e){return this.Hl.map(i=>i.wr(t,e)).filter(t=>null!==t)}Ji(t){return[this.Hh,...this.zl.map(t=>t.Yh())]}Rn(t,e){if(e!==this.Yi&&!this._a())return[];let i=[...this.rn];for(let t of this.zl)i.push(t.Zh());return this.Hl.forEach(t=>{i.push(...t.Rn())}),i}Qi(){let t=[];return this.Hl.forEach(e=>{t.push(...e.Qi())}),t}Il(t,e){if(void 0!==this.cn.autoscaleInfoProvider){let i=this.cn.autoscaleInfoProvider(()=>{let i=this.pa(t,e);return null===i?null:i.Bh()});return eA.Ah(i)}return this.pa(t,e)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var t;for(let t of(this.wn.bt(),this.dn.bt(),this.rn))t.bt();for(let t of this.zl)t.bt();this.jh.bt(),this.Ll.bt(),null===(t=this.El)||void 0===t||t.bt(),this.Hl.forEach(t=>t.Vn())}Dt(){return I(super.Dt())}kt(t){if(!(("Line"===this.$l||"Area"===this.$l||"Baseline"===this.$l)&&this.cn.crosshairMarkerVisible))return null;let e=this.zt.Gh(t);return null===e?null:{_t:e.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(t)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(t){this.Hl.push(new eG(t,this))}ya(t){this.Hl=this.Hl.filter(e=>e.Ol()!==t)}Ca(){if(this.wn instanceof er!=!1)return t=>this.wn.We(t)}Ta(){if(this.wn instanceof er!=!1)return t=>this.wn.je(t)}_a(){return!tR(this.Dt().Pa())}pa(t,e){if(!tn(t)||!tn(e)||this.zt.Ni())return null;let i="Line"===this.$l||"Area"===this.$l||"Baseline"===this.$l||"Histogram"===this.$l?[3]:[2,1],s=this.zt.ol(t,e,i),n=null!==s?new eD(s.ml,s.bl):null;if("Histogram"===this.Qh()){let t=this.cn.base,e=new eD(t,t);n=null!==n?n.ts(e):e}let r=this.dn.uh();return this.Hl.forEach(i=>{var s,h,l,o;let a=i.Il(t,e);if(null==a?void 0:a.priceRange){let t=new eD(a.priceRange.minValue,a.priceRange.maxValue);n=null!==n?n.ts(t):t}(null==a?void 0:a.margins)&&(s=r,h=a.margins,r={above:Math.max(null!==(l=null==s?void 0:s.above)&&void 0!==l?l:0,h.above),below:Math.max(null!==(o=null==s?void 0:s.below)&&void 0!==o?o:0,h.below)})}),new eA(n,r)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{let t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(t){switch(this.$l){case"Line":case"Area":case"Baseline":{let t=this.cn.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Us().$s(t).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new tO(this.cn.priceFormat.precision);break;case"percent":this.wa=new t$(this.cn.priceFormat.precision);break;default:{let t=Math.pow(10,this.cn.priceFormat.precision);this.wa=new tN(t,this.cn.priceFormat.minMove*t)}}null!==this.Yi&&this.Yi.Ra()}Ql(){let t=this.$t().St();if(!t.Da()||this.zt.Ni())return void(this.Wl=[]);let e=I(this.zt.el());this.Wl=this.Fl.map((i,s)=>{let n=I(t.Va(i.time,!0));return{time:I(this.zt.ll(n,n<e?1:-1)).ee,position:i.position,shape:i.shape,color:i.color,id:i.id,th:s,text:i.text,size:i.size,originalTime:i.originalTime}})}ql(t){switch(this.dn=new ez(this,this.$t()),this.$l){case"Bar":this.wn=new t8(this,this.$t());break;case"Candlestick":this.wn=new es(this,this.$t());break;case"Line":this.wn=new ea(this,this.$t());break;case"Custom":this.wn=new er(this,this.$t(),F(t));break;case"Area":this.wn=new t6(this,this.$t());break;case"Baseline":this.wn=new ee(this,this.$t());break;case"Histogram":this.wn=new eo(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(t,e){let i=[];return eJ(this.Hl,t,e,i),i}}class e1{constructor(t){this.cn=t}Oa(t,e,i){if(0===this.cn.mode)return t;let s=i.vn(),n=s.Ct();if(null===n)return t;let r=s.Rt(t,n),h=i.Ba().filter(t=>t instanceof e0).reduce((t,s)=>{if(i.vr(s)||!s.yt())return t;let n=s.Dt(),r=s.In();if(n.Ni()||!r.Kr(e))return t;let h=r.Gh(e);if(null===h)return t;let l=U(s.Ct());return t.concat([n.Rt(h.Vt[3],l.Vt)])},[]);if(0===h.length)return t;h.sort((t,e)=>Math.abs(t-r)-Math.abs(e-r));let l=h[0];return s.pn(l,n)}}class e2 extends tp{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){var n;if(null===this.zt)return;let r=Math.max(1,Math.floor(i));t.lineWidth=r,n=()=>{let n=I(this.zt);if(n.Aa){for(let s of(t.strokeStyle=n.Ia,B(t,n.za),t.beginPath(),n.La)){let n=Math.round(s.Ea*i);t.moveTo(n,-r),t.lineTo(n,e.height+r)}t.stroke()}if(n.Na){for(let i of(t.strokeStyle=n.Fa,B(t,n.Wa),t.beginPath(),n.ja)){let n=Math.round(i.Ea*s);t.moveTo(-r,n),t.lineTo(e.width+r,n)}t.stroke()}},t.save(),t.lineWidth%2&&t.translate(.5,.5),n(),t.restore()}}class e3{constructor(t){this.Wt=new e2,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){let t=this.tn.$t().W().grid,e={Na:t.horzLines.visible,Aa:t.vertLines.visible,Fa:t.horzLines.color,Ia:t.vertLines.color,Wa:t.horzLines.style,za:t.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(t=>({Ea:t.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class e5{constructor(t){this.wn=new e3(t)}qh(){return this.wn}}let e6={$a:4,Ua:1e-4};function e4(t,e){let i=100*(t-e)/e;return e<0?-i:i}function e9(t,e){let i=100*(t-e)/e+100;return e<0?-i:i}function e8(t,e){let i=Math.abs(t);if(i<1e-15)return 0;let s=Math.log10(i+e.Ua)+e.$a;return t<0?-s:s}function e7(t,e){let i=Math.abs(t);if(i<1e-15)return 0;let s=Math.pow(10,i-e.$a)-e.Ua;return t<0?-s:s}function it(t,e){return null===t?null:new eD(e8(t.Ph(),e),e8(t.Rh(),e))}function ie(t,e){return null===t?null:new eD(e7(t.Ph(),e),e7(t.Rh(),e))}function ii(t){if(null===t)return e6;let e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return e6;let i=e6.$a+Math.ceil(Math.abs(Math.log10(e)));return{$a:i,Ua:1/Math.pow(10,i)}}class is{constructor(t,e){if(this.qa=t,this.Ya=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let t=this.qa;1!==t;){if(t%2==0)this.Za.push(2),t/=2;else{if(t%5!=0)throw Error("unexpected base");this.Za.push(2,2.5),t/=5}if(this.Za.length>100)throw Error("something wrong with base")}}}Xa(t,e,i){let s=0===this.qa?0:1/this.qa,n=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),r=0,h=this.Ya[0];for(;;){let t=s-n<=1e-14&&n>s+1e-14,e=i*h-n<=1e-14,l=1-n<=1e-14;if(!(t&&e&&l))break;n/=h,h=this.Ya[++r%this.Ya.length]}if(n<=s+1e-14&&(n=s),n=Math.max(1,n),this.Za.length>0&&1e-14>Math.abs(n-1))for(r=0,h=this.Za[0];i*h-n<=1e-14&&n>s+1e-14;)n/=h,h=this.Za[++r%this.Za.length];return n}}class ir{constructor(t,e,i,s){this.Ka=[],this.Li=t,this.qa=e,this.Ga=i,this.Ja=s}Xa(t,e){if(t<e)throw Error("high < low");let i=this.Li.At(),s=(t-e)*this.Qa()/i,n=new is(this.qa,[2,2.5,2]),r=new is(this.qa,[2,2,2.5]),h=new is(this.qa,[2.5,2,2]),l=[];return l.push(n.Xa(t,e,s),r.Xa(t,e,s),h.Xa(t,e,s)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(l)}io(){let t=this.Li,e=t.Ct();if(null===e)return void(this.Ka=[]);let i=t.At(),s=this.Ga(i-1,e),n=this.Ga(0,e),r=this.Li.W().entireTextOnly?this.no()/2:0,h=i-1-r,l=Math.max(s,n),o=Math.min(s,n);if(l===o)return void(this.Ka=[]);let a=this.Xa(l,o),u=l%a;u+=u<0?a:0;let c=l>=o?1:-1,d=null,f=0;for(let i=l-u;i>o;i-=a){let s=this.Ja(i,e,!0);null!==d&&Math.abs(s-d)<this.Qa()||s<r||s>h||(f<this.Ka.length?(this.Ka[f].Ea=s,this.Ka[f].so=t.eo(i)):this.Ka.push({Ea:s,so:t.eo(i)}),f++,d=s,t.ro()&&(a=this.Xa(i*c,o)))}this.Ka.length=f}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function ih(t){return t.slice().sort((t,e)=>I(t.Xi())-I(e.Xi()))}(a=b||(b={}))[a.Normal=0]="Normal",a[a.Logarithmic=1]="Logarithmic",a[a.Percentage=2]="Percentage",a[a.IndexedTo100=3]="IndexedTo100";let il=new t$,io=new tN(100,1);class ia{constructor(t,e,i,s){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new te,this.vo=new te,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=io,this.xo=ii(null),this.So=t,this.cn=e,this.ko=i,this.yo=s,this.Co=new ir(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(t){if(ti(this.cn,t),this.Ra(),void 0!==t.mode&&this.Ro({Cr:t.mode}),void 0!==t.scaleMargins){let e=F(t.scaleMargins.top),i=F(t.scaleMargins.bottom);if(e<0||e>1)throw Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return 1===this.cn.mode}Mh(){return 2===this.cn.mode}Oo(){return 3===this.cn.mode}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(t){let e=this.Cr(),i=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.Cr&&(this.cn.mode=t.Cr,2!==t.Cr&&3!==t.Cr||(this.cn.autoScale=!0),this.oo._o=!1),1===e.Cr&&t.Cr!==e.Cr&&(function(t,e){if(null===t)return!1;let i=e7(t.Ph(),e),s=e7(t.Rh(),e);return isFinite(i)&&isFinite(s)}(this.Ih,this.xo)?null!==(i=ie(this.Ih,this.xo))&&this.Ao(i):this.cn.autoScale=!0),1===t.Cr&&t.Cr!==e.Cr&&null!==(i=it(this.Ih,this.xo))&&this.Ao(i);let s=e.Cr!==this.cn.mode;s&&(2===e.Cr||this.Mh())&&this.Ra(),s&&(3===e.Cr||this.Oo())&&this.Ra(),void 0!==t.Bo&&e.Bo!==t.Bo&&(this.cn.invertScale=t.Bo,this.Io()),this.vo.m(e,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(t){this.ho!==t&&(this.ho=t,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;let t=this.At()-this.No()-this.Fo();return this.lo=t,t}Lh(){return this.Wo(),this.Ih}Ao(t,e){let i=this.Ih;(e||null===i&&null!==t||null!==i&&!i.Ch(t))&&(this.bo=null,this.Ih=t)}Ni(){return this.Wo(),0===this.ho||!this.Ih||this.Ih.Ni()}jo(t){return this.Bo()?t:this.At()-1-t}Rt(t,e){return this.Mh()?t=e4(t,e):this.Oo()&&(t=e9(t,e)),this.Po(t,e)}te(t,e,i){this.Wo();let s=this.Fo(),n=I(this.Lh()),r=n.Ph(),h=n.Rh(),l=this.Eo()-1,o=this.Bo(),a=l/(h-r),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Ho();for(let i=u;i<c;i++){let n=t[i],h=n._t;if(isNaN(h))continue;let l=h;null!==d&&(l=d(n._t,e));let u=s+a*(l-r),c=o?u:this.ho-1-u;n.st=c}}be(t,e,i){this.Wo();let s=this.Fo(),n=I(this.Lh()),r=n.Ph(),h=n.Rh(),l=this.Eo()-1,o=this.Bo(),a=l/(h-r),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Ho();for(let i=u;i<c;i++){let n=t[i],h=n.ge,l=n.Me,u=n.xe,c=n.Se;null!==d&&(h=d(n.ge,e),l=d(n.Me,e),u=d(n.xe,e),c=d(n.Se,e));let f=s+a*(h-r),p=o?f:this.ho-1-f;n.pe=p,f=s+a*(l-r),p=o?f:this.ho-1-f,n.de=p,f=s+a*(u-r),p=o?f:this.ho-1-f,n.fe=p,f=s+a*(c-r),p=o?f:this.ho-1-f,n.me=p}}pn(t,e){let i=this.To(t,e);return this.$o(i,e)}$o(t,e){var i,s;let n=t;return this.Mh()?(i=n,e<0&&(i=-i),n=i/100*e+e):this.Oo()&&(s=n-100,e<0&&(s=-s),n=s/100*e+e),n}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let t=[];for(let e=0;e<this.po.length;e++){let i=this.po[e];null===i.Xi()&&i.Ki(e+1),t.push(i)}return t=ih(t),this.mo=t,this.mo}qo(t){-1===this.po.indexOf(t)&&(this.po.push(t),this.Ra(),this.Yo())}Zo(t){let e=this.po.indexOf(t);if(-1===e)throw Error("source is not attached to scale");this.po.splice(e,1),0===this.po.length&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let t=null;for(let e of this.po){let i=e.Ct();null!==i&&(null===t||i.la<t.la)&&(t=i)}return null===t?null:t.Vt}Bo(){return this.cn.invertScale}Ha(){let t=null===this.Ct();if(null!==this.bo&&(t||this.bo.Xo===t))return this.bo.Ha;this.Co.io();let e=this.Co.Ha();return this.bo={Ha:e,Xo:t},this.fo.m(),e}Ko(){return this.fo}Go(t){this.Mh()||this.Oo()||null===this.wo&&null===this.ao&&(this.Ni()||(this.wo=this.ho-t,this.ao=I(this.Lh()).Th()))}Jo(t){if(this.Mh()||this.Oo()||null===this.wo)return;this.Ro({Wn:!1}),(t=this.ho-t)<0&&(t=0);let e=(this.wo+.2*(this.ho-1))/(t+.2*(this.ho-1)),i=I(this.ao).Th();e=Math.max(e,.1),i.Vh(e),this.Ao(i)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(t){this.Vo()||null===this.Mo&&null===this.ao&&(this.Ni()||(this.Mo=t,this.ao=I(this.Lh()).Th()))}i_(t){if(this.Vo()||null===this.Mo)return;let e=I(this.Lh()).Dh()/(this.Eo()-1),i=t-this.Mo;this.Bo()&&(i*=-1);let s=i*e,n=I(this.ao).Th();n.Oh(s),this.Ao(n,!0),this.bo=null}n_(){this.Vo()||null!==this.Mo&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(t,e){switch(this.cn.mode){case 2:return this.s_(e4(t,e));case 3:return this.ba().format(e9(t,e));default:return this.Wh(t)}}eo(t){switch(this.cn.mode){case 2:return this.s_(t);case 3:return this.ba().format(t);default:return this.Wh(t)}}Yl(t){return this.Wh(t,I(this.e_()).ba())}Zl(t,e){return t=e4(t,e),this.s_(t,il)}r_(){return this.po}h_(t){this.oo={uo:t,_o:!1}}Vn(){this.po.forEach(t=>t.Vn())}Ra(){this.bo=null;let t=this.e_(),e=100;null!==t&&(e=Math.round(1/t.ma())),this.wa=io,this.Mh()?(this.wa=il,e=100):this.Oo()?(this.wa=new tN(100,1),e=100):null!==t&&(this.wa=t.ba()),this.Co=new ir(this,e,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(t,e){if(this.Wo(),this.Ni())return 0;t=this.ro()&&t?e8(t,this.xo):t;let i=I(this.Lh()),s=this.Fo()+(this.Eo()-1)*(t-i.Ph())/i.Dh();return this.jo(s)}To(t,e){if(this.Wo(),this.Ni())return 0;let i=this.jo(t),s=I(this.Lh()),n=s.Ph()+s.Dh()*((i-this.Fo())/(this.Eo()-1));return this.ro()?e7(n,this.xo):n}Io(){this.bo=null,this.Co.io()}l_(){var t,e,i,s,n;let r=this.oo.uo;if(null===r)return;let h=null,l=this.r_(),o=0,a=0;for(let t of l){if(!t.yt())continue;let l=t.Ct();if(null===l)continue;let u=t.Il(r.Os(),r.ui()),c=u&&u.Lh();if(null!==c){switch(this.cn.mode){case 1:c=it(c,this.xo);break;case 2:e=c,i=l.Vt,c=new eD(e4(e.Ph(),i),e4(e.Rh(),i));break;case 3:s=c,n=l.Vt,c=new eD(e9(s.Ph(),n),e9(s.Rh(),n))}if(h=null===h?c:h.ts(I(c)),null!==u){let t=u.Eh();null!==t&&(o=Math.max(o,t.above),a=Math.max(a,t.below))}}}if(o===this.co&&a===this.do||(this.co=o,this.do=a,this.bo=null,this.Do()),null!==h){if(h.Ph()===h.Rh()){let t=this.e_(),e=5*(null===t||this.Mh()||this.Oo()?1:t.ma());this.ro()&&(h=ie(h,this.xo)),h=new eD(h.Ph()-e,h.Rh()+e),this.ro()&&(h=it(h,this.xo))}if(this.ro()){let e=ie(h,this.xo),i=ii(e);if(t=this.xo,i.$a!==t.$a||i.Ua!==t.Ua){let t=null!==this.ao?ie(this.ao,this.xo):null;this.xo=i,h=it(e,i),null!==t&&(this.ao=it(t,i))}}this.Ao(h)}else null===this.Ih&&(this.Ao(new eD(-.5,.5)),this.xo=ii(null));this.oo._o=!0}Ho(){return this.Mh()?e4:this.Oo()?e9:this.ro()?t=>e8(t,this.xo):null}a_(t,e,i){return void 0===e?(void 0===i&&(i=this.ba()),i.format(t)):e(t)}Wh(t,e){return this.a_(t,this.yo.priceFormatter,e)}s_(t,e){return this.a_(t,this.yo.percentageFormatter,e)}}class iu{constructor(t,e){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new te,this.yl=t,this.$i=e,this.d_=new e5(this);let i=e.W();this.f_=this.v_("left",i.leftPriceScale),this.p_=this.v_("right",i.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(i)}b_(t){if(t.leftPriceScale&&this.f_.$h(t.leftPriceScale),t.rightPriceScale&&this.p_.$h(t.rightPriceScale),t.localization&&(this.f_.Ra(),this.p_.Ra()),t.overlayPriceScales)for(let e of Array.from(this.o_.values())){let i=I(e[0].Dt());i.$h(t.overlayPriceScales),t.localization&&i.Ra()}}w_(t){switch(t){case"left":return this.f_;case"right":return this.p_}return this.o_.has(t)?F(this.o_.get(t))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(t=>{t.S&&t.S()}),this.c_.m()}M_(){return this.u_}x_(t){this.u_=t}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(t){this.__=t,this.k_()}Lo(t){this.ho=t,this.f_.Lo(t),this.p_.Lo(t),this.po.forEach(e=>{if(this.vr(e)){let i=e.Dt();null!==i&&i.Lo(t)}}),this.k_()}Ba(){return this.po}vr(t){let e=t.Dt();return null===e||this.f_!==e&&this.p_!==e}qo(t,e,i){let s=void 0!==i?i:this.C_().y_+1;this.T_(t,e,s)}Zo(t){let e=this.po.indexOf(t);W(-1!==e,"removeDataSource: invalid data source"),this.po.splice(e,1);let i=I(t.Dt()).Pa();if(this.o_.has(i)){let e=F(this.o_.get(i)),s=e.indexOf(t);-1!==s&&(e.splice(s,1),0===e.length&&this.o_.delete(i))}let s=t.Dt();s&&s.Ba().indexOf(t)>=0&&s.Zo(t),null!==s&&(s.Yo(),this.P_(s)),this.mo=null}mr(t){return t===this.f_?"left":t===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(t,e){t.Go(e)}O_(t,e){t.Jo(e),this.k_()}B_(t){t.Qo()}A_(t,e){t.t_(e)}I_(t,e){t.i_(e),this.k_()}z_(t){t.n_()}k_(){this.po.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&0!==this.p_.Ba().length?t=this.p_:this.$i.W().leftPriceScale.visible&&0!==this.f_.Ba().length?t=this.f_:0!==this.po.length&&(t=this.po[0].Dt()),null===t&&(t=this.p_),t}pr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.p_:this.$i.W().leftPriceScale.visible&&(t=this.f_),t}P_(t){null!==t&&t.Vo()&&this.L_(t)}E_(t){let e=this.yl.Xs();t.Ro({Wn:!0}),null!==e&&t.h_(e),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(t=>{this.vr(t)&&this.P_(t.Dt())}),this.k_(),this.$i.Uh()}Uo(){return null===this.mo&&(this.mo=ih(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(t){let e=t.r_();if(e&&e.length>0&&!this.yl.Ni()){let e=this.yl.Xs();null!==e&&t.h_(e)}t.Vn()}C_(){let t=this.Uo();if(0===t.length)return{H_:0,y_:0};let e=0,i=0;for(let s=0;s<t.length;s++){let n=t[s].Xi();null!==n&&(n<e&&(e=n),n>i&&(i=n))}return{H_:e,y_:i}}T_(t,e,i){let s=this.w_(e);if(null===s&&(s=this.v_(e,this.$i.W().overlayPriceScales)),this.po.push(t),!tR(e)){let i=this.o_.get(e)||[];i.push(t),this.o_.set(e,i)}s.qo(t),t.Gi(s),t.Ki(i),this.P_(s),this.mo=null}m_(t,e,i){e.Cr!==i.Cr&&this.L_(t)}v_(t,e){let i=new ia(t,Object.assign({visible:!0,autoScale:!0},tl(e)),this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class ic{constructor(t,e,i=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=t,this.q_=e,this.ir=i}Y_(t){let e=t.time,i=this.q_.cacheKey(e),s=this.tr.get(i);if(void 0!==s)return s.Z_;if(this.Ke===this.ir){let t=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(F(t)),this.Je++,this.Ke--}let n=this.U_(t);return this.tr.set(i,{Z_:n,rr:this.Ge}),this.Qe.set(this.Ge,i),this.Ke++,this.Ge++,n}}class id{constructor(t,e){W(t<=e,"right should be >= left"),this.X_=t,this.K_=e}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(t){return this.X_<=t&&t<=this.K_}Ch(t){return this.X_===t.Os()&&this.K_===t.ui()}}function ip(t,e){return null===t||null===e?t===e:t.Ch(e)}class im{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(t){this.Q_=t,this.tr=null}iu(t,e){this.nu(e),this.tr=null;for(let i=e;i<t.length;++i){let e=t[i],s=this.J_.get(e.timeWeight);void 0===s&&(s=[],this.J_.set(e.timeWeight,s)),s.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}su(t,e){let i=Math.ceil(e/t);return null!==this.tr&&this.tr.eu===i||(this.tr={Ha:this.ru(i),eu:i}),this.tr.Ha}nu(t){if(0===t)return void this.J_.clear();let e=[];for(let i of(this.J_.forEach((i,s)=>{t<=i[0].index?e.push(s):i.splice(tZ(i,t,e=>e.index<t),1/0)}),e))this.J_.delete(i)}ru(t){let e=[];for(let i of Array.from(this.J_.keys()).sort((t,e)=>e-t)){if(!this.J_.get(i))continue;let s=e;e=[];let n=s.length,r=0,h=F(this.J_.get(i)),l=h.length,o=1/0,a=-1/0;for(let i=0;i<l;i++){let l=h[i],u=l.index;for(;r<n;){let t=s[r],i=t.index;if(!(i<u)){o=i;break}r++,e.push(t),a=i,o=1/0}if(o-u>=t&&u-a>=t)e.push(l),a=u;else if(this.Q_)return s}for(;r<n;r++)e.push(s[r])}return e}}class iv{constructor(t){this.hu=t}lu(){return null===this.hu?null:new id(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new iv(null)}}function ig(t,e){return t.weight>e.weight?t:e}class iy{constructor(t,e,i,s){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new im,this.du=new Map,this.fu=iv.ou(),this.vu=!0,this.pu=new te,this.mu=new te,this.bu=new te,this.wu=null,this.gu=null,this.Mu=[],this.cn=e,this.yo=i,this.xu=e.rightOffset,this.Su=e.barSpacing,this.$i=t,this.q_=s,this.ku(),this.cu.tu(e.uniformDistribution)}W(){return this.cn}yu(t){ti(this.yo,t),this.Cu(),this.ku()}$h(t,e){var i;ti(this.cn,t),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),void 0!==t.barSpacing&&this.$i.Gn(t.barSpacing),void 0!==t.rightOffset&&this.$i.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.$i.Gn(null!==(i=t.barSpacing)&&void 0!==i?i:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(t){var e,i;return null!==(i=null===(e=this.uu[t])||void 0===e?void 0:e.time)&&void 0!==i?i:null}Ui(t){var e;return null!==(e=this.uu[t])&&void 0!==e?e:null}Va(t,e){if(this.uu.length<1)return null;if(this.q_.key(t)>this.q_.key(this.uu[this.uu.length-1].time))return e?this.uu.length-1:null;let i=tZ(this.uu,this.q_.key(t),(t,e)=>this.q_.key(t.time)<e);return this.q_.key(t)<this.q_.key(this.uu[i].time)?e?i:null:i}Ni(){return 0===this.__||0===this.uu.length||null===this._u}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){let t=this.Xs();if(null===t)return null;let e={from:t.Os(),to:t.ui()};return this.Ou(e)}Ou(t){let e=Math.round(t.from),i=Math.round(t.to),s=I(this.Bu()),n=I(this.Au());return{from:I(this.Ui(Math.max(s,e))),to:I(this.Ui(Math.min(n,i)))}}Iu(t){return{from:I(this.Va(t.from,!0)),to:I(this.Va(t.to,!0))}}Hi(){return this.__}S_(t){if(!isFinite(t)||t<=0||this.__===t)return;let e=this.Du(),i=this.__;if(this.__=t,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==i){let e=this.Su*t/i;this.Su=e}this.cn.fixLeftEdge&&null!==e&&0>=e.Os()&&(this.xu-=Math.round((i-t)/this.Su)+1,this.vu=!0),this.zu(),this.Lu()}It(t){if(this.Ni()||!tn(t))return 0;let e=this.Eu()+this.xu-t;return this.__-(e+.5)*this.Su-1}Qs(t,e){let i=this.Eu(),s=void 0===e?0:e.from,n=void 0===e?t.length:e.to;for(let e=s;e<n;e++){let s=t[e].ot,n=i+this.xu-s,r=this.__-(n+.5)*this.Su-1;t[e].nt=r}}Nu(t){return Math.ceil(this.Fu(t))}Jn(t){this.vu=!0,this.xu=t,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(t){this.ju(t),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(null!==this.gu)return this.gu;let t=this.Su,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(e/t),s=I(this.Xs()),n=Math.max(s.Os(),s.Os()-i),r=Math.max(s.ui(),s.ui()-i),h=this.cu.su(t,e),l=this.Bu()+i,o=this.Au()-i,a=this.$u(),u=this.cn.fixLeftEdge||a,c=this.cn.fixRightEdge||a,d=0;for(let t of h){let i;n<=t.index&&t.index<=r&&(d<this.Mu.length?((i=this.Mu[d]).coord=this.It(t.index),i.label=this.Uu(t),i.weight=t.weight):(i={needAlignCoordinate:!1,coord:this.It(t.index),label:this.Uu(t),weight:t.weight},this.Mu.push(i)),this.Su>e/2&&!a?i.needAlignCoordinate=!1:i.needAlignCoordinate=u&&t.index<=l||c&&t.index>=o,d++)}return this.Mu.length=d,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(t){this.vu=!0,this._u=t,this.Lu(),this.Tu()}Zu(t,e){let i=this.Fu(t),s=this.le();this.Gn(s+s/10*e),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(i-this.Fu(t)))}Go(t){this.Mo&&this.n_(),null===this.wo&&null===this.wu&&(this.Ni()||(this.wo=t,this.Xu()))}Jo(t){if(null===this.wu)return;let e=tU(this.__-t,0,this.__),i=tU(this.__-I(this.wo),0,this.__);0!==e&&0!==i&&this.Gn(this.wu.le*e/i)}Qo(){null!==this.wo&&(this.wo=null,this.Ku())}t_(t){null===this.Mo&&null===this.wu&&(this.Ni()||(this.Mo=t,this.Xu()))}i_(t){if(null===this.Mo)return;let e=(this.Mo-t)/this.le();this.xu=I(this.wu).Hu+e,this.vu=!0,this.Lu()}n_(){null!==this.Mo&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(t,e=400){if(!isFinite(t))throw RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw RangeError("animationDuration (optional) must be finite positive number");let i=this.xu,s=performance.now();this.$i.Zn({Qu:t=>(t-s)/e>=1,tc:n=>{let r=(n-s)/e;return r>=1?t:i+(t-i)*r}})}bt(t,e){this.vu=!0,this.uu=t,this.cu.iu(t,e),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(t){let e=t.G_();this.ju(this.__/e),this.xu=t.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){let t=this.Bu(),e=this.Au();null!==t&&null!==e&&this.rc(new id(t,e+this.cn.rightOffset))}lc(t){let e=new id(t.from,t.to);this.rc(e)}qi(t){return void 0!==this.yo.timeFormatter?this.yo.timeFormatter(t.originalTime):this.q_.formatHorzItem(t.time)}$u(){let{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Bu(){return 0===this.uu.length?null:0}Au(){return 0===this.uu.length?null:this.uu.length-1}ac(t){return(this.__-1-t)/this.Su}Fu(t){let e=this.ac(t);return Math.round(1e6*(this.Eu()+this.xu-e))/1e6}ju(t){let e=this.Su;this.Su=t,this.zu(),e!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(iv.ou());let t=this.Eu(),e=this.__/this.Su,i=this.xu+t,s=new id(i-e+1,i);this._c(new iv(s))}zu(){let t=this.uc();if(this.Su<t&&(this.Su=t,this.vu=!0),0!==this.__){let t=.5*this.__;this.Su>t&&(this.Su=t,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this.uu.length?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){let t=this.cc();null!==t&&this.xu<t&&(this.xu=t,this.vu=!0);let e=this.dc();this.xu>e&&(this.xu=e,this.vu=!0)}cc(){let t=this.Bu(),e=this._u;return null===t||null===e?null:t-e-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(t){let e=this.du.get(t.weight);return void 0===e&&(e=new ic(t=>this.fc(t),this.q_),this.du.set(t.weight,e)),e.Y_(t)}fc(t){return this.q_.formatTickmark(t,this.yo)}_c(t){let e=this.fu;this.fu=t,ip(e.lu(),this.fu.lu())||this.pu.m(),ip(e.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;let t=this.Bu();if(null===t)return;let e=this.Xs();if(null===e)return;let i=e.Os()-t;if(i<0){let t=this.xu-i-1;this.Jn(t)}this.zu()}Pu(){this.Lu(),this.zu()}}class ib{X(t,e,i){t.useMediaCoordinateSpace(t=>this.K(t,e,i))}gl(t,e,i){t.useMediaCoordinateSpace(t=>this.vc(t,e,i))}vc(t,e,i){}}class iw extends ib{constructor(t){super(),this.mc=new Map,this.zt=t}K(t){}vc(t){if(!this.zt.yt)return;let{context:e,mediaSize:i}=t,s=0;for(let t of this.zt.bc){if(0===t.Kt.length)continue;e.font=t.R;let n=this.wc(e,t.Kt);n>i.width?t.Zu=i.width/n:t.Zu=1,s+=t.gc*t.Zu}let n=0;switch(this.zt.Mc){case"top":n=0;break;case"center":n=Math.max((i.height-s)/2,0);break;case"bottom":n=Math.max(i.height-s,0)}for(let t of(e.fillStyle=this.zt.V,this.zt.bc)){e.save();let s=0;switch(this.zt.xc){case"left":e.textAlign="left",s=t.gc/2;break;case"center":e.textAlign="center",s=i.width/2;break;case"right":e.textAlign="right",s=i.width-1-t.gc/2}e.translate(s,n),e.textBaseline="top",e.font=t.R,e.scale(t.Zu,t.Zu),e.fillText(t.Kt,0,t.Sc),e.restore(),n+=t.gc*t.Zu}}wc(t,e){let i=this.kc(t.font),s=i.get(e);return void 0===s&&(s=t.measureText(e).width,i.set(e,s)),s}kc(t){let e=this.mc.get(t);return void 0===e&&(e=new Map,this.mc.set(t,e)),e}}class ix{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new iw(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){let t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.V=t.color,e.xc=t.horzAlign,e.Mc=t.vertAlign,e.bc=[{Kt:t.text,R:tc(t.fontSize,t.fontFamily,t.fontStyle),gc:1.2*t.fontSize,Sc:0,Zu:0}])}}class iS extends tV{constructor(t,e){super(),this.cn=e,this.wn=new ix(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}(u=w||(w={}))[u.OnTouchEnd=0]="OnTouchEnd",u[u.OnNextTap=1]="OnNextTap";class iM{constructor(t,e,i){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new te,this.Rc=new te,this.Dc=null,this.Vc=t,this.cn=e,this.q_=i,this.Oc=new td(this),this.yl=new iy(this,e.timeScale,this.cn.localization,i),this.vt=new tL(this,e.crosshair),this.Bc=new e1(e.crosshair),this.Ac=new iS(this,e.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(tD.es())}Uh(){this.Nc(tD.ss())}oa(){this.Nc(new tD(1))}Gl(t){let e=this.Fc(t);this.Nc(e)}Wc(){return this.Tc}jc(t){let e=this.Tc;this.Tc=t,null!==e&&this.Gl(e.Hc),null!==t&&this.Gl(t.Hc)}W(){return this.cn}$h(t){ti(this.cn,t),this.yc.forEach(e=>e.b_(t)),void 0!==t.timeScale&&this.yl.$h(t.timeScale),void 0!==t.localization&&this.yl.yu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(t,e){if("left"===t)return void this.$h({leftPriceScale:e});if("right"===t)return void this.$h({rightPriceScale:e});let i=this.Uc(t);null!==i&&(i.Dt.$h(e),this.Pc.m())}Uc(t){for(let e of this.yc){let i=e.w_(t);if(null!==i)return{Ht:e,Dt:i}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(t,e){t.Lo(e),this.Wu()}S_(t){this.__=t,this.yl.S_(this.__),this.yc.forEach(e=>e.S_(t)),this.Wu()}Ic(t){let e=new iu(this.yl,this);void 0!==t?this.yc.splice(t,0,e):this.yc.push(e);let i=void 0===t?this.yc.length-1:t,s=tD.es();return s.Nn(i,{Fn:0,Wn:!0}),this.Nc(s),e}V_(t,e,i){t.V_(e,i)}O_(t,e,i){t.O_(e,i),this.Jl(),this.Nc(this.Gc(t,2))}B_(t,e){t.B_(e),this.Nc(this.Gc(t,2))}A_(t,e,i){e.Vo()||t.A_(e,i)}I_(t,e,i){e.Vo()||(t.I_(e,i),this.Jl(),this.Nc(this.Gc(t,2)))}z_(t,e){e.Vo()||(t.z_(e),this.Nc(this.Gc(t,2)))}E_(t,e){t.E_(e),this.Nc(this.Gc(t,2))}Jc(t){this.yl.Go(t)}Qc(t,e){let i=this.St();if(i.Ni()||0===e)return;let s=i.Hi();t=Math.max(1,Math.min(t,s)),i.Zu(t,e),this.Wu()}td(t){this.nd(0),this.sd(t),this.ed()}rd(t){this.yl.Jo(t),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(t){this.yl.t_(t)}sd(t){this.yl.i_(t),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(t,e,i,s,n){this.vt.gn(t,e);let r=NaN,h=this.yl.Nu(t),l=this.yl.Xs();null!==l&&(h=Math.min(Math.max(l.Os(),h),l.ui()));let o=s.vn(),a=o.Ct();null!==a&&(r=o.pn(e,a)),r=this.Bc.Oa(r,h,s),this.vt.kn(h,r,s),this.oa(),n||this.Rc.m(this.vt.xt(),{x:t,y:e},i)}ad(t,e,i){let s=i.vn(),n=s.Ct(),r=s.Rt(t,I(n)),h=this.yl.Va(e,!0),l=this.yl.It(I(h));this.ld(l,r,null,i,!0)}od(t){this.Zc().Cn(),this.oa(),t||this.Rc.m(null,null,null)}Jl(){let t=this.vt.Ht();if(null!==t){let e=this.vt.xn(),i=this.vt.Sn();this.ld(e,i,null,t)}this.vt.Vn()}_d(t,e,i){let s=this.yl.mn(0);void 0!==e&&void 0!==i&&this.yl.bt(e,i);let n=this.yl.mn(0),r=this.yl.Eu(),h=this.yl.Xs();if(null!==h&&null!==s&&null!==n){let e=h.Kr(r),l=this.q_.key(s)>this.q_.key(n),o=null!==t&&t>r&&!l,a=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,u=e&&(void 0!==i||a)&&this.yl.W().shiftVisibleRangeOnNewBar;if(o&&!u){let e=t-r;this.yl.Jn(this.yl.Hu()-e)}}this.yl.Yu(t)}ia(t){null!==t&&t.F_()}dr(t){let e=this.yc.find(e=>e.Uo().includes(t));return void 0===e?null:e}Wu(){this.Ac.Vn(),this.yc.forEach(t=>t.F_()),this.Jl()}S(){this.yc.forEach(t=>t.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(t,e,i){let s=this.yc[0],n=this.fd(e,t,s,i);return this.Cc.push(n),1===this.Cc.length?this.Kl():this.Uh(),n}vd(t){let e=this.dr(t),i=this.Cc.indexOf(t);W(-1!==i,"Series not found"),this.Cc.splice(i,1),I(e).Zo(t),t.S&&t.S()}Xl(t,e){let i=I(this.dr(t));i.Zo(t);let s=this.Uc(e);if(null===s){let s=t.Xi();i.qo(t,e,s)}else{let n=s.Ht===i?t.Xi():void 0;s.Ht.qo(t,e,n)}}hc(){let t=tD.ss();t.$n(),this.Nc(t)}pd(t){let e=tD.ss();e.Yn(t),this.Nc(e)}Kn(){let t=tD.ss();t.Kn(),this.Nc(t)}Gn(t){let e=tD.ss();e.Gn(t),this.Nc(e)}Jn(t){let e=tD.ss();e.Jn(t),this.Nc(e)}Zn(t){let e=tD.ss();e.Zn(t),this.Nc(e)}Un(){let t=tD.ss();t.Un(),this.Nc(t)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(t){let e=this.Ec,i=this.zc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Dc||this.Dc.Ps!==i||this.Dc.Rs!==e)this.Dc={Ps:i,Rs:e,wd:new Map};else{let e=this.Dc.wd.get(t);if(void 0!==e)return e}let s=function(t,e,i){let[s,n,r,h]=Z(t),[l,o,a,u]=Z(e),c=[X(s+i*(l-s)),X(n+i*(o-n)),X(r+i*(a-r)),H(h+i*(u-h))];return`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`}(i,e,t/100);return this.Dc.wd.set(t,s),s}Gc(t,e){let i=new tD(e);if(null!==t){let s=this.yc.indexOf(t);i.Nn(s,{Fn:e})}return i}Fc(t,e){return void 0===e&&(e=2),this.Gc(this.dr(t),e)}Nc(t){this.Vc&&this.Vc(t),this.yc.forEach(t=>t.j_().qh().bt())}fd(t,e,i,s){let n=new e0(this,t,e,i,s),r=void 0!==t.priceScaleId?t.priceScaleId:this.md();return i.qo(n,r),tR(r)||n.$h(t),n}Lc(t){let e=this.cn.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}function iC(t){return!ts(t)&&!tr(t)}(c=x||(x={}))[c.Disabled=0]="Disabled",c[c.Continuous=1]="Continuous",c[c.OnDataUpdate=2]="OnDataUpdate",(d=S||(S={}))[d.LastBar=0]="LastBar",d[d.LastVisible=1]="LastVisible",(f=M||(M={})).Solid="solid",f.VerticalGradient="gradient",(p=C||(C={}))[p.Year=0]="Year",p[p.Month=1]="Month",p[p.DayOfMonth=2]="DayOfMonth",p[p.Time=3]="Time",p[p.TimeWithSeconds=4]="TimeWithSeconds";let iE=t=>t.getUTCFullYear();class iT{constructor(t="yyyy-MM-dd",e="default"){this.gd=t,this.Md=e}Y_(t){var e,i,s;return e=t,i=this.gd,s=this.Md,i.replace(/yyyy/g,tA(iE(e),4)).replace(/yy/g,tA(iE(e)%100,2)).replace(/MMMM/g,new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(s,{month:"long"})).replace(/MMM/g,new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(s,{month:"short"})).replace(/MM/g,tA(e.getUTCMonth()+1,2)).replace(/dd/g,tA(e.getUTCDate(),2))}}class iP{constructor(t){this.xd=t||"%h:%m:%s"}Y_(t){return this.xd.replace("%h",tA(t.getUTCHours(),2)).replace("%m",tA(t.getUTCMinutes(),2)).replace("%s",tA(t.getUTCSeconds(),2))}}let i_={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class ik{constructor(t={}){let e=Object.assign(Object.assign({},i_),t);this.Td=new iT(e.Sd,e.Cd),this.Pd=new iP(e.kd),this.Rd=e.yd}Y_(t){return`${this.Td.Y_(t)}${this.Rd}${this.Pd.Y_(t)}`}}function iz(t){return 60*t*6e4}function iV(t){return 60*t*1e3}let iL=[{Dd:1e3,Vd:10},{Dd:iV(1),Vd:20},{Dd:iV(5),Vd:21},{Dd:iV(30),Vd:22},{Dd:iz(1),Vd:30},{Dd:iz(3),Vd:31},{Dd:iz(6),Vd:32},{Dd:iz(12),Vd:33}];function iR(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=iL.length-1;i>=0;--i)if(Math.floor(e.getTime()/iL[i].Dd)!==Math.floor(t.getTime()/iL[i].Dd))return iL[i].Vd;return 0}function iD(t){let e=t;if(tr(t)&&(e=iN(t)),!iC(e))throw Error("time must be of type BusinessDay");return{Od:Math.round(new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0)).getTime()/1e3),Bd:e}}function iA(t){if(!ts(t))throw Error("time must be of type isUTCTimestamp");return{Od:t}}function iN(t){let e=new Date(t);if(isNaN(e.getTime()))throw Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function i$(t){tr(t.time)&&(t.time=iN(t.time))}class iO{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(i$)}(t):i$(t)}createConverterToInternalObj(t){return I(0===t.length?null:iC(t[0].time)||tr(t[0].time)?iD:iA)}key(t){return"object"==typeof t&&"Od"in t?t.Od:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){return void 0===t.Bd?new Date(1e3*t.Od).getTime():new Date(Date.UTC(t.Bd.year,t.Bd.month-1,t.Bd.day)).getTime()}convertHorzItemToInternal(t){return ts(t)?iA(t):iC(t)?iD(t):iD(iN(t))}updateFormatter(t){if(!this.cn)return;let e=t.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new ik({Sd:e,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:t.locale}):this.Ad=new iT(e,t.locale)}formatHorzItem(t){return this.Ad.Y_(new Date(1e3*t.Od))}formatTickmark(t,e){let i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(void 0!==s.tickMarkFormatter){let n=s.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==n)return n}return function(t,e,i){let s={};switch(e){case 0:s.year="numeric";break;case 1:s.month="short";break;case 2:s.day="numeric";break;case 3:s.hour12=!1,s.hour="2-digit",s.minute="2-digit";break;case 4:s.hour12=!1,s.hour="2-digit",s.minute="2-digit",s.second="2-digit"}let n=new Date(void 0===t.Bd?1e3*t.Od:Date.UTC(t.Bd.year,t.Bd.month-1,t.Bd.day));return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()).toLocaleString(i,s)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(ig,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t,e=0){if(0===t.length)return;let i=0===e?null:t[e-1].time.Od,s=null!==i?new Date(1e3*i):null,n=0;for(let r=e;r<t.length;++r){let e=t[r],h=new Date(1e3*e.time.Od);null!==s&&(e.timeWeight=iR(h,s)),n+=e.time.Od-(i||e.time.Od),i=e.time.Od,s=h}if(0===e&&t.length>1){let e=Math.ceil(n/(t.length-1)),i=new Date(1e3*(t[0].time.Od-e));t[0].timeWeight=iR(new Date(1e3*t[0].time.Od),i)}}(t,e)}static Id(t){return ti({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}}let iB="undefined"!=typeof window;function ij(){return!!iB&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function iW(){return!!iB&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function iF(t,e,i){let s=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(s)*Math.min(Math.abs(s),i)}class iI{constructor(t,e,i,s){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=t,this.Ud=e,this.qd=i,this.rs=s}Yd(t,e){if(null!==this.Ld){if(this.Ld.ot===e)return void(this.Ld.zd=t);if(Math.abs(this.Ld.zd-t)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:e,zd:t}}Vr(t,e){var i,s,n,r,h,l;if(null===this.Ld||null===this.Ed||e-this.Ld.ot>50)return;let o=0,a=iF(this.Ld,this.Ed,this.Ud),u=(i=this.Ld,s=this.Ed,i.zd-s.zd),c=[a],d=[u];if(o+=u,null!==this.Nd){let t=iF(this.Ed,this.Nd,this.Ud);if(Math.sign(t)===Math.sign(a)){let e=(n=this.Ed,r=this.Nd,n.zd-r.zd);if(c.push(t),d.push(e),o+=e,null!==this.Fd){let t=iF(this.Nd,this.Fd,this.Ud);if(Math.sign(t)===Math.sign(a)){let e=(h=this.Nd,l=this.Fd,h.zd-l.zd);c.push(t),d.push(e),o+=e}}}}let f=0;for(let t=0;t<c.length;++t)f+=d[t]/o*c[t];Math.abs(f)<this.$d||(this.Wd={zd:t,ot:e},this.Hd=f,this.jd=function(t,e){let i=Math.log(e);return Math.log(-(1*i/t))/i}(Math.abs(f),this.qd))}tc(t){let e=I(this.Wd),i=t-e.ot;return e.zd+this.Hd*(Math.pow(this.qd,i)-1)/Math.log(this.qd)}Qu(t){return null===this.Wd||this.Zd(t)===this.jd}Zd(t){return Math.min(t-I(this.Wd).ot,this.jd)}}class iU{constructor(t,e){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=t,this.Qd=e,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return Q(Z(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){let t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark","dark"===this.Gd),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function iK(t,e){let i=I(t.ownerDocument).createElement("canvas");t.appendChild(i);let s=function(t,e){if("device-pixel-content-box"===e.type)return new P(t,e.transform,e.options);throw Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return s.resizeCanvasElement(e),s}function iX(t){var e;t.width=1,t.height=1,null===(e=t.getContext("2d"))||void 0===e||e.clearRect(0,0,1,1)}function iH(t,e,i,s){t.gl&&t.gl(e,i,s)}function iq(t,e,i,s){t.X(e,i,s)}function iG(t,e,i,s){for(let n of t(i,s)){let t=n.gt();null!==t&&e(t)}}class iJ{constructor(t,e,i){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!iW(),this.Af=t=>{this.If(t)},this.zf=t=>{if(this.Lf(t)){let e=this.Ef(t);if(++this._f,this.uf&&this._f>1){let{Nf:i}=this.Ff(iQ(t),this.cf);i<30&&!this.wf&&this.Wf(e,this.Hf.jf),this.$f()}}else{let e=this.Ef(t);if(++this.hf,this.lf&&this.hf>1){let{Nf:i}=this.Ff(iQ(t),this.af);i<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}}},this.Zf=t,this.Hf=e,this.cn=i,this.Xf()}S(){null!==this.gf&&(this.gf(),this.gf=null),null!==this.Mf&&(this.Mf(),this.Mf=null),null!==this.Sf&&(this.Sf(),this.Sf=null),null!==this.kf&&(this.kf(),this.kf=null),null!==this.yf&&(this.yf(),this.yf=null),null!==this.xf&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(t){this.Sf&&this.Sf();let e=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",e)},this.Zf.addEventListener("mousemove",e),this.Lf(t))return;let i=this.Ef(t);this.Uf(i,this.Hf.Qf),this.Bf=!0}Yf(){null!==this.lf&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){null!==this.uf&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(t){if(this.Df||null!==this.pf||this.Lf(t))return;let e=this.Ef(t);this.Uf(e,this.Hf.tv),this.Bf=!0}iv(t){let e=i1(t.changedTouches,I(this.Of));if(null===e||(this.Vf=i0(t),null!==this.Cf)||this.Rf)return;this.Pf=!0;let{nv:i,sv:s,Nf:n}=this.Ff(iQ(e),I(this.pf));if(this.mf||!(n<5)){if(!this.mf){let t=.5*i,e=s>=t&&!this.cn.ev(),n=t>s&&!this.cn.rv();e||n||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){let i=this.Ef(t,e);this.Wf(i,this.Hf.hv),iZ(t)}}}lv(t){if(0!==t.button)return;let{Nf:e}=this.Ff(iQ(t),I(this.vf));if(e>=5&&(this.bf=!0,this.Yf()),this.bf){let e=this.Ef(t);this.Uf(e,this.Hf.av)}}Ff(t,e){let i=Math.abs(e.nt-t.nt),s=Math.abs(e.st-t.st);return{nv:i,sv:s,Nf:i+s}}ov(t){let e=i1(t.changedTouches,I(this.Of));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Of=null,this.Vf=i0(t),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);let i=this.Ef(t,e);if(this.Wf(i,this.Hf._v),++this._f,this.uf&&this._f>1){let{Nf:t}=this.Ff(iQ(e),this.cf);t<30&&!this.wf&&this.Wf(i,this.Hf.jf),this.$f()}else this.wf||(this.Wf(i,this.Hf.uv),this.Hf.uv&&iZ(t));0===this._f&&iZ(t),0===t.touches.length&&this.ff&&(this.ff=!1,iZ(t))}If(t){if(0!==t.button)return;let e=this.Ef(t);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),ij()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(t)){if(this.Uf(e,this.Hf.cv),++this.hf,this.lf&&this.hf>1){let{Nf:i}=this.Ff(iQ(t),this.af);i<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}else this.bf||this.Uf(e,this.Hf.dv)}}Kf(){null!==this.df&&(clearTimeout(this.df),this.df=null)}fv(t){if(null!==this.Of)return;let e=t.changedTouches[0];this.Of=e.identifier,this.Vf=i0(t);let i=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=iQ(e),this.yf&&(this.yf(),this.yf=null);{let e=this.iv.bind(this),s=this.ov.bind(this);this.yf=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",s)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",s,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,t),240)}let s=this.Ef(t,e);this.Wf(s,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=iQ(e))}mv(t){if(0!==t.button)return;let e=this.Zf.ownerDocument.documentElement;ij()&&e.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=iQ(t),this.kf&&(this.kf(),this.kf=null);{let t=this.lv.bind(this),i=this.If.bind(this);this.kf=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.Df=!0,this.Lf(t))return;let i=this.Ef(t);this.Uf(i,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=iQ(t))}Xf(){var t;this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{let t=this.Zf.ownerDocument,e=t=>{this.Hf.wv&&(t.composed&&this.Zf.contains(t.composedPath()[0])||t.target&&this.Zf.contains(t.target)||this.Hf.wv())};this.Mf=()=>{t.removeEventListener("touchstart",e)},this.gf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}iW()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),t=this.Zf,iB&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1}),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){void 0===this.Hf.xv&&void 0===this.Hf.Sv&&void 0===this.Hf.kv||(this.Zf.addEventListener("touchstart",t=>this.yv(t.touches),{passive:!0}),this.Zf.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this.Cf&&void 0!==this.Hf.Sv){let e=iY(t.touches[0],t.touches[1])/this.Tf;this.Hf.Sv(this.Cf,e),iZ(t)}},{passive:!1}),this.Zf.addEventListener("touchend",t=>{this.yv(t.touches)}))}yv(t){1===t.length&&(this.Pf=!1),2!==t.length||this.Pf||this.ff?this.Cv():this.Tv(t)}Tv(t){let e=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Tf=iY(t[0],t[1]),void 0!==this.Hf.xv&&this.Hf.xv(),this.Kf()}Cv(){null!==this.Cf&&(this.Cf=null,void 0!==this.Hf.kv&&this.Hf.kv())}gv(t){if(this.Sf&&this.Sf(),this.Lf(t)||!this.Bf)return;let e=this.Ef(t);this.Uf(e,this.Hf.Pv),this.Bf=!iW()}vv(t){let e=i1(t.touches,I(this.Of));if(null===e)return;let i=this.Ef(t,e);this.Wf(i,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:i0(t)<this.Vf+500}Wf(t,e){e&&e.call(this.Hf,t)}Uf(t,e){e&&e.call(this.Hf,t)}Ef(t,e){let i=e||t,s=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Dv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Vv:t.type,Ov:i.target,Bv:t.view,Av:()=>{"touchstart"!==t.type&&iZ(t)}}}}function iY(t,e){let i=t.clientX-e.clientX,s=t.clientY-e.clientY;return Math.sqrt(i*i+s*s)}function iZ(t){t.cancelable&&t.preventDefault()}function iQ(t){return{nt:t.pageX,st:t.pageY}}function i0(t){return t.timeStamp||performance.now()}function i1(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}function i2(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function i3(t,e){return i=>{var s,n,r,h;return(null!==(n=null===(s=i.Dt())||void 0===s?void 0:s.Pa())&&void 0!==n?n:"")!==e?[]:null!==(h=null===(r=i.da)||void 0===r?void 0:r.call(i,t))&&void 0!==h?h:[]}}function i5(t,e,i,s){if(!t.length)return;let n=0,r=i/2,h=t[0].At(s,!0),l=1===e?r-(t[0].Vi()-h/2):t[0].Vi()-h/2-r;l=Math.max(0,l);for(let r=1;r<t.length;r++){let h=t[r],o=t[r-1],a=o.At(s,!1),u=h.Vi(),c=o.Vi();if(1===e?u>c-a:u<c+a){let s=c-a*e;h.Oi(s);let r=s-e*a/2;if((1===e?r<0:r>i)&&l>0){let s=Math.min(1===e?-1-r:r-i,l);for(let i=n;i<t.length;i++)t[i].Oi(t[i].Vi()+e*s);l-=s}}else n=r,l=1===e?c-a-u:u-(c+a)}}class i6{constructor(t,e,i,n){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new ec(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=t,this.cn=e,this.ko=e.layout,this.Oc=i,this.qv="left"===n,this.Yv=i3("normal",n),this.Zv=i3("top",n),this.Xv=i3("bottom",n),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=iK(this.Kv,s({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);let r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=iK(this.Kv,s({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);let h=this.Jv.canvasElement;h.style.position="absolute",h.style.zIndex="2",h.style.left="0",h.style.top="0";let l={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new iJ(this.Jv.canvasElement,l,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),iX(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),iX(this.Gv.canvasElement),this.Gv.dispose(),null!==this.Li&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){let t=this.Oc.W();return this.Qr!==t.R&&(this.Fv.nr(),this.Qr=t.R),t}op(){var t,e;if(null===this.Li)return 0;let i=0,s=this.ap(),n=I(this.Gv.canvasElement.getContext("2d"));n.save();let r=this.Li.Ha();n.font=this._p(),r.length>0&&(i=Math.max(this.Fv.xi(n,r[0].so),this.Fv.xi(n,r[r.length-1].so)));let h=this.up();for(let t=h.length;t--;){let e=this.Fv.xi(n,h[t].Kt());e>i&&(i=e)}let l=this.Li.Ct();if(null!==l&&null!==this.Ev&&2!==(t=this.cn.crosshair).mode&&t.horzLine.visible&&t.horzLine.labelVisible){let t=this.Li.pn(1,l),e=this.Li.pn(this.Ev.height-2,l);i=Math.max(i,this.Fv.xi(n,this.Li.Fi(Math.floor(Math.min(t,e))+.11111111111111,l)),this.Fv.xi(n,this.Li.Fi(Math.ceil(Math.max(t,e))-.11111111111111,l)))}n.restore();let o=i||34;return(e=Math.ceil(s.C+s.T+s.A+s.I+5+o))+e%2}cp(t){null!==this.Ev&&n(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`)}dp(){return I(this.Ev).width}Gi(t){this.Li!==t&&(null!==this.Li&&this.Li.Ko().p(this),this.Li=t,t.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){let t=this.tn.fp();this.tn.$v().$t().E_(t,I(this.Dt()))}vp(t){if(null===this.Ev)return;if(1!==t){this.pp(),this.Gv.applySuggestedBitmapSize();let t=z(this.Gv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t)}),this.tn.bp(t,this.Xv),this.wp(t),this.tn.bp(t,this.Yv),this.gp(t))}this.Jv.applySuggestedBitmapSize();let e=z(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)}),this.Mp(e),this.tn.bp(e,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(t,e,i){let s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}bt(){var t;null===(t=this.Li)||void 0===t||t.Ha()}Qv(t){if(null===this.Li||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;let e=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!0,e.V_(i,this.Li,t.localY)}tp(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;let e=this.tn.$v().$t(),i=this.tn.fp(),s=this.Li;e.O_(i,s,t.localY)}ip(){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;let t=this.tn.$v().$t(),e=this.tn.fp(),i=this.Li;this.Nv&&(this.Nv=!1,t.B_(e,i))}np(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;let e=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!1,e.B_(i,this.Li)}sp(t){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(t){null!==this.Li&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(t){this.kp(0)}up(){let t=[],e=null===this.Li?void 0:this.Li;return(i=>{for(let s=0;s<i.length;++s){let n=i[s].Rn(this.tn.fp(),e);for(let e=0;e<n.length;e++)t.push(n[e])}})(this.tn.fp().Uo()),t}mp({context:t,bitmapSize:e}){let{width:i,height:s}=e,n=this.tn.fp().$t(),r=n.q(),h=n.bd();r===h?tx(t,0,0,i,s,r):tC(t,0,0,i,s,r,h)}Ie({context:t,bitmapSize:e,horizontalPixelRatio:i}){let s;if(null===this.Ev||null===this.Li||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;let n=Math.max(1,Math.floor(this.ap().C*i));s=this.qv?e.width-n:0,t.fillRect(s,0,n,e.height)}wp(t){if(null===this.Ev||null===this.Li)return;let e=this.Li.Ha(),i=this.Li.W(),s=this.ap(),n=this.qv?this.Ev.width-s.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:r,verticalPixelRatio:h})=>{t.fillStyle=i.borderColor;let l=Math.max(1,Math.floor(h)),o=Math.floor(.5*h),a=Math.round(s.T*r);for(let i of(t.beginPath(),e))t.rect(Math.floor(n*r),Math.round(i.Ea*h)-o,a,l);t.fill()}),t.useMediaCoordinateSpace(({context:t})=>{var r;t.font=this._p(),t.fillStyle=null!==(r=i.textColor)&&void 0!==r?r:this.ko.textColor,t.textAlign=this.qv?"right":"left",t.textBaseline="middle";let h=this.qv?Math.round(n-s.A):Math.round(n+s.T+s.A),l=e.map(e=>this.Fv.Mi(t,e.so));for(let i=e.length;i--;){let s=e[i];t.fillText(s.so,h,s.Ea+l[i])}})}pp(){if(null===this.Ev||null===this.Li)return;let t=[],e=this.Li.Uo().slice(),i=this.tn.fp(),s=this.ap();this.Li===i.pr()&&this.tn.fp().Uo().forEach(t=>{i.vr(t)&&e.push(t)});let n=this.Li;e.forEach(e=>{e.Rn(i,n).forEach(e=>{e.Oi(null),e.Bi()&&t.push(e)})}),t.forEach(t=>t.Oi(t.ki())),this.Li.W().alignLabels&&this.yp(t,s)}yp(t,e){if(null===this.Ev)return;let i=this.Ev.height/2,s=t.filter(t=>t.ki()<=i),n=t.filter(t=>t.ki()>i);for(let i of(s.sort((t,e)=>e.ki()-t.ki()),n.sort((t,e)=>t.ki()-e.ki()),t)){let t=Math.floor(i.At(e)/2),s=i.ki();s>-t&&s<t&&i.Oi(t),s>this.Ev.height-t&&s<this.Ev.height+t&&i.Oi(this.Ev.height-t)}i5(s,1,this.Ev.height,e),i5(n,-1,this.Ev.height,e)}gp(t){if(null===this.Ev)return;let e=this.up(),i=this.ap(),s=this.qv?"right":"left";e.forEach(e=>{e.Ai()&&e.gt(I(this.Li)).X(t,i,this.Fv,s)})}Mp(t){if(null===this.Ev||null===this.Li)return;let e=this.tn.$v().$t(),i=[],s=this.tn.fp(),n=e.Zc().Rn(s,this.Li);n.length&&i.push(n);let r=this.ap(),h=this.qv?"right":"left";i.forEach(e=>{e.forEach(e=>{e.gt(I(this.Li)).X(t,r,this.Fv,h)})})}kp(t){this.Kv.style.cursor=1===t?"ns-resize":"default"}fo(){let t=this.op();this.Wv<t&&this.tn.$v().$t().Kl(),this.Wv=t}_p(){return tc(this.ko.fontSize,this.ko.fontFamily)}}function i4(t,e){var i,s;return null!==(s=null===(i=t.ua)||void 0===i?void 0:i.call(t,e))&&void 0!==s?s:[]}function i9(t,e){var i,s;return null!==(s=null===(i=t.Pn)||void 0===i?void 0:i.call(t,e))&&void 0!==s?s:[]}function i8(t,e){var i,s;return null!==(s=null===(i=t.Ji)||void 0===i?void 0:i.call(t,e))&&void 0!==s?s:[]}function i7(t,e){var i,s;return null!==(s=null===(i=t.aa)||void 0===i?void 0:i.call(t,e))&&void 0!==s?s:[]}class st{constructor(t,e){this.Ev=s({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new te,this.Op=new te,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||null===this.Np||this.$i().Uh()},this.Uv=()=>{this.jv||null===this.Np||this.$i().Uh()},this.Qd=t,this.Np=e,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";let i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(i),this.Gv=iK(i,s({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);let n=this.Gv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jv=iK(i,s({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);let r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new iJ(this.Jv.canvasElement,this,{ev:()=>null===this.Ip&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>null===this.Ip&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){null!==this.Cp&&this.Cp.S(),null!==this.Tp&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),iX(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),iX(this.Gv.canvasElement),this.Gv.dispose(),null!==this.Np&&this.Np.W_().p(this),this.hp.S()}fp(){return I(this.Np)}qp(t){var e,i;null!==this.Np&&this.Np.W_().p(this),this.Np=t,null!==this.Np&&this.Np.W_().l(st.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=null!==(e=this.Pp)&&void 0!==e?e:new iU(this.Wp,this.Qd),this.Pp.bt()):(null===(i=this.Pp)||void 0===i||i.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(null!==this.Np&&(this.Zp(),0!==this.$i().wt().length)){if(null!==this.Cp){let t=this.Np.R_();this.Cp.Gi(I(t))}if(null!==this.Tp){let t=this.Np.D_();this.Tp.Gi(I(t))}}}Xp(){null!==this.Cp&&this.Cp.bt(),null!==this.Tp&&this.Tp.bt()}M_(){return null!==this.Np?this.Np.M_():0}x_(t){this.Np&&this.Np.x_(t)}Qf(t){if(!this.Np)return;this.Kp();let e=t.localX,i=t.localY;this.Gp(e,i,t)}bv(t){this.Kp(),this.Jp(),this.Gp(t.localX,t.localY,t)}tv(t){var e;if(!this.Np)return;this.Kp();let i=t.localX,s=t.localY;this.Gp(i,s,t);let n=this.wr(i,s);this.Qd.Qp(null!==(e=null==n?void 0:n.Lv)&&void 0!==e?e:null),this.$i().jc(n&&{Hc:n.Hc,Iv:n.Iv})}dv(t){null!==this.Np&&(this.Kp(),this.tm(t))}qf(t){null!==this.Np&&this.im(this.Op,t)}jf(t){this.qf(t)}av(t){this.Kp(),this.nm(t),this.Gp(t.localX,t.localY,t)}cv(t){null!==this.Np&&(this.Kp(),this.Ap=!1,this.sm(t))}uv(t){null!==this.Np&&this.tm(t)}Rv(t){if(this.Ap=!0,null===this.Ip){let e={x:t.localX,y:t.localY};this.rm(e,e,t)}}Pv(t){null!==this.Np&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(t,e){if(!this.Qd.W().handleScale.pinch)return;let i=5*(e-this.Bp);this.Bp=e,this.$i().Qc(t.nt,i)}pv(t){this.Ap=!1,this.zp=null!==this.Ip,this.Jp();let e=this.$i().Zc();null!==this.Ip&&e.yt()&&(this.Lp={x:e.Yt(),y:e.Zt()},this.Ip={x:t.localX,y:t.localY})}hv(t){if(null===this.Np)return;let e=t.localX,i=t.localY;if(null===this.Ip)this.nm(t);else{this.zp=!1;let s=I(this.Lp),n=s.x+(e-this.Ip.x),r=s.y+(i-this.Ip.y);this.Gp(n,r,t)}}_v(t){0===this.$v().W().trackingMode.exitMode&&(this.zp=!0),this.om(),this.sm(t)}wr(t,e){let i=this.Np;return null===i?null:function(t,e,i){let s=t.Uo(),n=function(t,e,i){var s,n,r,h;let l,o;for(let a of t)for(let t of null!==(n=null===(s=a.va)||void 0===s?void 0:s.call(a,e,i))&&void 0!==n?n:[])r=t.zOrder,(h=null==l?void 0:l.zOrder)&&("top"!==r||"top"===h)&&("normal"!==r||"bottom"!==h)||(l=t,o=a);return l&&o?{zv:l,Hc:o}:null}(s,e,i);if("top"===(null==n?void 0:n.zv.zOrder))return i2(n);for(let r of s){if(n&&n.Hc===r&&"bottom"!==n.zv.zOrder&&!n.zv.isBackground)return i2(n);let s=function(t,e,i){for(let s of t){let t=s.gt();if(null!==t&&t.wr){let n=t.wr(e,i);if(null!==n)return{Bv:s,Iv:n}}}return null}(r.Pn(t),e,i);if(null!==s)return{Hc:r,Bv:s.Bv,Iv:s.Iv};if(n&&n.Hc===r&&"bottom"!==n.zv.zOrder&&n.zv.isBackground)return i2(n)}return(null==n?void 0:n.zv)?i2(n):null}(i,t,e)}_m(t,e){I("left"===e?this.Cp:this.Tp).cp(s({width:t,height:this.Ev.height}))}um(){return this.Ev}cp(t){n(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Wp.style.width=t.width+"px",this.Wp.style.height=t.height+"px")}dm(){let t=I(this.Np);for(let e of(t.P_(t.R_()),t.P_(t.D_()),t.Ba()))if(t.vr(e)){let i=e.Dt();null!==i&&t.P_(i),e.Vn()}}xp(){return this.Gv.bitmapSize}Sp(t,e,i){let s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}vp(t){if(0===t||null===this.Np)return;if(t>1&&this.dm(),null!==this.Cp&&this.Cp.vp(t),null!==this.Tp&&this.Tp.vp(t),1!==t){this.Gv.applySuggestedBitmapSize();let t=z(this.Gv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.mp(t)}),this.Np&&(this.fm(t,i4),this.vm(t),this.pm(t),this.fm(t,i9),this.fm(t,i8)))}this.Jv.applySuggestedBitmapSize();let e=z(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)}),this.bm(e),this.fm(e,i7))}wm(){return this.Cp}gm(){return this.Tp}bp(t,e){this.fm(t,e)}Fp(){null!==this.Np&&this.Np.W_().p(this),this.Np=null}tm(t){this.im(this.Vp,t)}im(t,e){let i=e.localX,s=e.localY;t.M()&&t.m(this.$i().St().Nu(i),{x:i,y:s},e)}mp({context:t,bitmapSize:e}){let{width:i,height:s}=e,n=this.$i(),r=n.q(),h=n.bd();r===h?tx(t,0,0,i,s,h):tC(t,0,0,i,s,r,h)}vm(t){let e=I(this.Np).j_().qh().gt();null!==e&&e.X(t,!1)}pm(t){let e=this.$i().Yc();this.Mm(t,i9,iH,e),this.Mm(t,i9,iq,e)}bm(t){this.Mm(t,i9,iq,this.$i().Zc())}fm(t,e){let i=I(this.Np).Uo();for(let s of i)this.Mm(t,e,iH,s);for(let s of i)this.Mm(t,e,iq,s)}Mm(t,e,i,s){let n=I(this.Np),r=n.$t().Wc(),h=null!==r&&r.Hc===s,l=null!==r&&h&&void 0!==r.Iv?r.Iv.Mr:void 0;iG(e,e=>i(e,t,h,l),s,n)}Zp(){if(null===this.Np)return;let t=this.Qd,e=this.Np.R_().W().visible,i=this.Np.D_().W().visible;e||null===this.Cp||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),i||null===this.Tp||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);let s=t.$t().ud();e&&null===this.Cp&&(this.Cp=new i6(this,t.W(),s,"left"),this.jp.appendChild(this.Cp.lp())),i&&null===this.Tp&&(this.Tp=new i6(this,t.W(),s,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(t){return t.Dv&&this.Ap||null!==this.Ip}Sm(t){return Math.max(0,Math.min(t,this.Ev.width-1))}km(t){return Math.max(0,Math.min(t,this.Ev.height-1))}Gp(t,e,i){this.$i().ld(this.Sm(t),this.km(e),i,I(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(t,e,i){this.Ip=t,this.zp=!1,this.Gp(e.x,e.y,i);let s=this.$i().Zc();this.Lp={x:s.Yt(),y:s.Zt()}}$i(){return this.Qd.$t()}sm(t){if(!this.Dp)return;let e=this.$i(),i=this.fp();if(e.z_(i,i.vn()),this.Rp=null,this.Dp=!1,e.ed(),null!==this.Ep){let t=performance.now(),i=e.St();this.Ep.Vr(i.Hu(),t),this.Ep.Qu(t)||e.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)I(document.activeElement).blur();else{let t=document.getSelection();null!==t&&t.removeAllRanges()}this.Np.vn().Ni()||this.$i().St().Ni()}}nm(t){if(null===this.Np)return;let e=this.$i(),i=e.St();if(i.Ni())return;let s=this.Qd.W(),n=s.handleScroll,r=s.kineticScroll;if((!n.pressedMouseMove||t.Dv)&&(!n.horzTouchDrag&&!n.vertTouchDrag||!t.Dv))return;let h=this.Np.vn(),l=performance.now();if(null!==this.Rp||this.xm(t)||(this.Rp={x:t.clientX,y:t.clientY,Od:l,ym:t.localX,Cm:t.localY}),null!==this.Rp&&!this.Dp&&(this.Rp.x!==t.clientX||this.Rp.y!==t.clientY)){if(t.Dv&&r.touch||!t.Dv&&r.mouse){let t=i.le();this.Ep=new iI(.2/t,7/t,.997,15/t),this.Ep.Yd(i.Hu(),this.Rp.Od)}else this.Ep=null;h.Ni()||e.A_(this.Np,h,t.localY),e.nd(t.localX),this.Dp=!0}this.Dp&&(h.Ni()||e.I_(this.Np,h,t.localY),e.sd(t.localX),null!==this.Ep&&this.Ep.Yd(i.Hu(),l))}}class se{constructor(t,e,i,n,r){this.ft=!0,this.Ev=s({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv="left"===t,this.Oc=i.ud,this.cn=e,this.Tm=n,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=iK(this.Kv,s({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),iX(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(t){n(this.Ev,t)||(this.Ev=t,this.Gv.resizeCanvasElement(t),this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`,this.ft=!0)}vp(t){if(t<3&&!this.ft||0===this.Ev.width||0===this.Ev.height)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();let e=z(this.Gv);null!==e&&e.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t)})}xp(){return this.Gv.bitmapSize}Sp(t,e,i){let s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}Ie({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.Tm())return;t.fillStyle=this.cn.timeScale.borderColor;let n=Math.floor(this.Oc.W().C*i),r=Math.floor(this.Oc.W().C*s),h=this.qv?e.width-n:0;t.fillRect(h,0,n,r)}mp({context:t,bitmapSize:e}){tx(t,0,0,e.width,e.height,this.Pm())}}function si(t){return e=>{var i,s;return null!==(s=null===(i=e.fa)||void 0===i?void 0:i.call(e,t))&&void 0!==s?s:[]}}let ss=si("normal"),sn=si("top"),sr=si("bottom");class sh{constructor(t,e){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=s({width:0,height:0}),this.Om=new te,this.Fv=new ec(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=t,this.q_=e,this.cn=t.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=iK(this.Im,s({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);let i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=iK(this.Im,s({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);let n=this.Jv.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new iJ(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),null!==this.Rm&&this.Rm.S(),null!==this.Dm&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),iX(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),iX(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(t){if(this.Vm)return;this.Vm=!0;let e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.Jc(t.localX)}pv(t){this.bv(t)}wv(){let t=this.Qd.$t();!t.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&t.hd())}av(t){let e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.rd(t.localX)}hv(t){this.av(t)}cv(){this.Vm=!1;let t=this.Qd.$t();t.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||t.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(t,e,i){n(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`,this.Om.m(t)),null!==this.Rm&&this.Rm.cp(s({width:e,height:t.height})),null!==this.Dm&&this.Dm.cp(s({width:i,height:t.height}))}Wm(){let t=this.jm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(t,e,i){let s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,i)}vp(t){if(0===t)return;if(1!==t){this.Gv.applySuggestedBitmapSize();let e=z(this.Gv);null!==e&&(e.useBitmapCoordinateSpace(t=>{this.mp(t),this.Ie(t),this.$m(e,sr)}),this.wp(e),this.$m(e,ss)),null!==this.Rm&&this.Rm.vp(t),null!==this.Dm&&this.Dm.vp(t)}this.Jv.applySuggestedBitmapSize();let e=z(this.Jv);null!==e&&(e.useBitmapCoordinateSpace(({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],e),this.$m(e,sn))}$m(t,e){let i=this.Qd.$t().wt();for(let s of i)iG(e,e=>iH(e,t,!1,void 0),s,void 0);for(let s of i)iG(e,e=>iq(e,t,!1,void 0),s,void 0)}mp({context:t,bitmapSize:e}){tx(t,0,0,e.width,e.height,this.Qd.$t().bd())}Ie({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Qd.W().timeScale.borderVisible){t.fillStyle=this.qm();let s=Math.max(1,Math.floor(this.jm().C*i));t.fillRect(0,0,e.width,s)}}wp(t){let e=this.Qd.$t().St(),i=e.Ha();if(!i||0===i.length)return;let s=this.q_.maxTickMarkWeight(i),n=this.jm(),r=e.W();r.borderVisible&&r.ticksVisible&&t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:e,verticalPixelRatio:s})=>{t.strokeStyle=this.qm(),t.fillStyle=this.qm();let r=Math.max(1,Math.floor(e)),h=Math.floor(.5*e);t.beginPath();let l=Math.round(n.T*s);for(let s=i.length;s--;){let n=Math.round(i[s].coord*e);t.rect(n-h,0,r,l)}t.fill()}),t.useMediaCoordinateSpace(({context:t})=>{let e=n.C+n.T+n.L+n.P/2;for(let n of(t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.$(),t.font=this._p(),i))if(n.weight<s){let i=n.needAlignCoordinate?this.Ym(t,n.coord,n.label):n.coord;t.fillText(n.label,i,e)}for(let n of(this.Qd.W().timeScale.allowBoldLabels&&(t.font=this.Zm()),i))if(n.weight>=s){let i=n.needAlignCoordinate?this.Ym(t,n.coord,n.label):n.coord;t.fillText(n.label,i,e)}})}Ym(t,e,i){let s=this.Fv.xi(t,i),n=Math.floor(e-s/2)+.5;return n<0?e+=Math.abs(0-n):n+s>this.Ev.width&&(e-=Math.abs(this.Ev.width-(n+s))),e}Um(t,e){let i=this.jm();for(let s of t)for(let t of s.Qi())t.gt().X(e,i)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return tc(this.j(),this.cn.fontFamily)}Zm(){return tc(this.j(),this.cn.fontFamily,"bold")}jm(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new ec,Hm:0});let t=this.k,e=this._p();if(t.R!==e){let i=this.j();t.P=i,t.R=e,t.L=3*i/12,t.B=3*i/12,t.ji=9*i/12,t.N=0,t.Hm=4*i/12,t.Wi.nr()}return this.k}kp(t){this.Kv.style.cursor=1===t?"ew-resize":"default"}zm(){let t=this.Qd.$t(),e=t.W();e.leftPriceScale.visible||null===this.Rm||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),e.rightPriceScale.visible||null===this.Dm||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);let i={ud:this.Qd.$t().ud()},s=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,n=()=>t.bd();e.leftPriceScale.visible&&null===this.Rm&&(this.Rm=new se("left",e,i,s,n),this.Bm.appendChild(this.Rm.lp())),e.rightPriceScale.visible&&null===this.Dm&&(this.Dm=new se("right",e,i,s,n),this.Am.appendChild(this.Dm.lp()))}}let sl=!!iB&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!iB&&((null===(E=null==navigator?void 0:navigator.userAgentData)||void 0===E?void 0:E.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class so{constructor(t,e,i){var s;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new te,this.Op=new te,this.Rc=new te,this.ib=null,this.nb=null,this.Jd=t,this.cn=e,this.q_=i,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(s=this.Xd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),sa(this.cn)&&this.hb(!0),this.$i=new iM(this.Vc.bind(this),this.cn,i),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new sh(this,this.q_),this.sb.appendChild(this.ab.lp());let n=e.autoSize&&this.ob(),r=this.cn.width,h=this.cn.height;if(n||0===r||0===h){let e=t.getBoundingClientRect();r=r||e.width,h=h||e.height}this._b(r,h),this.ub(),t.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){for(let t of(this.hb(!1),0!==this.Km&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S(),this.Xm))this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S();this.Xm=[],I(this.ab).S(),null!==this.Xd.parentElement&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(t,e,i=!1){if(this.ho===e&&this.__===t)return;let n=function(t){let e=Math.floor(t.width),i=Math.floor(t.height);return s({width:e-e%2,height:i-i%2})}(s({width:t,height:e}));this.ho=n.height,this.__=n.width;let r=this.ho+"px",h=this.__+"px";I(this.Xd).style.height=r,I(this.Xd).style.width=h,this.sb.style.height=r,this.sb.style.width=h,i?this.mb(tD.es(),performance.now()):this.$i.Kl()}vp(t){void 0===t&&(t=tD.es());for(let e=0;e<this.Xm.length;e++)this.Xm[e].vp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.ab.vp(t.jn())}$h(t){let e=sa(this.cn);this.$i.$h(t);let i=sa(this.cn);i!==e&&this.hb(i),this.cb(),this.bb(t)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){null!==this.Qm&&(this.mb(this.Qm,performance.now()),this.Qm=null);let t=this.gb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;let i=I(e.getContext("2d"));return this.gb(i),e}Mb(t){return("left"!==t||this.xb())&&("right"!==t||this.Sb())&&0!==this.Xm.length?I("left"===t?this.Xm[0].wm():this.Xm[0].gm()).dp():0}kb(){return this.cn.autoSize&&null!==this.ib}yb(){return this.Xd}Qp(t){this.nb=t,this.nb?this.yb().style.setProperty("cursor",t):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return F(this.Xm[0]).um()}bb(t){(void 0!==t.autoSize||!this.ib||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.ib&&this.ob(),!1===t.autoSize&&null!==this.ib&&this.pb(),t.autoSize||void 0===t.width&&void 0===t.height||this._b(t.width||this.__,t.height||this.ho))}gb(t){let e=0,i=0,n=this.Xm[0],r=(e,i)=>{let s=0;for(let n=0;n<this.Xm.length;n++){let r=this.Xm[n],h=I("left"===e?r.wm():r.gm()),l=h.xp();null!==t&&h.Sp(t,i,s),s+=l.height}};this.xb()&&(r("left",0),e+=I(n.wm()).xp().width);for(let s=0;s<this.Xm.length;s++){let n=this.Xm[s],r=n.xp();null!==t&&n.Sp(t,e,i),i+=r.height}e+=n.xp().width,this.Sb()&&(r("right",e),e+=I(n.gm()).xp().width);let h=(e,i,s)=>{I("left"===e?this.ab.Lm():this.ab.Em()).Sp(I(t),i,s)};if(this.cn.timeScale.visible){let e=this.ab.xp();if(null!==t){let s=0;this.xb()&&(h("left",s,i),s=I(n.wm()).xp().width),this.ab.Sp(t,s,i),s+=e.width,this.Sb()&&h("right",s,i)}i+=e.height}return s({width:e,height:i})}Pb(){var t,e,i;let n=0,r=0,h=0;for(let t of this.Xm)this.xb()&&(r=Math.max(r,I(t.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(h=Math.max(h,I(t.gm()).op(),this.cn.rightPriceScale.minimumWidth)),n+=t.M_();r=(e=r)+e%2,h=(i=h)+i%2;let l=this.__,o=this.ho,a=Math.max(l-r-h,0),u=this.cn.timeScale.visible,c=u?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0,d=0+(c=(t=c)+t%2),f=o<d?0:o-d,p=f/n,m=0;for(let t=0;t<this.Xm.length;++t){let e=this.Xm[t];e.qp(this.$i.qc()[t]);let i=0;i=Math.max(t===this.Xm.length-1?f-m:Math.round(e.M_()*p),2),m+=i,e.cp(s({width:a,height:i})),this.xb()&&e._m(r,"left"),this.Sb()&&e._m(h,"right"),e.fp()&&this.$i.Kc(e.fp(),i)}this.ab.Fm(s({width:u?a:0,height:c}),u?r:0,u?h:0),this.$i.S_(a),this.Gm!==r&&(this.Gm=r),this.Jm!==h&&(this.Jm=h)}hb(t){t?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return sl?1/window.devicePixelRatio:1}rb(t){if(!(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel))return;let e=this.Rb(t),i=e*t.deltaX/100,s=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==s&&this.cn.handleScale.mouseWheel){let e=t.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(e,Math.sign(s)*Math.min(1,Math.abs(s)))}0!==i&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*i)}mb(t,e){var i;let s=t.jn();3===s&&this.Db(),3!==s&&2!==s||(this.Vb(t),this.Ob(t,e),this.ab.bt(),this.Xm.forEach(t=>{t.Xp()}),3===(null===(i=this.Qm)||void 0===i?void 0:i.jn())&&(this.Qm.ts(t),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,e),t=this.Qm,this.Qm=null)),this.vp(t)}Ob(t,e){for(let i of t.Qn())this.ns(i,e)}Vb(t){let e=this.$i.qc();for(let i=0;i<e.length;i++)t.Hn(i).Wn&&e[i].N_()}ns(t,e){let i=this.$i.St();switch(t.qn){case 0:i.hc();break;case 1:i.lc(t.Vt);break;case 2:i.Gn(t.Vt);break;case 3:i.Jn(t.Vt);break;case 4:i.qu();break;case 5:t.Vt.Qu(e)||i.Jn(t.Vt.tc(e))}}Vc(t){null!==this.Qm?this.Qm.ts(t):this.Qm=t,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(t=>{if(this.tb=!1,this.Km=0,null!==this.Qm){let e=this.Qm;for(let i of(this.Qm=null,this.mb(e,t),e.Qn()))if(5===i.qn&&!i.Vt.Qu(t)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){let t=this.$i.qc(),e=t.length,i=this.Xm.length;for(let t=e;t<i;t++){let t=F(this.Xm.pop());this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S()}for(let s=i;s<e;s++){let e=new st(this,t[s]);e.lm().l(this.Bb.bind(this),this),e.am().l(this.Ab.bind(this),this),this.Xm.push(e),this.sb.insertBefore(e.lp(),this.ab.lp())}for(let i=0;i<e;i++){let e=t[i],s=this.Xm[i];s.fp()!==e?s.qp(e):s.Up()}this.cb(),this.Pb()}Ib(t,e,i){var s;let n;let r=new Map;if(null!==t&&this.$i.wt().forEach(e=>{let i=e.In().ll(t);null!==i&&r.set(e,i)}),null!==t){let e=null===(s=this.$i.St().Ui(t))||void 0===s?void 0:s.originalTime;void 0!==e&&(n=e)}let h=this.$t().Wc();return{zb:n,ee:null!=t?t:void 0,Lb:null!=e?e:void 0,Eb:null!==h&&h.Hc instanceof e0?h.Hc:void 0,Nb:r,Fb:null!==h&&void 0!==h.Iv?h.Iv.gr:void 0,Wb:null!=i?i:void 0}}Bb(t,e,i){this.Vp.m(()=>this.Ib(t,e,i))}Ab(t,e,i){this.Op.m(()=>this.Ib(t,e,i))}lb(t,e,i){this.Rc.m(()=>this.Ib(t,e,i))}cb(){let t=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=t}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(t=>{let e=t.find(t=>t.target===this.Jd);e&&this._b(e.contentRect.width,e.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){null!==this.ib&&this.ib.disconnect(),this.ib=null}}function sa(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function su(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)0>e.indexOf(s[n])&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(i[s[n]]=t[s[n]])}return i}function sc(t,e,i,s){let n=i.value,r={ee:e,ot:t,Vt:[n,n,n,n],zb:s};return void 0!==i.color&&(r.V=i.color),r}function sd(t,e,i,s){let n=i.value,r={ee:e,ot:t,Vt:[n,n,n,n],zb:s};return void 0!==i.lineColor&&(r.lt=i.lineColor),void 0!==i.topColor&&(r.Ps=i.topColor),void 0!==i.bottomColor&&(r.Rs=i.bottomColor),r}function sf(t,e,i,s){let n=i.value,r={ee:e,ot:t,Vt:[n,n,n,n],zb:s};return void 0!==i.topLineColor&&(r.Re=i.topLineColor),void 0!==i.bottomLineColor&&(r.De=i.bottomLineColor),void 0!==i.topFillColor1&&(r.ke=i.topFillColor1),void 0!==i.topFillColor2&&(r.ye=i.topFillColor2),void 0!==i.bottomFillColor1&&(r.Ce=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(r.Te=i.bottomFillColor2),r}function sp(t,e,i,s){let n={ee:e,ot:t,Vt:[i.open,i.high,i.low,i.close],zb:s};return void 0!==i.color&&(n.V=i.color),n}function sm(t,e,i,s){let n={ee:e,ot:t,Vt:[i.open,i.high,i.low,i.close],zb:s};return void 0!==i.color&&(n.V=i.color),void 0!==i.borderColor&&(n.Ot=i.borderColor),void 0!==i.wickColor&&(n.Xh=i.wickColor),n}function sv(t,e,i,s,n){let r=F(n)(i),h=r[r.length-1],{time:l,color:o}=i;return{ee:e,ot:t,Vt:[h,Math.max(...r),Math.min(...r),h],zb:s,$e:su(i,["time","color"]),V:o}}function sg(t){return void 0!==t.Vt}function sy(t,e){return void 0!==e.customValues&&(t.jb=e.customValues),t}function sb(t){return(e,i,s,n,r,h)=>(h?h(s):void 0===s.open&&void 0===s.value)?sy({ot:e,ee:i,zb:n},s):sy(t(e,i,s,n,r),s)}function sw(t){return({Candlestick:sb(sm),Bar:sb(sp),Area:sb(sd),Baseline:sb(sf),Histogram:sb(sc),Line:sb(sc),Custom:sb(sv)})[t]}function sx(t){return{ee:0,Hb:new Map,la:t}}function sS(t,e){if(void 0!==t&&0!==t.length)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function sM(t){let e;return t.forEach(t=>{void 0===e&&(e=t.zb)}),F(e)}class sC{constructor(t){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=t}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(t,e){let i=0!==this.qb.size,s=!1,n=this.Yb.get(t);if(void 0!==n){if(1===this.Yb.size)i=!1,s=!0,this.qb.clear();else for(let e of this.Xb)e.pointData.Hb.delete(t)&&(s=!0)}let r=[];if(0!==e.length){let i=e.map(t=>t.time),n=this.q_.createConverterToInternalObj(e),h=sw(t.Qh()),l=t.Ca(),o=t.Ta();r=e.map((e,r)=>{let a=n(e.time),u=this.q_.key(a),c=this.qb.get(u);void 0===c&&(c=sx(a),this.qb.set(u,c),s=!0);let d=h(a,c.ee,e,i[r],l,o);return c.Hb.set(t,d),d})}i&&this.Gb(),this.Jb(t,r);let h=-1;if(s){let t=[];this.qb.forEach(e=>{t.push({timeWeight:0,time:e.la,pointData:e,originalTime:sM(e.Hb)})}),t.sort((t,e)=>this.q_.key(t.time)-this.q_.key(e.time)),h=this.Qb(t)}return this.tw(t,h,function(t,e,i){let s=sS(t,i),n=sS(e,i);if(void 0!==s&&void 0!==n)return{ta:s.Ub>=n.Ub&&s.$b>=n.$b}}(this.Yb.get(t),n,this.q_))}vd(t){return this.Kb(t,[])}iw(t,e){void 0===e.zb&&(e.zb=e.time),this.q_.preprocessData(e);let i=this.q_.createConverterToInternalObj([e])(e.time),s=this.Zb.get(t);if(void 0!==s&&this.q_.key(i)<this.q_.key(s))throw Error(`Cannot update oldest data, last time=${s}, new time=${i}`);let n=this.qb.get(this.q_.key(i)),r=void 0===n;void 0===n&&(n=sx(i),this.qb.set(this.q_.key(i),n));let h=sw(t.Qh()),l=t.Ca(),o=t.Ta(),a=h(i,n.ee,e,e.zb,l,o);n.Hb.set(t,a),this.nw(t,a);let u={ta:sg(a)};if(!r)return this.tw(t,-1,u);let c={timeWeight:0,time:n.la,pointData:n,originalTime:sM(n.Hb)},d=tZ(this.Xb,this.q_.key(c.time),(t,e)=>this.q_.key(t.time)<e);this.Xb.splice(d,0,c);for(let t=d;t<this.Xb.length;++t)sE(this.Xb[t].pointData,t);return this.q_.fillWeightsForPoints(this.Xb,d),this.tw(t,d,u)}nw(t,e){let i=this.Yb.get(t);void 0===i&&(i=[],this.Yb.set(t,i));let s=0!==i.length?i[i.length-1]:null;null===s||this.q_.key(e.ot)>this.q_.key(s.ot)?sg(e)&&i.push(e):sg(e)?i[i.length-1]=e:i.splice(-1,1),this.Zb.set(t,e.ot)}Jb(t,e){0!==e.length?(this.Yb.set(t,e.filter(sg)),this.Zb.set(t,e[e.length-1].ot)):(this.Yb.delete(t),this.Zb.delete(t))}Gb(){for(let t of this.Xb)0===t.pointData.Hb.size&&this.qb.delete(this.q_.key(t.time))}Qb(t){let e=-1;for(let i=0;i<this.Xb.length&&i<t.length;++i){let s=this.Xb[i],n=t[i];if(this.q_.key(s.time)!==this.q_.key(n.time)){e=i;break}n.timeWeight=s.timeWeight,sE(n.pointData,i)}if(-1===e&&this.Xb.length!==t.length&&(e=Math.min(this.Xb.length,t.length)),-1===e)return -1;for(let i=e;i<t.length;++i)sE(t[i].pointData,i);return this.q_.fillWeightsForPoints(t,e),this.Xb=t,e}sw(){if(0===this.Yb.size)return null;let t=0;return this.Yb.forEach(e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].ee))}),t}tw(t,e,i){let s={ew:new Map,St:{Eu:this.sw()}};if(-1!==e)this.Yb.forEach((e,n)=>{s.ew.set(n,{$e:e,rw:n===t?i:void 0})}),this.Yb.has(t)||s.ew.set(t,{$e:[],rw:i}),s.St.hw=this.Xb,s.St.lw=e;else{let e=this.Yb.get(t);s.ew.set(t,{$e:e||[],rw:i})}return s}}function sE(t,e){t.ee=e,t.Hb.forEach(t=>{t.ee=e})}function sT(t){let e={value:t.Vt[3],time:t.zb};return void 0!==t.jb&&(e.customValues=t.jb),e}function sP(t){let e=sT(t);return void 0!==t.V&&(e.color=t.V),e}function s_(t){let e=sT(t);return void 0!==t.lt&&(e.lineColor=t.lt),void 0!==t.Ps&&(e.topColor=t.Ps),void 0!==t.Rs&&(e.bottomColor=t.Rs),e}function sk(t){let e=sT(t);return void 0!==t.Re&&(e.topLineColor=t.Re),void 0!==t.De&&(e.bottomLineColor=t.De),void 0!==t.ke&&(e.topFillColor1=t.ke),void 0!==t.ye&&(e.topFillColor2=t.ye),void 0!==t.Ce&&(e.bottomFillColor1=t.Ce),void 0!==t.Te&&(e.bottomFillColor2=t.Te),e}function sz(t){let e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return void 0!==t.jb&&(e.customValues=t.jb),e}function sV(t){let e=sz(t);return void 0!==t.V&&(e.color=t.V),e}function sL(t){let e=sz(t),{V:i,Ot:s,Xh:n}=t;return void 0!==i&&(e.color=i),void 0!==s&&(e.borderColor=s),void 0!==n&&(e.wickColor=n),e}function sR(t){return({Area:s_,Line:sP,Baseline:sk,Histogram:sP,Bar:sV,Candlestick:sL,Custom:sD})[t]}function sD(t){let e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}let sA={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},sN={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},s$={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:tu,attributionLogo:!0},sO={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},sB={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},sj={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:tu,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function sW(){return{width:0,height:0,autoSize:!1,layout:s$,crosshair:sA,grid:sN,overlayPriceScales:Object.assign({},sO),leftPriceScale:Object.assign(Object.assign({},sO),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},sO),{visible:!0}),timeScale:sB,watermark:sj,localization:{locale:iB?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class sF{constructor(t,e){this.aw=t,this.ow=e}applyOptions(t){this.aw.$t().$c(this.ow,t)}options(){return this.Li().W()}width(){return tR(this.ow)?this.aw.Mb(this.ow):0}Li(){return I(this.aw.$t().Uc(this.ow)).Dt}}function sI(t,e,i){let s=Object.assign({time:e},su(t,["time","originalTime"]));return void 0!==i&&(s.originalTime=i),s}let sU={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class sK{constructor(t){this.Nh=t}applyOptions(t){this.Nh.$h(t)}options(){return this.Nh.W()}_w(){return this.Nh}}class sX{constructor(t,e,i,s,n){this.uw=new te,this.Es=t,this.cw=e,this.dw=i,this.q_=n,this.fw=s}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(t){let e=this.Es.Ct();return null===e?null:this.Es.Dt().Rt(t,e.Vt)}coordinateToPrice(t){let e=this.Es.Ct();return null===e?null:this.Es.Dt().pn(t,e.Vt)}barsInLogicalRange(t){if(null===t)return null;let e=new iv(new id(t.from,t.to)).lu(),i=this.Es.In();if(i.Ni())return null;let s=i.ll(e.Os(),1),n=i.ll(e.ui(),-1),r=I(i.el()),h=I(i.An());if(null!==s&&null!==n&&s.ee>n.ee)return{barsBefore:t.from-r,barsAfter:h-t.to};let l={barsBefore:null===s||s.ee===r?t.from-r:s.ee-r,barsAfter:null===n||n.ee===h?h-t.to:h-n.ee};return null!==s&&null!==n&&(l.from=s.zb,l.to=n.zb),l}setData(t){this.q_,this.Es.Qh(),this.cw.pw(this.Es,t),this.mw("full")}update(t){this.Es.Qh(),this.cw.bw(this.Es,t),this.mw("update")}dataByIndex(t,e){let i=this.Es.In().ll(t,e);return null===i?null:sR(this.seriesType())(i)}data(){let t=sR(this.seriesType());return this.Es.In().ne().map(e=>t(e))}subscribeDataChanged(t){this.uw.l(t)}unsubscribeDataChanged(t){this.uw.v(t)}setMarkers(t){this.q_;let e=t.map(t=>sI(t,this.q_.convertHorzItemToInternal(t.time),t.time));this.Es.na(e)}markers(){return this.Es.sa().map(t=>sI(t,t.originalTime,void 0))}applyOptions(t){this.Es.$h(t)}options(){return tl(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(t){let e=ti(tl(sU),t);return new sK(this.Es.ea(e))}removePriceLine(t){this.Es.ra(t._w())}seriesType(){return this.Es.Qh()}attachPrimitive(t){this.Es.ka(t),t.attached&&t.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(t){this.Es.ya(t),t.detached&&t.detached()}mw(t){this.uw.M()&&this.uw.m(t)}}class sH{constructor(t,e,i){this.ww=new te,this.mu=new te,this.Om=new te,this.$i=t,this.yl=t.St(),this.ab=e,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=i}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(t,e){e?this.yl.Ju(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){let t=this.yl.Vu();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){let e={from:this.q_.convertHorzItemToInternal(t.from),to:this.q_.convertHorzItemToInternal(t.to)},i=this.yl.Iu(e);this.$i.pd(i)}getVisibleLogicalRange(){let t=this.yl.Du();return null===t?null:{from:t.Os(),to:t.ui()}}setVisibleLogicalRange(t){W(t.from<=t.to,"The from index cannot be after the to index."),this.$i.pd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(t){let e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.yl.Ni()?null:this.yl.Nu(t)}timeToCoordinate(t){let e=this.q_.convertHorzItemToInternal(t),i=this.yl.Va(e,!1);return null===i?null:this.yl.It(i)}coordinateToTime(t){let e=this.$i.St(),i=e.Nu(t),s=e.Ui(i);return null===s?null:s.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(t){this.ww.l(t)}unsubscribeVisibleTimeRangeChange(t){this.ww.v(t)}subscribeVisibleLogicalRangeChange(t){this.mu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.mu.v(t)}subscribeSizeChange(t){this.Om.l(t)}unsubscribeSizeChange(t){this.Om.v(t)}applyOptions(t){this.yl.$h(t)}options(){return Object.assign(Object.assign({},tl(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(t){this.Om.m(t.width,t.height)}}function sq(t){return function(t){if(th(t.handleScale)){let e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){let{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;th(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),th(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}let e=t.handleScroll;th(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class sG{constructor(t,e,i){this.Sw=new Map,this.kw=new Map,this.yw=new te,this.Cw=new te,this.Tw=new te,this.Pw=new sC(e);let s=void 0===i?tl(sW()):ti(tl(sW()),sq(i));this.q_=e,this.aw=new so(t,s,e),this.aw.lm().l(t=>{this.yw.M()&&this.yw.m(this.Rw(t()))},this),this.aw.am().l(t=>{this.Cw.M()&&this.Cw.m(this.Rw(t()))},this),this.aw.Xc().l(t=>{this.Tw.M()&&this.Tw.m(this.Rw(t()))},this);let n=this.aw.$t();this.Dw=new sH(n,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(t,e,i){this.autoSizeActive()||this.aw._b(t,e,i)}addCustomSeries(t,e){let i=U(t),s=Object.assign(Object.assign({},$),i.defaultOptions());return this.Vw("Custom",s,e,i)}addAreaSeries(t){return this.Vw("Area",D,t)}addBaselineSeries(t){return this.Vw("Baseline",A,t)}addBarSeries(t){return this.Vw("Bar",L,t)}addCandlestickSeries(t={}){return void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor),this.Vw("Candlestick",V,t)}addHistogramSeries(t){return this.Vw("Histogram",N,t)}addLineSeries(t){return this.Vw("Line",R,t)}removeSeries(t){let e=F(this.Sw.get(t)),i=this.Pw.vd(e);this.aw.$t().vd(e),this.Ow(i),this.Sw.delete(t),this.kw.delete(e)}pw(t,e){this.Ow(this.Pw.Kb(t,e))}bw(t,e){this.Ow(this.Pw.iw(t,e))}subscribeClick(t){this.yw.l(t)}unsubscribeClick(t){this.yw.v(t)}subscribeCrosshairMove(t){this.Tw.l(t)}unsubscribeCrosshairMove(t){this.Tw.v(t)}subscribeDblClick(t){this.Cw.l(t)}unsubscribeDblClick(t){this.Cw.v(t)}priceScale(t){return new sF(this.aw,t)}timeScale(){return this.Dw}applyOptions(t){this.aw.$h(sq(t))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){let t=this.aw.Tb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,i){let s=this.Sw.get(i);if(void 0===s)return;let n=this.aw.$t().dr(s);null!==n&&this.aw.$t().ad(t,e,n)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(t,e,i={},s){var n;void 0!==(n=i.priceFormat)&&"custom"!==n.type&&void 0!==n.minMove&&void 0===n.precision&&(n.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8&&!(1e-8>Math.abs(Math.round(t)-t));e++)t*=10;return e}(n.minMove));let r=ti(tl(O),tl(e),i),h=this.aw.$t().dd(t,r,s),l=new sX(h,this,this,this,this.q_);return this.Sw.set(l,h),this.kw.set(h,l),l}Ow(t){let e=this.aw.$t();e._d(t.St.Eu,t.St.hw,t.St.lw),t.ew.forEach((t,e)=>e.J(t.$e,t.rw)),e.Wu()}Bw(t){return F(this.kw.get(t))}Rw(t){let e=new Map;t.Nb.forEach((t,i)=>{let s=i.Qh(),n=sR(s)(t);if("Custom"!==s)W(void 0!==n.open||void 0!==n.value);else{let t=i.Ta();W(!t||!1===t(n))}e.set(this.Bw(i),n)});let i=void 0!==t.Eb&&this.kw.has(t.Eb)?this.Bw(t.Eb):void 0;return{time:t.zb,logical:t.ee,point:t.Lb,hoveredSeries:i,hoveredObjectId:t.Fb,seriesData:e,sourceEvent:t.Wb}}}function sJ(t,e){return function(t,e,i){let s;if(tr(t)){let e=document.getElementById(t);W(null!==e,`Cannot find element in DOM with id=${t}`),s=e}else s=t;let n=new sG(s,e,i);return e.setOptions(n.options()),n}(t,new iO,iO.Id(e))}Object.assign(Object.assign({},O),$)},9099:function(t,e,i){i.d(e,{Ue:function(){return d}});let s=t=>{let e;let i=new Set,s=(t,s)=>{let n="function"==typeof t?t(e):t;if(!Object.is(n,e)){let t=e;e=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},e,n),i.forEach(i=>i(e,t))}},n=()=>e,r={setState:s,getState:n,getInitialState:()=>h,subscribe:t=>(i.add(t),()=>i.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},h=e=t(s,n,r);return r},n=t=>t?s(t):s;var r=i(2265),h=i(5006);let{useDebugValue:l}=r,{useSyncExternalStoreWithSelector:o}=h,a=!1,u=t=>t,c=t=>{"function"!=typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let e="function"==typeof t?n(t):t,i=(t,i)=>(function(t,e=u,i){i&&!a&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),a=!0);let s=o(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,i);return l(s),s})(e,t,i);return Object.assign(i,e),i},d=t=>t?c(t):c}}]);